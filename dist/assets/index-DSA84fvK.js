var Sl=Object.defineProperty;var is=i=>{throw TypeError(i)};var Al=(i,e,t)=>e in i?Sl(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var Ut=(i,e,t)=>Al(i,typeof e!="symbol"?e+"":e,t),Xi=(i,e,t)=>e.has(i)||is("Cannot "+t);var H=(i,e,t)=>(Xi(i,e,"read from private field"),t?t.call(i):e.get(i)),Tt=(i,e,t)=>e.has(i)?is("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),yt=(i,e,t,n)=>(Xi(i,e,"write to private field"),n?n.call(i,t):e.set(i,t),t),ct=(i,e,t)=>(Xi(i,e,"access private method"),t);var Ti=(i,e,t,n)=>({set _(o){yt(i,e,o,t)},get _(){return H(i,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();class Cl{constructor(e){this.adapters=e}async init(){console.log("🟢 Initializing WalletService");for(const e of this.adapters)if(console.log(`🔵 Trying adapter: ${e.name}`),await e.detect()){console.log(`🟢 Adapter ${e.name} detected`),this.active=e;return}else console.log(`🟡 Adapter ${e.name} not available`);throw new Error("No available wallet adapter")}async connect(){if(!this.active)throw new Error("No active wallet");console.log(`🟢 Connecting using ${this.active.name}`),await this.active.connect()}get name(){var e;return(e=this.active)==null?void 0:e.name}async getAccounts(){if(!this.active)throw new Error("No active wallet");return console.log("🔵 Fetching accounts"),await this.active.getAccounts()}async signAndSend(e){if(!this.active)throw new Error("No active wallet");console.log("🔵 Signing transaction");const t=await this.active.signTransaction(e);return console.log("🔵 Sending transaction"),await this.active.sendTransaction(t)}async signTransaction(e){if(!this.active)throw new Error("No active wallet");return console.log("🔵 Signing transaction only"),await this.active.signTransaction(e)}async getPublicKey(){if(!this.active)throw new Error("No active wallet");return await this.active.getPublicKey()}}async function Ol(i){const{silent:e=!1,timeout:t=3e3}=i||{};return new Promise(n=>{let o=!1;function s(){if(o)return;o=!0;const u=window.kadena;u&&u.isKadena&&typeof u.request=="function"?n(u):(e||console.error("Ecko Wallet not detected"),n(null))}window.kadena?s():(window.addEventListener("kadena#initialized",s,{once:!0}),setTimeout(s,t))})}var yr;function Pl(i){return{lang:(i==null?void 0:i.lang)??(yr==null?void 0:yr.lang),message:i==null?void 0:i.message,abortEarly:(i==null?void 0:i.abortEarly)??(yr==null?void 0:yr.abortEarly),abortPipeEarly:(i==null?void 0:i.abortPipeEarly)??(yr==null?void 0:yr.abortPipeEarly)}}var Zi;function Rl(i){return Zi==null?void 0:Zi.get(i)}var Qi;function Tl(i){return Qi==null?void 0:Qi.get(i)}var ea;function Il(i,e){var t;return(t=ea==null?void 0:ea.get(i))==null?void 0:t.get(e)}function Nl(i){var t,n;const e=typeof i;return e==="string"?`"${i}"`:e==="number"||e==="bigint"||e==="boolean"?`${i}`:e==="object"||e==="function"?(i&&((n=(t=Object.getPrototypeOf(i))==null?void 0:t.constructor)==null?void 0:n.name))??"null":e}function Oo(i,e,t,n,o){const s=o&&"input"in o?o.input:t.value,u=(o==null?void 0:o.expected)??i.expects??null,f=(o==null?void 0:o.received)??Nl(s),h={kind:i.kind,type:i.type,input:s,expected:u,received:f,message:`Invalid ${e}: ${u?`Expected ${u} but r`:"R"}eceived ${f}`,requirement:i.requirement,path:o==null?void 0:o.path,issues:o==null?void 0:o.issues,lang:n.lang,abortEarly:n.abortEarly,abortPipeEarly:n.abortPipeEarly},g=i.kind==="schema",O=(o==null?void 0:o.message)??i.message??Il(i.reference,h.lang)??(g?Tl(h.lang):null)??n.message??Rl(h.lang);O!==void 0&&(h.message=typeof O=="function"?O(h):O),g&&(t.typed=!1),t.issues?t.issues.push(h):t.issues=[h]}function jo(i){return{version:1,vendor:"valibot",validate(e){return i["~run"]({value:e},Pl())}}}function Bl(i,e,t){return typeof i.fallback=="function"?i.fallback(e,t):i.fallback}function Cc(i,e,t){return typeof i.default=="function"?i.default(e,t):i.default}function Oc(i,e){return{kind:"schema",type:"object",reference:Oc,expects:"Object",async:!1,entries:i,message:e,get"~standard"(){return jo(this)},"~run"(t,n){var s;const o=t.value;if(o&&typeof o=="object"){t.typed=!0,t.value={};for(const u in this.entries){const f=this.entries[u];if(u in o||(f.type==="exact_optional"||f.type==="optional"||f.type==="nullish")&&f.default!==void 0){const h=u in o?o[u]:Cc(f),g=f["~run"]({value:h},n);if(g.issues){const O={type:"object",origin:"value",input:o,key:u,value:h};for(const A of g.issues)A.path?A.path.unshift(O):A.path=[O],(s=t.issues)==null||s.push(A);if(t.issues||(t.issues=g.issues),n.abortEarly){t.typed=!1;break}}g.typed||(t.typed=!1),t.value[u]=g.value}else if(f.fallback!==void 0)t.value[u]=Bl(f);else if(f.type!=="exact_optional"&&f.type!=="optional"&&f.type!=="nullish"&&(Oo(this,"key",t,n,{input:void 0,expected:`"${u}"`,path:[{type:"object",origin:"key",input:o,key:u,value:o[u]}]}),n.abortEarly))break}}else Oo(this,"type",t,n);return t}}}function Pc(i,e){return{kind:"schema",type:"optional",reference:Pc,expects:`(${i.expects} | undefined)`,async:!1,wrapped:i,default:e,get"~standard"(){return jo(this)},"~run"(t,n){return t.value===void 0&&(this.default!==void 0&&(t.value=Cc(this,t,n)),t.value===void 0)?(t.typed=!0,t):this.wrapped["~run"](t,n)}}}function Rc(i){return{kind:"schema",type:"string",reference:Rc,expects:"string",async:!1,message:i,get"~standard"(){return jo(this)},"~run"(e,t){return typeof e.value=="string"?e.typed=!0:Oo(this,"type",e,t),e}}}const ql=Oc({networkId:Pc(Rc())});class Ul extends Error{constructor(e){super(e[0].message),this.name="SchemaError",this.issues=e}}var pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lo(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Fl(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var o=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return i[n]}})}),t}var Pr={},Rr={},mn={},Tr={},xn={},Ir={},wn={},bn={},as;function Tc(){if(as)return bn;as=1,Object.defineProperty(bn,"__esModule",{value:!0}),bn.InvalidCharacterError=void 0;let i=class extends Error{get name(){return this.constructor.name}};return bn.InvalidCharacterError=i,bn}var os;function Ic(){if(os)return wn;os=1,Object.defineProperty(wn,"__esModule",{value:!0}),wn.base64UrlDecode=void 0;const i=Tc(),e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function t(n){const o=String(n).replace(/[=]+$/,"");if(o.length%4===1)throw new i.InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");let s="";for(let u=0,f,h,g=0;h=o.charAt(g++);~h&&(f=u%4?(f||0)*64+h:h,u++%4)?s+=String.fromCharCode(255&f>>(-2*u&6)):0)h=e.indexOf(h);return s}return wn.base64UrlDecode=t,wn}var _n={},En={},ss;function Nc(){if(ss)return En;ss=1,Object.defineProperty(En,"__esModule",{value:!0}),En.strToUint8Array=void 0;function i(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}return En.strToUint8Array=i,En}var fs;function Bc(){if(fs)return _n;fs=1,Object.defineProperty(_n,"__esModule",{value:!0}),_n.base64UrlDecodeArr=void 0;const i=Ic(),e=Nc();function t(n){return(0,e.strToUint8Array)((0,i.base64UrlDecode)(n))}return _n.base64UrlDecodeArr=t,_n}var Sn={},us;function qc(){if(us)return Sn;us=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.base64UrlEncode=void 0;const i=Tc(),e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function t(n){let o,s,u="";for(let f=0,h=e;n.charAt(f|0);u+=h.charAt(63&o>>8-f%1*8)){if(s=n.charCodeAt(f+=3/4),s>255)throw new i.InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");o=(o||0)<<8|s}return u}return Sn.base64UrlEncode=t,Sn}var An={},Cn={},cs;function Uc(){if(cs)return Cn;cs=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.uint8ArrayToStr=void 0;function i(e){return String.fromCharCode.apply(null,[...new Uint16Array(e)])}return Cn.uint8ArrayToStr=i,Cn}var ls;function ko(){if(ls)return An;ls=1,Object.defineProperty(An,"__esModule",{value:!0}),An.base64UrlEncodeArr=void 0;const i=qc(),e=Uc();function t(n){return(0,i.base64UrlEncode)((0,e.uint8ArrayToStr)(n))}return An.base64UrlEncodeArr=t,An}var On={},ta={},Pn={},hs;function Ml(){if(hs)return Pn;hs=1,Pn.byteLength=f,Pn.toByteArray=g,Pn.fromByteArray=N;for(var i=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=n.length;o<s;++o)i[o]=n[o],e[n.charCodeAt(o)]=o;e[45]=62,e[95]=63;function u(C){var R=C.length;if(R%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=C.indexOf("=");k===-1&&(k=R);var _=k===R?0:4-k%4;return[k,_]}function f(C){var R=u(C),k=R[0],_=R[1];return(k+_)*3/4-_}function h(C,R,k){return(R+k)*3/4-k}function g(C){var R,k=u(C),_=k[0],m=k[1],E=new t(h(C,_,m)),B=0,M=m>0?_-4:_,S;for(S=0;S<M;S+=4)R=e[C.charCodeAt(S)]<<18|e[C.charCodeAt(S+1)]<<12|e[C.charCodeAt(S+2)]<<6|e[C.charCodeAt(S+3)],E[B++]=R>>16&255,E[B++]=R>>8&255,E[B++]=R&255;return m===2&&(R=e[C.charCodeAt(S)]<<2|e[C.charCodeAt(S+1)]>>4,E[B++]=R&255),m===1&&(R=e[C.charCodeAt(S)]<<10|e[C.charCodeAt(S+1)]<<4|e[C.charCodeAt(S+2)]>>2,E[B++]=R>>8&255,E[B++]=R&255),E}function O(C){return i[C>>18&63]+i[C>>12&63]+i[C>>6&63]+i[C&63]}function A(C,R,k){for(var _,m=[],E=R;E<k;E+=3)_=(C[E]<<16&16711680)+(C[E+1]<<8&65280)+(C[E+2]&255),m.push(O(_));return m.join("")}function N(C){for(var R,k=C.length,_=k%3,m=[],E=16383,B=0,M=k-_;B<M;B+=E)m.push(A(C,B,B+E>M?M:B+E));return _===1?(R=C[k-1],m.push(i[R>>2]+i[R<<4&63]+"==")):_===2&&(R=(C[k-2]<<8)+C[k-1],m.push(i[R>>10]+i[R>>4&63]+i[R<<2&63]+"=")),m.join("")}return Pn}var Ii={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var ds;function jl(){return ds||(ds=1,Ii.read=function(i,e,t,n,o){var s,u,f=o*8-n-1,h=(1<<f)-1,g=h>>1,O=-7,A=t?o-1:0,N=t?-1:1,C=i[e+A];for(A+=N,s=C&(1<<-O)-1,C>>=-O,O+=f;O>0;s=s*256+i[e+A],A+=N,O-=8);for(u=s&(1<<-O)-1,s>>=-O,O+=n;O>0;u=u*256+i[e+A],A+=N,O-=8);if(s===0)s=1-g;else{if(s===h)return u?NaN:(C?-1:1)*(1/0);u=u+Math.pow(2,n),s=s-g}return(C?-1:1)*u*Math.pow(2,s-n)},Ii.write=function(i,e,t,n,o,s){var u,f,h,g=s*8-o-1,O=(1<<g)-1,A=O>>1,N=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=n?0:s-1,R=n?1:-1,k=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,u=O):(u=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-u))<1&&(u--,h*=2),u+A>=1?e+=N/h:e+=N*Math.pow(2,1-A),e*h>=2&&(u++,h/=2),u+A>=O?(f=0,u=O):u+A>=1?(f=(e*h-1)*Math.pow(2,o),u=u+A):(f=e*Math.pow(2,A-1)*Math.pow(2,o),u=0));o>=8;i[t+C]=f&255,C+=R,f/=256,o-=8);for(u=u<<o|f,g+=o;g>0;i[t+C]=u&255,C+=R,u/=256,g-=8);i[t+C-R]|=k*128}),Ii}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var ps;function Fc(){return ps||(ps=1,function(i){const e=Ml(),t=jl(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;i.Buffer=f,i.SlowBuffer=E,i.INSPECT_MAX_BYTES=50;const o=2147483647;i.kMaxLength=o,f.TYPED_ARRAY_SUPPORT=s(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const I=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(I,y),I.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function u(I){if(I>o)throw new RangeError('The value "'+I+'" is invalid for option "size"');const y=new Uint8Array(I);return Object.setPrototypeOf(y,f.prototype),y}function f(I,y,v){if(typeof I=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return A(I)}return h(I,y,v)}f.poolSize=8192;function h(I,y,v){if(typeof I=="string")return N(I,y);if(ArrayBuffer.isView(I))return R(I);if(I==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I);if(je(I,ArrayBuffer)||I&&je(I.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(je(I,SharedArrayBuffer)||I&&je(I.buffer,SharedArrayBuffer)))return k(I,y,v);if(typeof I=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const $=I.valueOf&&I.valueOf();if($!=null&&$!==I)return f.from($,y,v);const se=_(I);if(se)return se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof I[Symbol.toPrimitive]=="function")return f.from(I[Symbol.toPrimitive]("string"),y,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I)}f.from=function(I,y,v){return h(I,y,v)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function g(I){if(typeof I!="number")throw new TypeError('"size" argument must be of type number');if(I<0)throw new RangeError('The value "'+I+'" is invalid for option "size"')}function O(I,y,v){return g(I),I<=0?u(I):y!==void 0?typeof v=="string"?u(I).fill(y,v):u(I).fill(y):u(I)}f.alloc=function(I,y,v){return O(I,y,v)};function A(I){return g(I),u(I<0?0:m(I)|0)}f.allocUnsafe=function(I){return A(I)},f.allocUnsafeSlow=function(I){return A(I)};function N(I,y){if((typeof y!="string"||y==="")&&(y="utf8"),!f.isEncoding(y))throw new TypeError("Unknown encoding: "+y);const v=B(I,y)|0;let $=u(v);const se=$.write(I,y);return se!==v&&($=$.slice(0,se)),$}function C(I){const y=I.length<0?0:m(I.length)|0,v=u(y);for(let $=0;$<y;$+=1)v[$]=I[$]&255;return v}function R(I){if(je(I,Uint8Array)){const y=new Uint8Array(I);return k(y.buffer,y.byteOffset,y.byteLength)}return C(I)}function k(I,y,v){if(y<0||I.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(I.byteLength<y+(v||0))throw new RangeError('"length" is outside of buffer bounds');let $;return y===void 0&&v===void 0?$=new Uint8Array(I):v===void 0?$=new Uint8Array(I,y):$=new Uint8Array(I,y,v),Object.setPrototypeOf($,f.prototype),$}function _(I){if(f.isBuffer(I)){const y=m(I.length)|0,v=u(y);return v.length===0||I.copy(v,0,0,y),v}if(I.length!==void 0)return typeof I.length!="number"||He(I.length)?u(0):C(I);if(I.type==="Buffer"&&Array.isArray(I.data))return C(I.data)}function m(I){if(I>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return I|0}function E(I){return+I!=I&&(I=0),f.alloc(+I)}f.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==f.prototype},f.compare=function(y,v){if(je(y,Uint8Array)&&(y=f.from(y,y.offset,y.byteLength)),je(v,Uint8Array)&&(v=f.from(v,v.offset,v.byteLength)),!f.isBuffer(y)||!f.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===v)return 0;let $=y.length,se=v.length;for(let ve=0,Re=Math.min($,se);ve<Re;++ve)if(y[ve]!==v[ve]){$=y[ve],se=v[ve];break}return $<se?-1:se<$?1:0},f.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(y,v){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return f.alloc(0);let $;if(v===void 0)for(v=0,$=0;$<y.length;++$)v+=y[$].length;const se=f.allocUnsafe(v);let ve=0;for($=0;$<y.length;++$){let Re=y[$];if(je(Re,Uint8Array))ve+Re.length>se.length?(f.isBuffer(Re)||(Re=f.from(Re)),Re.copy(se,ve)):Uint8Array.prototype.set.call(se,Re,ve);else if(f.isBuffer(Re))Re.copy(se,ve);else throw new TypeError('"list" argument must be an Array of Buffers');ve+=Re.length}return se};function B(I,y){if(f.isBuffer(I))return I.length;if(ArrayBuffer.isView(I)||je(I,ArrayBuffer))return I.byteLength;if(typeof I!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof I);const v=I.length,$=arguments.length>2&&arguments[2]===!0;if(!$&&v===0)return 0;let se=!1;for(;;)switch(y){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return P(I).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return Y(I).length;default:if(se)return $?-1:P(I).length;y=(""+y).toLowerCase(),se=!0}}f.byteLength=B;function M(I,y,v){let $=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,y>>>=0,v<=y))return"";for(I||(I="utf8");;)switch(I){case"hex":return de(this,y,v);case"utf8":case"utf-8":return te(this,y,v);case"ascii":return De(this,y,v);case"latin1":case"binary":return J(this,y,v);case"base64":return et(this,y,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,y,v);default:if($)throw new TypeError("Unknown encoding: "+I);I=(I+"").toLowerCase(),$=!0}}f.prototype._isBuffer=!0;function S(I,y,v){const $=I[y];I[y]=I[v],I[v]=$}f.prototype.swap16=function(){const y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let v=0;v<y;v+=2)S(this,v,v+1);return this},f.prototype.swap32=function(){const y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let v=0;v<y;v+=4)S(this,v,v+3),S(this,v+1,v+2);return this},f.prototype.swap64=function(){const y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let v=0;v<y;v+=8)S(this,v,v+7),S(this,v+1,v+6),S(this,v+2,v+5),S(this,v+3,v+4);return this},f.prototype.toString=function(){const y=this.length;return y===0?"":arguments.length===0?te(this,0,y):M.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(y){if(!f.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:f.compare(this,y)===0},f.prototype.inspect=function(){let y="";const v=i.INSPECT_MAX_BYTES;return y=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(y+=" ... "),"<Buffer "+y+">"},n&&(f.prototype[n]=f.prototype.inspect),f.prototype.compare=function(y,v,$,se,ve){if(je(y,Uint8Array)&&(y=f.from(y,y.offset,y.byteLength)),!f.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(v===void 0&&(v=0),$===void 0&&($=y?y.length:0),se===void 0&&(se=0),ve===void 0&&(ve=this.length),v<0||$>y.length||se<0||ve>this.length)throw new RangeError("out of range index");if(se>=ve&&v>=$)return 0;if(se>=ve)return-1;if(v>=$)return 1;if(v>>>=0,$>>>=0,se>>>=0,ve>>>=0,this===y)return 0;let Re=ve-se,ht=$-v;const pt=Math.min(Re,ht),ae=this.slice(se,ve),fe=y.slice(v,$);for(let rt=0;rt<pt;++rt)if(ae[rt]!==fe[rt]){Re=ae[rt],ht=fe[rt];break}return Re<ht?-1:ht<Re?1:0};function j(I,y,v,$,se){if(I.length===0)return-1;if(typeof v=="string"?($=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,He(v)&&(v=se?0:I.length-1),v<0&&(v=I.length+v),v>=I.length){if(se)return-1;v=I.length-1}else if(v<0)if(se)v=0;else return-1;if(typeof y=="string"&&(y=f.from(y,$)),f.isBuffer(y))return y.length===0?-1:U(I,y,v,$,se);if(typeof y=="number")return y=y&255,typeof Uint8Array.prototype.indexOf=="function"?se?Uint8Array.prototype.indexOf.call(I,y,v):Uint8Array.prototype.lastIndexOf.call(I,y,v):U(I,[y],v,$,se);throw new TypeError("val must be string, number or Buffer")}function U(I,y,v,$,se){let ve=1,Re=I.length,ht=y.length;if($!==void 0&&($=String($).toLowerCase(),$==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(I.length<2||y.length<2)return-1;ve=2,Re/=2,ht/=2,v/=2}function pt(fe,rt){return ve===1?fe[rt]:fe.readUInt16BE(rt*ve)}let ae;if(se){let fe=-1;for(ae=v;ae<Re;ae++)if(pt(I,ae)===pt(y,fe===-1?0:ae-fe)){if(fe===-1&&(fe=ae),ae-fe+1===ht)return fe*ve}else fe!==-1&&(ae-=ae-fe),fe=-1}else for(v+ht>Re&&(v=Re-ht),ae=v;ae>=0;ae--){let fe=!0;for(let rt=0;rt<ht;rt++)if(pt(I,ae+rt)!==pt(y,rt)){fe=!1;break}if(fe)return ae}return-1}f.prototype.includes=function(y,v,$){return this.indexOf(y,v,$)!==-1},f.prototype.indexOf=function(y,v,$){return j(this,y,v,$,!0)},f.prototype.lastIndexOf=function(y,v,$){return j(this,y,v,$,!1)};function re(I,y,v,$){v=Number(v)||0;const se=I.length-v;$?($=Number($),$>se&&($=se)):$=se;const ve=y.length;$>ve/2&&($=ve/2);let Re;for(Re=0;Re<$;++Re){const ht=parseInt(y.substr(Re*2,2),16);if(He(ht))return Re;I[v+Re]=ht}return Re}function me(I,y,v,$){return ge(P(y,I.length-v),I,v,$)}function ne(I,y,v,$){return ge(D(y),I,v,$)}function Pe(I,y,v,$){return ge(Y(y),I,v,$)}function ce(I,y,v,$){return ge(z(y,I.length-v),I,v,$)}f.prototype.write=function(y,v,$,se){if(v===void 0)se="utf8",$=this.length,v=0;else if($===void 0&&typeof v=="string")se=v,$=this.length,v=0;else if(isFinite(v))v=v>>>0,isFinite($)?($=$>>>0,se===void 0&&(se="utf8")):(se=$,$=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ve=this.length-v;if(($===void 0||$>ve)&&($=ve),y.length>0&&($<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");se||(se="utf8");let Re=!1;for(;;)switch(se){case"hex":return re(this,y,v,$);case"utf8":case"utf-8":return me(this,y,v,$);case"ascii":case"latin1":case"binary":return ne(this,y,v,$);case"base64":return Pe(this,y,v,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,y,v,$);default:if(Re)throw new TypeError("Unknown encoding: "+se);se=(""+se).toLowerCase(),Re=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function et(I,y,v){return y===0&&v===I.length?e.fromByteArray(I):e.fromByteArray(I.slice(y,v))}function te(I,y,v){v=Math.min(I.length,v);const $=[];let se=y;for(;se<v;){const ve=I[se];let Re=null,ht=ve>239?4:ve>223?3:ve>191?2:1;if(se+ht<=v){let pt,ae,fe,rt;switch(ht){case 1:ve<128&&(Re=ve);break;case 2:pt=I[se+1],(pt&192)===128&&(rt=(ve&31)<<6|pt&63,rt>127&&(Re=rt));break;case 3:pt=I[se+1],ae=I[se+2],(pt&192)===128&&(ae&192)===128&&(rt=(ve&15)<<12|(pt&63)<<6|ae&63,rt>2047&&(rt<55296||rt>57343)&&(Re=rt));break;case 4:pt=I[se+1],ae=I[se+2],fe=I[se+3],(pt&192)===128&&(ae&192)===128&&(fe&192)===128&&(rt=(ve&15)<<18|(pt&63)<<12|(ae&63)<<6|fe&63,rt>65535&&rt<1114112&&(Re=rt))}}Re===null?(Re=65533,ht=1):Re>65535&&(Re-=65536,$.push(Re>>>10&1023|55296),Re=56320|Re&1023),$.push(Re),se+=ht}return ke($)}const Oe=4096;function ke(I){const y=I.length;if(y<=Oe)return String.fromCharCode.apply(String,I);let v="",$=0;for(;$<y;)v+=String.fromCharCode.apply(String,I.slice($,$+=Oe));return v}function De(I,y,v){let $="";v=Math.min(I.length,v);for(let se=y;se<v;++se)$+=String.fromCharCode(I[se]&127);return $}function J(I,y,v){let $="";v=Math.min(I.length,v);for(let se=y;se<v;++se)$+=String.fromCharCode(I[se]);return $}function de(I,y,v){const $=I.length;(!y||y<0)&&(y=0),(!v||v<0||v>$)&&(v=$);let se="";for(let ve=y;ve<v;++ve)se+=ut[I[ve]];return se}function pe(I,y,v){const $=I.slice(y,v);let se="";for(let ve=0;ve<$.length-1;ve+=2)se+=String.fromCharCode($[ve]+$[ve+1]*256);return se}f.prototype.slice=function(y,v){const $=this.length;y=~~y,v=v===void 0?$:~~v,y<0?(y+=$,y<0&&(y=0)):y>$&&(y=$),v<0?(v+=$,v<0&&(v=0)):v>$&&(v=$),v<y&&(v=y);const se=this.subarray(y,v);return Object.setPrototypeOf(se,f.prototype),se};function Ae(I,y,v){if(I%1!==0||I<0)throw new RangeError("offset is not uint");if(I+y>v)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(y,v,$){y=y>>>0,v=v>>>0,$||Ae(y,v,this.length);let se=this[y],ve=1,Re=0;for(;++Re<v&&(ve*=256);)se+=this[y+Re]*ve;return se},f.prototype.readUintBE=f.prototype.readUIntBE=function(y,v,$){y=y>>>0,v=v>>>0,$||Ae(y,v,this.length);let se=this[y+--v],ve=1;for(;v>0&&(ve*=256);)se+=this[y+--v]*ve;return se},f.prototype.readUint8=f.prototype.readUInt8=function(y,v){return y=y>>>0,v||Ae(y,1,this.length),this[y]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(y,v){return y=y>>>0,v||Ae(y,2,this.length),this[y]|this[y+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(y,v){return y=y>>>0,v||Ae(y,2,this.length),this[y]<<8|this[y+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(y,v){return y=y>>>0,v||Ae(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(y,v){return y=y>>>0,v||Ae(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},f.prototype.readBigUInt64LE=lt(function(y){y=y>>>0,G(y,"offset");const v=this[y],$=this[y+7];(v===void 0||$===void 0)&&V(y,this.length-8);const se=v+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24,ve=this[++y]+this[++y]*2**8+this[++y]*2**16+$*2**24;return BigInt(se)+(BigInt(ve)<<BigInt(32))}),f.prototype.readBigUInt64BE=lt(function(y){y=y>>>0,G(y,"offset");const v=this[y],$=this[y+7];(v===void 0||$===void 0)&&V(y,this.length-8);const se=v*2**24+this[++y]*2**16+this[++y]*2**8+this[++y],ve=this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+$;return(BigInt(se)<<BigInt(32))+BigInt(ve)}),f.prototype.readIntLE=function(y,v,$){y=y>>>0,v=v>>>0,$||Ae(y,v,this.length);let se=this[y],ve=1,Re=0;for(;++Re<v&&(ve*=256);)se+=this[y+Re]*ve;return ve*=128,se>=ve&&(se-=Math.pow(2,8*v)),se},f.prototype.readIntBE=function(y,v,$){y=y>>>0,v=v>>>0,$||Ae(y,v,this.length);let se=v,ve=1,Re=this[y+--se];for(;se>0&&(ve*=256);)Re+=this[y+--se]*ve;return ve*=128,Re>=ve&&(Re-=Math.pow(2,8*v)),Re},f.prototype.readInt8=function(y,v){return y=y>>>0,v||Ae(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},f.prototype.readInt16LE=function(y,v){y=y>>>0,v||Ae(y,2,this.length);const $=this[y]|this[y+1]<<8;return $&32768?$|4294901760:$},f.prototype.readInt16BE=function(y,v){y=y>>>0,v||Ae(y,2,this.length);const $=this[y+1]|this[y]<<8;return $&32768?$|4294901760:$},f.prototype.readInt32LE=function(y,v){return y=y>>>0,v||Ae(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},f.prototype.readInt32BE=function(y,v){return y=y>>>0,v||Ae(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},f.prototype.readBigInt64LE=lt(function(y){y=y>>>0,G(y,"offset");const v=this[y],$=this[y+7];(v===void 0||$===void 0)&&V(y,this.length-8);const se=this[y+4]+this[y+5]*2**8+this[y+6]*2**16+($<<24);return(BigInt(se)<<BigInt(32))+BigInt(v+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24)}),f.prototype.readBigInt64BE=lt(function(y){y=y>>>0,G(y,"offset");const v=this[y],$=this[y+7];(v===void 0||$===void 0)&&V(y,this.length-8);const se=(v<<24)+this[++y]*2**16+this[++y]*2**8+this[++y];return(BigInt(se)<<BigInt(32))+BigInt(this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+$)}),f.prototype.readFloatLE=function(y,v){return y=y>>>0,v||Ae(y,4,this.length),t.read(this,y,!0,23,4)},f.prototype.readFloatBE=function(y,v){return y=y>>>0,v||Ae(y,4,this.length),t.read(this,y,!1,23,4)},f.prototype.readDoubleLE=function(y,v){return y=y>>>0,v||Ae(y,8,this.length),t.read(this,y,!0,52,8)},f.prototype.readDoubleBE=function(y,v){return y=y>>>0,v||Ae(y,8,this.length),t.read(this,y,!1,52,8)};function Fe(I,y,v,$,se,ve){if(!f.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>se||y<ve)throw new RangeError('"value" argument is out of bounds');if(v+$>I.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(y,v,$,se){if(y=+y,v=v>>>0,$=$>>>0,!se){const ht=Math.pow(2,8*$)-1;Fe(this,y,v,$,ht,0)}let ve=1,Re=0;for(this[v]=y&255;++Re<$&&(ve*=256);)this[v+Re]=y/ve&255;return v+$},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(y,v,$,se){if(y=+y,v=v>>>0,$=$>>>0,!se){const ht=Math.pow(2,8*$)-1;Fe(this,y,v,$,ht,0)}let ve=$-1,Re=1;for(this[v+ve]=y&255;--ve>=0&&(Re*=256);)this[v+ve]=y/Re&255;return v+$},f.prototype.writeUint8=f.prototype.writeUInt8=function(y,v,$){return y=+y,v=v>>>0,$||Fe(this,y,v,1,255,0),this[v]=y&255,v+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(y,v,$){return y=+y,v=v>>>0,$||Fe(this,y,v,2,65535,0),this[v]=y&255,this[v+1]=y>>>8,v+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(y,v,$){return y=+y,v=v>>>0,$||Fe(this,y,v,2,65535,0),this[v]=y>>>8,this[v+1]=y&255,v+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(y,v,$){return y=+y,v=v>>>0,$||Fe(this,y,v,4,4294967295,0),this[v+3]=y>>>24,this[v+2]=y>>>16,this[v+1]=y>>>8,this[v]=y&255,v+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(y,v,$){return y=+y,v=v>>>0,$||Fe(this,y,v,4,4294967295,0),this[v]=y>>>24,this[v+1]=y>>>16,this[v+2]=y>>>8,this[v+3]=y&255,v+4};function Ee(I,y,v,$,se){q(y,$,se,I,v,7);let ve=Number(y&BigInt(4294967295));I[v++]=ve,ve=ve>>8,I[v++]=ve,ve=ve>>8,I[v++]=ve,ve=ve>>8,I[v++]=ve;let Re=Number(y>>BigInt(32)&BigInt(4294967295));return I[v++]=Re,Re=Re>>8,I[v++]=Re,Re=Re>>8,I[v++]=Re,Re=Re>>8,I[v++]=Re,v}function oe(I,y,v,$,se){q(y,$,se,I,v,7);let ve=Number(y&BigInt(4294967295));I[v+7]=ve,ve=ve>>8,I[v+6]=ve,ve=ve>>8,I[v+5]=ve,ve=ve>>8,I[v+4]=ve;let Re=Number(y>>BigInt(32)&BigInt(4294967295));return I[v+3]=Re,Re=Re>>8,I[v+2]=Re,Re=Re>>8,I[v+1]=Re,Re=Re>>8,I[v]=Re,v+8}f.prototype.writeBigUInt64LE=lt(function(y,v=0){return Ee(this,y,v,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=lt(function(y,v=0){return oe(this,y,v,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(y,v,$,se){if(y=+y,v=v>>>0,!se){const pt=Math.pow(2,8*$-1);Fe(this,y,v,$,pt-1,-pt)}let ve=0,Re=1,ht=0;for(this[v]=y&255;++ve<$&&(Re*=256);)y<0&&ht===0&&this[v+ve-1]!==0&&(ht=1),this[v+ve]=(y/Re>>0)-ht&255;return v+$},f.prototype.writeIntBE=function(y,v,$,se){if(y=+y,v=v>>>0,!se){const pt=Math.pow(2,8*$-1);Fe(this,y,v,$,pt-1,-pt)}let ve=$-1,Re=1,ht=0;for(this[v+ve]=y&255;--ve>=0&&(Re*=256);)y<0&&ht===0&&this[v+ve+1]!==0&&(ht=1),this[v+ve]=(y/Re>>0)-ht&255;return v+$},f.prototype.writeInt8=function(y,v,$){return y=+y,v=v>>>0,$||Fe(this,y,v,1,127,-128),y<0&&(y=255+y+1),this[v]=y&255,v+1},f.prototype.writeInt16LE=function(y,v,$){return y=+y,v=v>>>0,$||Fe(this,y,v,2,32767,-32768),this[v]=y&255,this[v+1]=y>>>8,v+2},f.prototype.writeInt16BE=function(y,v,$){return y=+y,v=v>>>0,$||Fe(this,y,v,2,32767,-32768),this[v]=y>>>8,this[v+1]=y&255,v+2},f.prototype.writeInt32LE=function(y,v,$){return y=+y,v=v>>>0,$||Fe(this,y,v,4,2147483647,-2147483648),this[v]=y&255,this[v+1]=y>>>8,this[v+2]=y>>>16,this[v+3]=y>>>24,v+4},f.prototype.writeInt32BE=function(y,v,$){return y=+y,v=v>>>0,$||Fe(this,y,v,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[v]=y>>>24,this[v+1]=y>>>16,this[v+2]=y>>>8,this[v+3]=y&255,v+4},f.prototype.writeBigInt64LE=lt(function(y,v=0){return Ee(this,y,v,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=lt(function(y,v=0){return oe(this,y,v,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function be(I,y,v,$,se,ve){if(v+$>I.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function Be(I,y,v,$,se){return y=+y,v=v>>>0,se||be(I,y,v,4),t.write(I,y,v,$,23,4),v+4}f.prototype.writeFloatLE=function(y,v,$){return Be(this,y,v,!0,$)},f.prototype.writeFloatBE=function(y,v,$){return Be(this,y,v,!1,$)};function ft(I,y,v,$,se){return y=+y,v=v>>>0,se||be(I,y,v,8),t.write(I,y,v,$,52,8),v+8}f.prototype.writeDoubleLE=function(y,v,$){return ft(this,y,v,!0,$)},f.prototype.writeDoubleBE=function(y,v,$){return ft(this,y,v,!1,$)},f.prototype.copy=function(y,v,$,se){if(!f.isBuffer(y))throw new TypeError("argument should be a Buffer");if($||($=0),!se&&se!==0&&(se=this.length),v>=y.length&&(v=y.length),v||(v=0),se>0&&se<$&&(se=$),se===$||y.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("sourceEnd out of bounds");se>this.length&&(se=this.length),y.length-v<se-$&&(se=y.length-v+$);const ve=se-$;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(v,$,se):Uint8Array.prototype.set.call(y,this.subarray($,se),v),ve},f.prototype.fill=function(y,v,$,se){if(typeof y=="string"){if(typeof v=="string"?(se=v,v=0,$=this.length):typeof $=="string"&&(se=$,$=this.length),se!==void 0&&typeof se!="string")throw new TypeError("encoding must be a string");if(typeof se=="string"&&!f.isEncoding(se))throw new TypeError("Unknown encoding: "+se);if(y.length===1){const Re=y.charCodeAt(0);(se==="utf8"&&Re<128||se==="latin1")&&(y=Re)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(v<0||this.length<v||this.length<$)throw new RangeError("Out of range index");if($<=v)return this;v=v>>>0,$=$===void 0?this.length:$>>>0,y||(y=0);let ve;if(typeof y=="number")for(ve=v;ve<$;++ve)this[ve]=y;else{const Re=f.isBuffer(y)?y:f.from(y,se),ht=Re.length;if(ht===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for(ve=0;ve<$-v;++ve)this[ve+v]=Re[ve%ht]}return this};const _e={};function ye(I,y,v){_e[I]=class extends v{constructor(){super(),Object.defineProperty(this,"message",{value:y.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${I}]`,this.stack,delete this.name}get code(){return I}set code(se){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:se,writable:!0})}toString(){return`${this.name} [${I}]: ${this.message}`}}}ye("ERR_BUFFER_OUT_OF_BOUNDS",function(I){return I?`${I} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ye("ERR_INVALID_ARG_TYPE",function(I,y){return`The "${I}" argument must be of type number. Received type ${typeof y}`},TypeError),ye("ERR_OUT_OF_RANGE",function(I,y,v){let $=`The value of "${I}" is out of range.`,se=v;return Number.isInteger(v)&&Math.abs(v)>2**32?se=b(String(v)):typeof v=="bigint"&&(se=String(v),(v>BigInt(2)**BigInt(32)||v<-(BigInt(2)**BigInt(32)))&&(se=b(se)),se+="n"),$+=` It must be ${y}. Received ${se}`,$},RangeError);function b(I){let y="",v=I.length;const $=I[0]==="-"?1:0;for(;v>=$+4;v-=3)y=`_${I.slice(v-3,v)}${y}`;return`${I.slice(0,v)}${y}`}function T(I,y,v){G(y,"offset"),(I[y]===void 0||I[y+v]===void 0)&&V(y,I.length-(v+1))}function q(I,y,v,$,se,ve){if(I>v||I<y){const Re=typeof y=="bigint"?"n":"";let ht;throw y===0||y===BigInt(0)?ht=`>= 0${Re} and < 2${Re} ** ${(ve+1)*8}${Re}`:ht=`>= -(2${Re} ** ${(ve+1)*8-1}${Re}) and < 2 ** ${(ve+1)*8-1}${Re}`,new _e.ERR_OUT_OF_RANGE("value",ht,I)}T($,se,ve)}function G(I,y){if(typeof I!="number")throw new _e.ERR_INVALID_ARG_TYPE(y,"number",I)}function V(I,y,v){throw Math.floor(I)!==I?(G(I,v),new _e.ERR_OUT_OF_RANGE("offset","an integer",I)):y<0?new _e.ERR_BUFFER_OUT_OF_BOUNDS:new _e.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${y}`,I)}const X=/[^+/0-9A-Za-z-_]/g;function ue(I){if(I=I.split("=")[0],I=I.trim().replace(X,""),I.length<2)return"";for(;I.length%4!==0;)I=I+"=";return I}function P(I,y){y=y||1/0;let v;const $=I.length;let se=null;const ve=[];for(let Re=0;Re<$;++Re){if(v=I.charCodeAt(Re),v>55295&&v<57344){if(!se){if(v>56319){(y-=3)>-1&&ve.push(239,191,189);continue}else if(Re+1===$){(y-=3)>-1&&ve.push(239,191,189);continue}se=v;continue}if(v<56320){(y-=3)>-1&&ve.push(239,191,189),se=v;continue}v=(se-55296<<10|v-56320)+65536}else se&&(y-=3)>-1&&ve.push(239,191,189);if(se=null,v<128){if((y-=1)<0)break;ve.push(v)}else if(v<2048){if((y-=2)<0)break;ve.push(v>>6|192,v&63|128)}else if(v<65536){if((y-=3)<0)break;ve.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((y-=4)<0)break;ve.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return ve}function D(I){const y=[];for(let v=0;v<I.length;++v)y.push(I.charCodeAt(v)&255);return y}function z(I,y){let v,$,se;const ve=[];for(let Re=0;Re<I.length&&!((y-=2)<0);++Re)v=I.charCodeAt(Re),$=v>>8,se=v%256,ve.push(se),ve.push($);return ve}function Y(I){return e.toByteArray(ue(I))}function ge(I,y,v,$){let se;for(se=0;se<$&&!(se+v>=y.length||se>=I.length);++se)y[se+v]=I[se];return se}function je(I,y){return I instanceof y||I!=null&&I.constructor!=null&&I.constructor.name!=null&&I.constructor.name===y.name}function He(I){return I!==I}const ut=function(){const I="0123456789abcdef",y=new Array(256);for(let v=0;v<16;++v){const $=v*16;for(let se=0;se<16;++se)y[$+se]=I[v]+I[se]}return y}();function lt(I){return typeof BigInt>"u"?_t:I}function _t(){throw new Error("BigInt not supported")}}(ta)),ta}var ys;function Ei(){if(ys)return On;ys=1,Object.defineProperty(On,"__esModule",{value:!0}),On.binToHex=void 0;const i=Fc();function e(t){return i.Buffer.from(t).toString("hex")}return On.binToHex=e,On}var Nr={};function Mc(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ra={exports:{}};const Ll={},kl=Object.freeze(Object.defineProperty({__proto__:null,default:Ll},Symbol.toStringTag,{value:"Module"})),wi=Fl(kl);var gs;function Si(){return gs||(gs=1,function(i){(function(e){var t=function(a){var l,c=new Float64Array(16);if(a)for(l=0;l<a.length;l++)c[l]=a[l];return c},n=function(){throw new Error("no PRNG")},o=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var u=t(),f=t([1]),h=t([56129,1]),g=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),O=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),A=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),N=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),C=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function R(a,l,c,r){a[l]=c>>24&255,a[l+1]=c>>16&255,a[l+2]=c>>8&255,a[l+3]=c&255,a[l+4]=r>>24&255,a[l+5]=r>>16&255,a[l+6]=r>>8&255,a[l+7]=r&255}function k(a,l,c,r,d){var F,L=0;for(F=0;F<d;F++)L|=a[l+F]^c[r+F];return(1&L-1>>>8)-1}function _(a,l,c,r){return k(a,l,c,r,16)}function m(a,l,c,r){return k(a,l,c,r,32)}function E(a,l,c,r){for(var d=r[0]&255|(r[1]&255)<<8|(r[2]&255)<<16|(r[3]&255)<<24,F=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,L=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,Z=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,he=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,Te=r[4]&255|(r[5]&255)<<8|(r[6]&255)<<16|(r[7]&255)<<24,xe=l[0]&255|(l[1]&255)<<8|(l[2]&255)<<16|(l[3]&255)<<24,nt=l[4]&255|(l[5]&255)<<8|(l[6]&255)<<16|(l[7]&255)<<24,Se=l[8]&255|(l[9]&255)<<8|(l[10]&255)<<16|(l[11]&255)<<24,Le=l[12]&255|(l[13]&255)<<8|(l[14]&255)<<16|(l[15]&255)<<24,$e=r[8]&255|(r[9]&255)<<8|(r[10]&255)<<16|(r[11]&255)<<24,Ge=c[16]&255|(c[17]&255)<<8|(c[18]&255)<<16|(c[19]&255)<<24,Ye=c[20]&255|(c[21]&255)<<8|(c[22]&255)<<16|(c[23]&255)<<24,Ke=c[24]&255|(c[25]&255)<<8|(c[26]&255)<<16|(c[27]&255)<<24,ze=c[28]&255|(c[29]&255)<<8|(c[30]&255)<<16|(c[31]&255)<<24,We=r[12]&255|(r[13]&255)<<8|(r[14]&255)<<16|(r[15]&255)<<24,Ie=d,Ue=F,Ce=L,Ne=Z,qe=he,we=Te,K=xe,W=nt,ie=Se,Q=Le,ee=$e,le=Ge,Me=Ye,Ve=Ke,Xe=ze,Je=We,w,Qe=0;Qe<20;Qe+=2)w=Ie+Me|0,qe^=w<<7|w>>>25,w=qe+Ie|0,ie^=w<<9|w>>>23,w=ie+qe|0,Me^=w<<13|w>>>19,w=Me+ie|0,Ie^=w<<18|w>>>14,w=we+Ue|0,Q^=w<<7|w>>>25,w=Q+we|0,Ve^=w<<9|w>>>23,w=Ve+Q|0,Ue^=w<<13|w>>>19,w=Ue+Ve|0,we^=w<<18|w>>>14,w=ee+K|0,Xe^=w<<7|w>>>25,w=Xe+ee|0,Ce^=w<<9|w>>>23,w=Ce+Xe|0,K^=w<<13|w>>>19,w=K+Ce|0,ee^=w<<18|w>>>14,w=Je+le|0,Ne^=w<<7|w>>>25,w=Ne+Je|0,W^=w<<9|w>>>23,w=W+Ne|0,le^=w<<13|w>>>19,w=le+W|0,Je^=w<<18|w>>>14,w=Ie+Ne|0,Ue^=w<<7|w>>>25,w=Ue+Ie|0,Ce^=w<<9|w>>>23,w=Ce+Ue|0,Ne^=w<<13|w>>>19,w=Ne+Ce|0,Ie^=w<<18|w>>>14,w=we+qe|0,K^=w<<7|w>>>25,w=K+we|0,W^=w<<9|w>>>23,w=W+K|0,qe^=w<<13|w>>>19,w=qe+W|0,we^=w<<18|w>>>14,w=ee+Q|0,le^=w<<7|w>>>25,w=le+ee|0,ie^=w<<9|w>>>23,w=ie+le|0,Q^=w<<13|w>>>19,w=Q+ie|0,ee^=w<<18|w>>>14,w=Je+Xe|0,Me^=w<<7|w>>>25,w=Me+Je|0,Ve^=w<<9|w>>>23,w=Ve+Me|0,Xe^=w<<13|w>>>19,w=Xe+Ve|0,Je^=w<<18|w>>>14;Ie=Ie+d|0,Ue=Ue+F|0,Ce=Ce+L|0,Ne=Ne+Z|0,qe=qe+he|0,we=we+Te|0,K=K+xe|0,W=W+nt|0,ie=ie+Se|0,Q=Q+Le|0,ee=ee+$e|0,le=le+Ge|0,Me=Me+Ye|0,Ve=Ve+Ke|0,Xe=Xe+ze|0,Je=Je+We|0,a[0]=Ie>>>0&255,a[1]=Ie>>>8&255,a[2]=Ie>>>16&255,a[3]=Ie>>>24&255,a[4]=Ue>>>0&255,a[5]=Ue>>>8&255,a[6]=Ue>>>16&255,a[7]=Ue>>>24&255,a[8]=Ce>>>0&255,a[9]=Ce>>>8&255,a[10]=Ce>>>16&255,a[11]=Ce>>>24&255,a[12]=Ne>>>0&255,a[13]=Ne>>>8&255,a[14]=Ne>>>16&255,a[15]=Ne>>>24&255,a[16]=qe>>>0&255,a[17]=qe>>>8&255,a[18]=qe>>>16&255,a[19]=qe>>>24&255,a[20]=we>>>0&255,a[21]=we>>>8&255,a[22]=we>>>16&255,a[23]=we>>>24&255,a[24]=K>>>0&255,a[25]=K>>>8&255,a[26]=K>>>16&255,a[27]=K>>>24&255,a[28]=W>>>0&255,a[29]=W>>>8&255,a[30]=W>>>16&255,a[31]=W>>>24&255,a[32]=ie>>>0&255,a[33]=ie>>>8&255,a[34]=ie>>>16&255,a[35]=ie>>>24&255,a[36]=Q>>>0&255,a[37]=Q>>>8&255,a[38]=Q>>>16&255,a[39]=Q>>>24&255,a[40]=ee>>>0&255,a[41]=ee>>>8&255,a[42]=ee>>>16&255,a[43]=ee>>>24&255,a[44]=le>>>0&255,a[45]=le>>>8&255,a[46]=le>>>16&255,a[47]=le>>>24&255,a[48]=Me>>>0&255,a[49]=Me>>>8&255,a[50]=Me>>>16&255,a[51]=Me>>>24&255,a[52]=Ve>>>0&255,a[53]=Ve>>>8&255,a[54]=Ve>>>16&255,a[55]=Ve>>>24&255,a[56]=Xe>>>0&255,a[57]=Xe>>>8&255,a[58]=Xe>>>16&255,a[59]=Xe>>>24&255,a[60]=Je>>>0&255,a[61]=Je>>>8&255,a[62]=Je>>>16&255,a[63]=Je>>>24&255}function B(a,l,c,r){for(var d=r[0]&255|(r[1]&255)<<8|(r[2]&255)<<16|(r[3]&255)<<24,F=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,L=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,Z=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,he=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,Te=r[4]&255|(r[5]&255)<<8|(r[6]&255)<<16|(r[7]&255)<<24,xe=l[0]&255|(l[1]&255)<<8|(l[2]&255)<<16|(l[3]&255)<<24,nt=l[4]&255|(l[5]&255)<<8|(l[6]&255)<<16|(l[7]&255)<<24,Se=l[8]&255|(l[9]&255)<<8|(l[10]&255)<<16|(l[11]&255)<<24,Le=l[12]&255|(l[13]&255)<<8|(l[14]&255)<<16|(l[15]&255)<<24,$e=r[8]&255|(r[9]&255)<<8|(r[10]&255)<<16|(r[11]&255)<<24,Ge=c[16]&255|(c[17]&255)<<8|(c[18]&255)<<16|(c[19]&255)<<24,Ye=c[20]&255|(c[21]&255)<<8|(c[22]&255)<<16|(c[23]&255)<<24,Ke=c[24]&255|(c[25]&255)<<8|(c[26]&255)<<16|(c[27]&255)<<24,ze=c[28]&255|(c[29]&255)<<8|(c[30]&255)<<16|(c[31]&255)<<24,We=r[12]&255|(r[13]&255)<<8|(r[14]&255)<<16|(r[15]&255)<<24,Ie=d,Ue=F,Ce=L,Ne=Z,qe=he,we=Te,K=xe,W=nt,ie=Se,Q=Le,ee=$e,le=Ge,Me=Ye,Ve=Ke,Xe=ze,Je=We,w,Qe=0;Qe<20;Qe+=2)w=Ie+Me|0,qe^=w<<7|w>>>25,w=qe+Ie|0,ie^=w<<9|w>>>23,w=ie+qe|0,Me^=w<<13|w>>>19,w=Me+ie|0,Ie^=w<<18|w>>>14,w=we+Ue|0,Q^=w<<7|w>>>25,w=Q+we|0,Ve^=w<<9|w>>>23,w=Ve+Q|0,Ue^=w<<13|w>>>19,w=Ue+Ve|0,we^=w<<18|w>>>14,w=ee+K|0,Xe^=w<<7|w>>>25,w=Xe+ee|0,Ce^=w<<9|w>>>23,w=Ce+Xe|0,K^=w<<13|w>>>19,w=K+Ce|0,ee^=w<<18|w>>>14,w=Je+le|0,Ne^=w<<7|w>>>25,w=Ne+Je|0,W^=w<<9|w>>>23,w=W+Ne|0,le^=w<<13|w>>>19,w=le+W|0,Je^=w<<18|w>>>14,w=Ie+Ne|0,Ue^=w<<7|w>>>25,w=Ue+Ie|0,Ce^=w<<9|w>>>23,w=Ce+Ue|0,Ne^=w<<13|w>>>19,w=Ne+Ce|0,Ie^=w<<18|w>>>14,w=we+qe|0,K^=w<<7|w>>>25,w=K+we|0,W^=w<<9|w>>>23,w=W+K|0,qe^=w<<13|w>>>19,w=qe+W|0,we^=w<<18|w>>>14,w=ee+Q|0,le^=w<<7|w>>>25,w=le+ee|0,ie^=w<<9|w>>>23,w=ie+le|0,Q^=w<<13|w>>>19,w=Q+ie|0,ee^=w<<18|w>>>14,w=Je+Xe|0,Me^=w<<7|w>>>25,w=Me+Je|0,Ve^=w<<9|w>>>23,w=Ve+Me|0,Xe^=w<<13|w>>>19,w=Xe+Ve|0,Je^=w<<18|w>>>14;a[0]=Ie>>>0&255,a[1]=Ie>>>8&255,a[2]=Ie>>>16&255,a[3]=Ie>>>24&255,a[4]=we>>>0&255,a[5]=we>>>8&255,a[6]=we>>>16&255,a[7]=we>>>24&255,a[8]=ee>>>0&255,a[9]=ee>>>8&255,a[10]=ee>>>16&255,a[11]=ee>>>24&255,a[12]=Je>>>0&255,a[13]=Je>>>8&255,a[14]=Je>>>16&255,a[15]=Je>>>24&255,a[16]=K>>>0&255,a[17]=K>>>8&255,a[18]=K>>>16&255,a[19]=K>>>24&255,a[20]=W>>>0&255,a[21]=W>>>8&255,a[22]=W>>>16&255,a[23]=W>>>24&255,a[24]=ie>>>0&255,a[25]=ie>>>8&255,a[26]=ie>>>16&255,a[27]=ie>>>24&255,a[28]=Q>>>0&255,a[29]=Q>>>8&255,a[30]=Q>>>16&255,a[31]=Q>>>24&255}function M(a,l,c,r){E(a,l,c,r)}function S(a,l,c,r){B(a,l,c,r)}var j=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function U(a,l,c,r,d,F,L){var Z=new Uint8Array(16),he=new Uint8Array(64),Te,xe;for(xe=0;xe<16;xe++)Z[xe]=0;for(xe=0;xe<8;xe++)Z[xe]=F[xe];for(;d>=64;){for(M(he,Z,L,j),xe=0;xe<64;xe++)a[l+xe]=c[r+xe]^he[xe];for(Te=1,xe=8;xe<16;xe++)Te=Te+(Z[xe]&255)|0,Z[xe]=Te&255,Te>>>=8;d-=64,l+=64,r+=64}if(d>0)for(M(he,Z,L,j),xe=0;xe<d;xe++)a[l+xe]=c[r+xe]^he[xe];return 0}function re(a,l,c,r,d){var F=new Uint8Array(16),L=new Uint8Array(64),Z,he;for(he=0;he<16;he++)F[he]=0;for(he=0;he<8;he++)F[he]=r[he];for(;c>=64;){for(M(L,F,d,j),he=0;he<64;he++)a[l+he]=L[he];for(Z=1,he=8;he<16;he++)Z=Z+(F[he]&255)|0,F[he]=Z&255,Z>>>=8;c-=64,l+=64}if(c>0)for(M(L,F,d,j),he=0;he<c;he++)a[l+he]=L[he];return 0}function me(a,l,c,r,d){var F=new Uint8Array(32);S(F,r,d,j);for(var L=new Uint8Array(8),Z=0;Z<8;Z++)L[Z]=r[Z+16];return re(a,l,c,L,F)}function ne(a,l,c,r,d,F,L){var Z=new Uint8Array(32);S(Z,F,L,j);for(var he=new Uint8Array(8),Te=0;Te<8;Te++)he[Te]=F[Te+16];return U(a,l,c,r,d,he,Z)}var Pe=function(a){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var l,c,r,d,F,L,Z,he;l=a[0]&255|(a[1]&255)<<8,this.r[0]=l&8191,c=a[2]&255|(a[3]&255)<<8,this.r[1]=(l>>>13|c<<3)&8191,r=a[4]&255|(a[5]&255)<<8,this.r[2]=(c>>>10|r<<6)&7939,d=a[6]&255|(a[7]&255)<<8,this.r[3]=(r>>>7|d<<9)&8191,F=a[8]&255|(a[9]&255)<<8,this.r[4]=(d>>>4|F<<12)&255,this.r[5]=F>>>1&8190,L=a[10]&255|(a[11]&255)<<8,this.r[6]=(F>>>14|L<<2)&8191,Z=a[12]&255|(a[13]&255)<<8,this.r[7]=(L>>>11|Z<<5)&8065,he=a[14]&255|(a[15]&255)<<8,this.r[8]=(Z>>>8|he<<8)&8191,this.r[9]=he>>>5&127,this.pad[0]=a[16]&255|(a[17]&255)<<8,this.pad[1]=a[18]&255|(a[19]&255)<<8,this.pad[2]=a[20]&255|(a[21]&255)<<8,this.pad[3]=a[22]&255|(a[23]&255)<<8,this.pad[4]=a[24]&255|(a[25]&255)<<8,this.pad[5]=a[26]&255|(a[27]&255)<<8,this.pad[6]=a[28]&255|(a[29]&255)<<8,this.pad[7]=a[30]&255|(a[31]&255)<<8};Pe.prototype.blocks=function(a,l,c){for(var r=this.fin?0:2048,d,F,L,Z,he,Te,xe,nt,Se,Le,$e,Ge,Ye,Ke,ze,We,Ie,Ue,Ce,Ne=this.h[0],qe=this.h[1],we=this.h[2],K=this.h[3],W=this.h[4],ie=this.h[5],Q=this.h[6],ee=this.h[7],le=this.h[8],Me=this.h[9],Ve=this.r[0],Xe=this.r[1],Je=this.r[2],w=this.r[3],Qe=this.r[4],ot=this.r[5],st=this.r[6],Ze=this.r[7],it=this.r[8],at=this.r[9];c>=16;)d=a[l+0]&255|(a[l+1]&255)<<8,Ne+=d&8191,F=a[l+2]&255|(a[l+3]&255)<<8,qe+=(d>>>13|F<<3)&8191,L=a[l+4]&255|(a[l+5]&255)<<8,we+=(F>>>10|L<<6)&8191,Z=a[l+6]&255|(a[l+7]&255)<<8,K+=(L>>>7|Z<<9)&8191,he=a[l+8]&255|(a[l+9]&255)<<8,W+=(Z>>>4|he<<12)&8191,ie+=he>>>1&8191,Te=a[l+10]&255|(a[l+11]&255)<<8,Q+=(he>>>14|Te<<2)&8191,xe=a[l+12]&255|(a[l+13]&255)<<8,ee+=(Te>>>11|xe<<5)&8191,nt=a[l+14]&255|(a[l+15]&255)<<8,le+=(xe>>>8|nt<<8)&8191,Me+=nt>>>5|r,Se=0,Le=Se,Le+=Ne*Ve,Le+=qe*(5*at),Le+=we*(5*it),Le+=K*(5*Ze),Le+=W*(5*st),Se=Le>>>13,Le&=8191,Le+=ie*(5*ot),Le+=Q*(5*Qe),Le+=ee*(5*w),Le+=le*(5*Je),Le+=Me*(5*Xe),Se+=Le>>>13,Le&=8191,$e=Se,$e+=Ne*Xe,$e+=qe*Ve,$e+=we*(5*at),$e+=K*(5*it),$e+=W*(5*Ze),Se=$e>>>13,$e&=8191,$e+=ie*(5*st),$e+=Q*(5*ot),$e+=ee*(5*Qe),$e+=le*(5*w),$e+=Me*(5*Je),Se+=$e>>>13,$e&=8191,Ge=Se,Ge+=Ne*Je,Ge+=qe*Xe,Ge+=we*Ve,Ge+=K*(5*at),Ge+=W*(5*it),Se=Ge>>>13,Ge&=8191,Ge+=ie*(5*Ze),Ge+=Q*(5*st),Ge+=ee*(5*ot),Ge+=le*(5*Qe),Ge+=Me*(5*w),Se+=Ge>>>13,Ge&=8191,Ye=Se,Ye+=Ne*w,Ye+=qe*Je,Ye+=we*Xe,Ye+=K*Ve,Ye+=W*(5*at),Se=Ye>>>13,Ye&=8191,Ye+=ie*(5*it),Ye+=Q*(5*Ze),Ye+=ee*(5*st),Ye+=le*(5*ot),Ye+=Me*(5*Qe),Se+=Ye>>>13,Ye&=8191,Ke=Se,Ke+=Ne*Qe,Ke+=qe*w,Ke+=we*Je,Ke+=K*Xe,Ke+=W*Ve,Se=Ke>>>13,Ke&=8191,Ke+=ie*(5*at),Ke+=Q*(5*it),Ke+=ee*(5*Ze),Ke+=le*(5*st),Ke+=Me*(5*ot),Se+=Ke>>>13,Ke&=8191,ze=Se,ze+=Ne*ot,ze+=qe*Qe,ze+=we*w,ze+=K*Je,ze+=W*Xe,Se=ze>>>13,ze&=8191,ze+=ie*Ve,ze+=Q*(5*at),ze+=ee*(5*it),ze+=le*(5*Ze),ze+=Me*(5*st),Se+=ze>>>13,ze&=8191,We=Se,We+=Ne*st,We+=qe*ot,We+=we*Qe,We+=K*w,We+=W*Je,Se=We>>>13,We&=8191,We+=ie*Xe,We+=Q*Ve,We+=ee*(5*at),We+=le*(5*it),We+=Me*(5*Ze),Se+=We>>>13,We&=8191,Ie=Se,Ie+=Ne*Ze,Ie+=qe*st,Ie+=we*ot,Ie+=K*Qe,Ie+=W*w,Se=Ie>>>13,Ie&=8191,Ie+=ie*Je,Ie+=Q*Xe,Ie+=ee*Ve,Ie+=le*(5*at),Ie+=Me*(5*it),Se+=Ie>>>13,Ie&=8191,Ue=Se,Ue+=Ne*it,Ue+=qe*Ze,Ue+=we*st,Ue+=K*ot,Ue+=W*Qe,Se=Ue>>>13,Ue&=8191,Ue+=ie*w,Ue+=Q*Je,Ue+=ee*Xe,Ue+=le*Ve,Ue+=Me*(5*at),Se+=Ue>>>13,Ue&=8191,Ce=Se,Ce+=Ne*at,Ce+=qe*it,Ce+=we*Ze,Ce+=K*st,Ce+=W*ot,Se=Ce>>>13,Ce&=8191,Ce+=ie*Qe,Ce+=Q*w,Ce+=ee*Je,Ce+=le*Xe,Ce+=Me*Ve,Se+=Ce>>>13,Ce&=8191,Se=(Se<<2)+Se|0,Se=Se+Le|0,Le=Se&8191,Se=Se>>>13,$e+=Se,Ne=Le,qe=$e,we=Ge,K=Ye,W=Ke,ie=ze,Q=We,ee=Ie,le=Ue,Me=Ce,l+=16,c-=16;this.h[0]=Ne,this.h[1]=qe,this.h[2]=we,this.h[3]=K,this.h[4]=W,this.h[5]=ie,this.h[6]=Q,this.h[7]=ee,this.h[8]=le,this.h[9]=Me},Pe.prototype.finish=function(a,l){var c=new Uint16Array(10),r,d,F,L;if(this.leftover){for(L=this.leftover,this.buffer[L++]=1;L<16;L++)this.buffer[L]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,L=2;L<10;L++)this.h[L]+=r,r=this.h[L]>>>13,this.h[L]&=8191;for(this.h[0]+=r*5,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,c[0]=this.h[0]+5,r=c[0]>>>13,c[0]&=8191,L=1;L<10;L++)c[L]=this.h[L]+r,r=c[L]>>>13,c[L]&=8191;for(c[9]-=8192,d=(r^1)-1,L=0;L<10;L++)c[L]&=d;for(d=~d,L=0;L<10;L++)this.h[L]=this.h[L]&d|c[L];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,F=this.h[0]+this.pad[0],this.h[0]=F&65535,L=1;L<8;L++)F=(this.h[L]+this.pad[L]|0)+(F>>>16)|0,this.h[L]=F&65535;a[l+0]=this.h[0]>>>0&255,a[l+1]=this.h[0]>>>8&255,a[l+2]=this.h[1]>>>0&255,a[l+3]=this.h[1]>>>8&255,a[l+4]=this.h[2]>>>0&255,a[l+5]=this.h[2]>>>8&255,a[l+6]=this.h[3]>>>0&255,a[l+7]=this.h[3]>>>8&255,a[l+8]=this.h[4]>>>0&255,a[l+9]=this.h[4]>>>8&255,a[l+10]=this.h[5]>>>0&255,a[l+11]=this.h[5]>>>8&255,a[l+12]=this.h[6]>>>0&255,a[l+13]=this.h[6]>>>8&255,a[l+14]=this.h[7]>>>0&255,a[l+15]=this.h[7]>>>8&255},Pe.prototype.update=function(a,l,c){var r,d;if(this.leftover){for(d=16-this.leftover,d>c&&(d=c),r=0;r<d;r++)this.buffer[this.leftover+r]=a[l+r];if(c-=d,l+=d,this.leftover+=d,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(c>=16&&(d=c-c%16,this.blocks(a,l,d),l+=d,c-=d),c){for(r=0;r<c;r++)this.buffer[this.leftover+r]=a[l+r];this.leftover+=c}};function ce(a,l,c,r,d,F){var L=new Pe(F);return L.update(c,r,d),L.finish(a,l),0}function et(a,l,c,r,d,F){var L=new Uint8Array(16);return ce(L,0,c,r,d,F),_(a,l,L,0)}function te(a,l,c,r,d){var F;if(c<32)return-1;for(ne(a,0,l,0,c,r,d),ce(a,16,a,32,c-32,a),F=0;F<16;F++)a[F]=0;return 0}function Oe(a,l,c,r,d){var F,L=new Uint8Array(32);if(c<32||(me(L,0,32,r,d),et(l,16,l,32,c-32,L)!==0))return-1;for(ne(a,0,l,0,c,r,d),F=0;F<32;F++)a[F]=0;return 0}function ke(a,l){var c;for(c=0;c<16;c++)a[c]=l[c]|0}function De(a){var l,c,r=1;for(l=0;l<16;l++)c=a[l]+r+65535,r=Math.floor(c/65536),a[l]=c-r*65536;a[0]+=r-1+37*(r-1)}function J(a,l,c){for(var r,d=~(c-1),F=0;F<16;F++)r=d&(a[F]^l[F]),a[F]^=r,l[F]^=r}function de(a,l){var c,r,d,F=t(),L=t();for(c=0;c<16;c++)L[c]=l[c];for(De(L),De(L),De(L),r=0;r<2;r++){for(F[0]=L[0]-65517,c=1;c<15;c++)F[c]=L[c]-65535-(F[c-1]>>16&1),F[c-1]&=65535;F[15]=L[15]-32767-(F[14]>>16&1),d=F[15]>>16&1,F[14]&=65535,J(L,F,1-d)}for(c=0;c<16;c++)a[2*c]=L[c]&255,a[2*c+1]=L[c]>>8}function pe(a,l){var c=new Uint8Array(32),r=new Uint8Array(32);return de(c,a),de(r,l),m(c,0,r,0)}function Ae(a){var l=new Uint8Array(32);return de(l,a),l[0]&1}function Fe(a,l){var c;for(c=0;c<16;c++)a[c]=l[2*c]+(l[2*c+1]<<8);a[15]&=32767}function Ee(a,l,c){for(var r=0;r<16;r++)a[r]=l[r]+c[r]}function oe(a,l,c){for(var r=0;r<16;r++)a[r]=l[r]-c[r]}function be(a,l,c){var r,d,F=0,L=0,Z=0,he=0,Te=0,xe=0,nt=0,Se=0,Le=0,$e=0,Ge=0,Ye=0,Ke=0,ze=0,We=0,Ie=0,Ue=0,Ce=0,Ne=0,qe=0,we=0,K=0,W=0,ie=0,Q=0,ee=0,le=0,Me=0,Ve=0,Xe=0,Je=0,w=c[0],Qe=c[1],ot=c[2],st=c[3],Ze=c[4],it=c[5],at=c[6],bt=c[7],dt=c[8],vt=c[9],mt=c[10],xt=c[11],Et=c[12],Ot=c[13],Pt=c[14],Rt=c[15];r=l[0],F+=r*w,L+=r*Qe,Z+=r*ot,he+=r*st,Te+=r*Ze,xe+=r*it,nt+=r*at,Se+=r*bt,Le+=r*dt,$e+=r*vt,Ge+=r*mt,Ye+=r*xt,Ke+=r*Et,ze+=r*Ot,We+=r*Pt,Ie+=r*Rt,r=l[1],L+=r*w,Z+=r*Qe,he+=r*ot,Te+=r*st,xe+=r*Ze,nt+=r*it,Se+=r*at,Le+=r*bt,$e+=r*dt,Ge+=r*vt,Ye+=r*mt,Ke+=r*xt,ze+=r*Et,We+=r*Ot,Ie+=r*Pt,Ue+=r*Rt,r=l[2],Z+=r*w,he+=r*Qe,Te+=r*ot,xe+=r*st,nt+=r*Ze,Se+=r*it,Le+=r*at,$e+=r*bt,Ge+=r*dt,Ye+=r*vt,Ke+=r*mt,ze+=r*xt,We+=r*Et,Ie+=r*Ot,Ue+=r*Pt,Ce+=r*Rt,r=l[3],he+=r*w,Te+=r*Qe,xe+=r*ot,nt+=r*st,Se+=r*Ze,Le+=r*it,$e+=r*at,Ge+=r*bt,Ye+=r*dt,Ke+=r*vt,ze+=r*mt,We+=r*xt,Ie+=r*Et,Ue+=r*Ot,Ce+=r*Pt,Ne+=r*Rt,r=l[4],Te+=r*w,xe+=r*Qe,nt+=r*ot,Se+=r*st,Le+=r*Ze,$e+=r*it,Ge+=r*at,Ye+=r*bt,Ke+=r*dt,ze+=r*vt,We+=r*mt,Ie+=r*xt,Ue+=r*Et,Ce+=r*Ot,Ne+=r*Pt,qe+=r*Rt,r=l[5],xe+=r*w,nt+=r*Qe,Se+=r*ot,Le+=r*st,$e+=r*Ze,Ge+=r*it,Ye+=r*at,Ke+=r*bt,ze+=r*dt,We+=r*vt,Ie+=r*mt,Ue+=r*xt,Ce+=r*Et,Ne+=r*Ot,qe+=r*Pt,we+=r*Rt,r=l[6],nt+=r*w,Se+=r*Qe,Le+=r*ot,$e+=r*st,Ge+=r*Ze,Ye+=r*it,Ke+=r*at,ze+=r*bt,We+=r*dt,Ie+=r*vt,Ue+=r*mt,Ce+=r*xt,Ne+=r*Et,qe+=r*Ot,we+=r*Pt,K+=r*Rt,r=l[7],Se+=r*w,Le+=r*Qe,$e+=r*ot,Ge+=r*st,Ye+=r*Ze,Ke+=r*it,ze+=r*at,We+=r*bt,Ie+=r*dt,Ue+=r*vt,Ce+=r*mt,Ne+=r*xt,qe+=r*Et,we+=r*Ot,K+=r*Pt,W+=r*Rt,r=l[8],Le+=r*w,$e+=r*Qe,Ge+=r*ot,Ye+=r*st,Ke+=r*Ze,ze+=r*it,We+=r*at,Ie+=r*bt,Ue+=r*dt,Ce+=r*vt,Ne+=r*mt,qe+=r*xt,we+=r*Et,K+=r*Ot,W+=r*Pt,ie+=r*Rt,r=l[9],$e+=r*w,Ge+=r*Qe,Ye+=r*ot,Ke+=r*st,ze+=r*Ze,We+=r*it,Ie+=r*at,Ue+=r*bt,Ce+=r*dt,Ne+=r*vt,qe+=r*mt,we+=r*xt,K+=r*Et,W+=r*Ot,ie+=r*Pt,Q+=r*Rt,r=l[10],Ge+=r*w,Ye+=r*Qe,Ke+=r*ot,ze+=r*st,We+=r*Ze,Ie+=r*it,Ue+=r*at,Ce+=r*bt,Ne+=r*dt,qe+=r*vt,we+=r*mt,K+=r*xt,W+=r*Et,ie+=r*Ot,Q+=r*Pt,ee+=r*Rt,r=l[11],Ye+=r*w,Ke+=r*Qe,ze+=r*ot,We+=r*st,Ie+=r*Ze,Ue+=r*it,Ce+=r*at,Ne+=r*bt,qe+=r*dt,we+=r*vt,K+=r*mt,W+=r*xt,ie+=r*Et,Q+=r*Ot,ee+=r*Pt,le+=r*Rt,r=l[12],Ke+=r*w,ze+=r*Qe,We+=r*ot,Ie+=r*st,Ue+=r*Ze,Ce+=r*it,Ne+=r*at,qe+=r*bt,we+=r*dt,K+=r*vt,W+=r*mt,ie+=r*xt,Q+=r*Et,ee+=r*Ot,le+=r*Pt,Me+=r*Rt,r=l[13],ze+=r*w,We+=r*Qe,Ie+=r*ot,Ue+=r*st,Ce+=r*Ze,Ne+=r*it,qe+=r*at,we+=r*bt,K+=r*dt,W+=r*vt,ie+=r*mt,Q+=r*xt,ee+=r*Et,le+=r*Ot,Me+=r*Pt,Ve+=r*Rt,r=l[14],We+=r*w,Ie+=r*Qe,Ue+=r*ot,Ce+=r*st,Ne+=r*Ze,qe+=r*it,we+=r*at,K+=r*bt,W+=r*dt,ie+=r*vt,Q+=r*mt,ee+=r*xt,le+=r*Et,Me+=r*Ot,Ve+=r*Pt,Xe+=r*Rt,r=l[15],Ie+=r*w,Ue+=r*Qe,Ce+=r*ot,Ne+=r*st,qe+=r*Ze,we+=r*it,K+=r*at,W+=r*bt,ie+=r*dt,Q+=r*vt,ee+=r*mt,le+=r*xt,Me+=r*Et,Ve+=r*Ot,Xe+=r*Pt,Je+=r*Rt,F+=38*Ue,L+=38*Ce,Z+=38*Ne,he+=38*qe,Te+=38*we,xe+=38*K,nt+=38*W,Se+=38*ie,Le+=38*Q,$e+=38*ee,Ge+=38*le,Ye+=38*Me,Ke+=38*Ve,ze+=38*Xe,We+=38*Je,d=1,r=F+d+65535,d=Math.floor(r/65536),F=r-d*65536,r=L+d+65535,d=Math.floor(r/65536),L=r-d*65536,r=Z+d+65535,d=Math.floor(r/65536),Z=r-d*65536,r=he+d+65535,d=Math.floor(r/65536),he=r-d*65536,r=Te+d+65535,d=Math.floor(r/65536),Te=r-d*65536,r=xe+d+65535,d=Math.floor(r/65536),xe=r-d*65536,r=nt+d+65535,d=Math.floor(r/65536),nt=r-d*65536,r=Se+d+65535,d=Math.floor(r/65536),Se=r-d*65536,r=Le+d+65535,d=Math.floor(r/65536),Le=r-d*65536,r=$e+d+65535,d=Math.floor(r/65536),$e=r-d*65536,r=Ge+d+65535,d=Math.floor(r/65536),Ge=r-d*65536,r=Ye+d+65535,d=Math.floor(r/65536),Ye=r-d*65536,r=Ke+d+65535,d=Math.floor(r/65536),Ke=r-d*65536,r=ze+d+65535,d=Math.floor(r/65536),ze=r-d*65536,r=We+d+65535,d=Math.floor(r/65536),We=r-d*65536,r=Ie+d+65535,d=Math.floor(r/65536),Ie=r-d*65536,F+=d-1+37*(d-1),d=1,r=F+d+65535,d=Math.floor(r/65536),F=r-d*65536,r=L+d+65535,d=Math.floor(r/65536),L=r-d*65536,r=Z+d+65535,d=Math.floor(r/65536),Z=r-d*65536,r=he+d+65535,d=Math.floor(r/65536),he=r-d*65536,r=Te+d+65535,d=Math.floor(r/65536),Te=r-d*65536,r=xe+d+65535,d=Math.floor(r/65536),xe=r-d*65536,r=nt+d+65535,d=Math.floor(r/65536),nt=r-d*65536,r=Se+d+65535,d=Math.floor(r/65536),Se=r-d*65536,r=Le+d+65535,d=Math.floor(r/65536),Le=r-d*65536,r=$e+d+65535,d=Math.floor(r/65536),$e=r-d*65536,r=Ge+d+65535,d=Math.floor(r/65536),Ge=r-d*65536,r=Ye+d+65535,d=Math.floor(r/65536),Ye=r-d*65536,r=Ke+d+65535,d=Math.floor(r/65536),Ke=r-d*65536,r=ze+d+65535,d=Math.floor(r/65536),ze=r-d*65536,r=We+d+65535,d=Math.floor(r/65536),We=r-d*65536,r=Ie+d+65535,d=Math.floor(r/65536),Ie=r-d*65536,F+=d-1+37*(d-1),a[0]=F,a[1]=L,a[2]=Z,a[3]=he,a[4]=Te,a[5]=xe,a[6]=nt,a[7]=Se,a[8]=Le,a[9]=$e,a[10]=Ge,a[11]=Ye,a[12]=Ke,a[13]=ze,a[14]=We,a[15]=Ie}function Be(a,l){be(a,l,l)}function ft(a,l){var c=t(),r;for(r=0;r<16;r++)c[r]=l[r];for(r=253;r>=0;r--)Be(c,c),r!==2&&r!==4&&be(c,c,l);for(r=0;r<16;r++)a[r]=c[r]}function _e(a,l){var c=t(),r;for(r=0;r<16;r++)c[r]=l[r];for(r=250;r>=0;r--)Be(c,c),r!==1&&be(c,c,l);for(r=0;r<16;r++)a[r]=c[r]}function ye(a,l,c){var r=new Uint8Array(32),d=new Float64Array(80),F,L,Z=t(),he=t(),Te=t(),xe=t(),nt=t(),Se=t();for(L=0;L<31;L++)r[L]=l[L];for(r[31]=l[31]&127|64,r[0]&=248,Fe(d,c),L=0;L<16;L++)he[L]=d[L],xe[L]=Z[L]=Te[L]=0;for(Z[0]=xe[0]=1,L=254;L>=0;--L)F=r[L>>>3]>>>(L&7)&1,J(Z,he,F),J(Te,xe,F),Ee(nt,Z,Te),oe(Z,Z,Te),Ee(Te,he,xe),oe(he,he,xe),Be(xe,nt),Be(Se,Z),be(Z,Te,Z),be(Te,he,nt),Ee(nt,Z,Te),oe(Z,Z,Te),Be(he,Z),oe(Te,xe,Se),be(Z,Te,h),Ee(Z,Z,xe),be(Te,Te,Z),be(Z,xe,Se),be(xe,he,d),Be(he,nt),J(Z,he,F),J(Te,xe,F);for(L=0;L<16;L++)d[L+16]=Z[L],d[L+32]=Te[L],d[L+48]=he[L],d[L+64]=xe[L];var Le=d.subarray(32),$e=d.subarray(16);return ft(Le,Le),be($e,$e,Le),de(a,$e),0}function b(a,l){return ye(a,l,s)}function T(a,l){return n(l,32),b(a,l)}function q(a,l,c){var r=new Uint8Array(32);return ye(r,c,l),S(a,o,r,j)}var G=te,V=Oe;function X(a,l,c,r,d,F){var L=new Uint8Array(32);return q(L,d,F),G(a,l,c,r,L)}function ue(a,l,c,r,d,F){var L=new Uint8Array(32);return q(L,d,F),V(a,l,c,r,L)}var P=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function D(a,l,c,r){for(var d=new Int32Array(16),F=new Int32Array(16),L,Z,he,Te,xe,nt,Se,Le,$e,Ge,Ye,Ke,ze,We,Ie,Ue,Ce,Ne,qe,we,K,W,ie,Q,ee,le,Me=a[0],Ve=a[1],Xe=a[2],Je=a[3],w=a[4],Qe=a[5],ot=a[6],st=a[7],Ze=l[0],it=l[1],at=l[2],bt=l[3],dt=l[4],vt=l[5],mt=l[6],xt=l[7],Et=0;r>=128;){for(qe=0;qe<16;qe++)we=8*qe+Et,d[qe]=c[we+0]<<24|c[we+1]<<16|c[we+2]<<8|c[we+3],F[qe]=c[we+4]<<24|c[we+5]<<16|c[we+6]<<8|c[we+7];for(qe=0;qe<80;qe++)if(L=Me,Z=Ve,he=Xe,Te=Je,xe=w,nt=Qe,Se=ot,Le=st,$e=Ze,Ge=it,Ye=at,Ke=bt,ze=dt,We=vt,Ie=mt,Ue=xt,K=st,W=xt,ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=(w>>>14|dt<<18)^(w>>>18|dt<<14)^(dt>>>9|w<<23),W=(dt>>>14|w<<18)^(dt>>>18|w<<14)^(w>>>9|dt<<23),ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,K=w&Qe^~w&ot,W=dt&vt^~dt&mt,ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,K=P[qe*2],W=P[qe*2+1],ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,K=d[qe%16],W=F[qe%16],ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,Ce=ee&65535|le<<16,Ne=ie&65535|Q<<16,K=Ce,W=Ne,ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=(Me>>>28|Ze<<4)^(Ze>>>2|Me<<30)^(Ze>>>7|Me<<25),W=(Ze>>>28|Me<<4)^(Me>>>2|Ze<<30)^(Me>>>7|Ze<<25),ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,K=Me&Ve^Me&Xe^Ve&Xe,W=Ze&it^Ze&at^it&at,ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,Le=ee&65535|le<<16,Ue=ie&65535|Q<<16,K=Te,W=Ke,ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=Ce,W=Ne,ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,Te=ee&65535|le<<16,Ke=ie&65535|Q<<16,Ve=L,Xe=Z,Je=he,w=Te,Qe=xe,ot=nt,st=Se,Me=Le,it=$e,at=Ge,bt=Ye,dt=Ke,vt=ze,mt=We,xt=Ie,Ze=Ue,qe%16===15)for(we=0;we<16;we++)K=d[we],W=F[we],ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=d[(we+9)%16],W=F[(we+9)%16],ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Ce=d[(we+1)%16],Ne=F[(we+1)%16],K=(Ce>>>1|Ne<<31)^(Ce>>>8|Ne<<24)^Ce>>>7,W=(Ne>>>1|Ce<<31)^(Ne>>>8|Ce<<24)^(Ne>>>7|Ce<<25),ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Ce=d[(we+14)%16],Ne=F[(we+14)%16],K=(Ce>>>19|Ne<<13)^(Ne>>>29|Ce<<3)^Ce>>>6,W=(Ne>>>19|Ce<<13)^(Ce>>>29|Ne<<3)^(Ne>>>6|Ce<<26),ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,d[we]=ee&65535|le<<16,F[we]=ie&65535|Q<<16;K=Me,W=Ze,ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=a[0],W=l[0],ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,a[0]=Me=ee&65535|le<<16,l[0]=Ze=ie&65535|Q<<16,K=Ve,W=it,ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=a[1],W=l[1],ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,a[1]=Ve=ee&65535|le<<16,l[1]=it=ie&65535|Q<<16,K=Xe,W=at,ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=a[2],W=l[2],ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,a[2]=Xe=ee&65535|le<<16,l[2]=at=ie&65535|Q<<16,K=Je,W=bt,ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=a[3],W=l[3],ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,a[3]=Je=ee&65535|le<<16,l[3]=bt=ie&65535|Q<<16,K=w,W=dt,ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=a[4],W=l[4],ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,a[4]=w=ee&65535|le<<16,l[4]=dt=ie&65535|Q<<16,K=Qe,W=vt,ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=a[5],W=l[5],ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,a[5]=Qe=ee&65535|le<<16,l[5]=vt=ie&65535|Q<<16,K=ot,W=mt,ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=a[6],W=l[6],ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,a[6]=ot=ee&65535|le<<16,l[6]=mt=ie&65535|Q<<16,K=st,W=xt,ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=a[7],W=l[7],ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,a[7]=st=ee&65535|le<<16,l[7]=xt=ie&65535|Q<<16,Et+=128,r-=128}return r}function z(a,l,c){var r=new Int32Array(8),d=new Int32Array(8),F=new Uint8Array(256),L,Z=c;for(r[0]=1779033703,r[1]=3144134277,r[2]=1013904242,r[3]=2773480762,r[4]=1359893119,r[5]=2600822924,r[6]=528734635,r[7]=1541459225,d[0]=4089235720,d[1]=2227873595,d[2]=4271175723,d[3]=1595750129,d[4]=2917565137,d[5]=725511199,d[6]=4215389547,d[7]=327033209,D(r,d,l,c),c%=128,L=0;L<c;L++)F[L]=l[Z-c+L];for(F[c]=128,c=256-128*(c<112?1:0),F[c-9]=0,R(F,c-8,Z/536870912|0,Z<<3),D(r,d,F,c),L=0;L<8;L++)R(a,8*L,r[L],d[L]);return 0}function Y(a,l){var c=t(),r=t(),d=t(),F=t(),L=t(),Z=t(),he=t(),Te=t(),xe=t();oe(c,a[1],a[0]),oe(xe,l[1],l[0]),be(c,c,xe),Ee(r,a[0],a[1]),Ee(xe,l[0],l[1]),be(r,r,xe),be(d,a[3],l[3]),be(d,d,O),be(F,a[2],l[2]),Ee(F,F,F),oe(L,r,c),oe(Z,F,d),Ee(he,F,d),Ee(Te,r,c),be(a[0],L,Z),be(a[1],Te,he),be(a[2],he,Z),be(a[3],L,Te)}function ge(a,l,c){var r;for(r=0;r<4;r++)J(a[r],l[r],c)}function je(a,l){var c=t(),r=t(),d=t();ft(d,l[2]),be(c,l[0],d),be(r,l[1],d),de(a,r),a[31]^=Ae(c)<<7}function He(a,l,c){var r,d;for(ke(a[0],u),ke(a[1],f),ke(a[2],f),ke(a[3],u),d=255;d>=0;--d)r=c[d/8|0]>>(d&7)&1,ge(a,l,r),Y(l,a),Y(a,a),ge(a,l,r)}function ut(a,l){var c=[t(),t(),t(),t()];ke(c[0],A),ke(c[1],N),ke(c[2],f),be(c[3],A,N),He(a,c,l)}function lt(a,l,c){var r=new Uint8Array(64),d=[t(),t(),t(),t()],F;for(c||n(l,32),z(r,l,32),r[0]&=248,r[31]&=127,r[31]|=64,ut(d,r),je(a,d),F=0;F<32;F++)l[F+32]=a[F];return 0}var _t=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function I(a,l){var c,r,d,F;for(r=63;r>=32;--r){for(c=0,d=r-32,F=r-12;d<F;++d)l[d]+=c-16*l[r]*_t[d-(r-32)],c=Math.floor((l[d]+128)/256),l[d]-=c*256;l[d]+=c,l[r]=0}for(c=0,d=0;d<32;d++)l[d]+=c-(l[31]>>4)*_t[d],c=l[d]>>8,l[d]&=255;for(d=0;d<32;d++)l[d]-=c*_t[d];for(r=0;r<32;r++)l[r+1]+=l[r]>>8,a[r]=l[r]&255}function y(a){var l=new Float64Array(64),c;for(c=0;c<64;c++)l[c]=a[c];for(c=0;c<64;c++)a[c]=0;I(a,l)}function v(a,l,c,r){var d=new Uint8Array(64),F=new Uint8Array(64),L=new Uint8Array(64),Z,he,Te=new Float64Array(64),xe=[t(),t(),t(),t()];z(d,r,32),d[0]&=248,d[31]&=127,d[31]|=64;var nt=c+64;for(Z=0;Z<c;Z++)a[64+Z]=l[Z];for(Z=0;Z<32;Z++)a[32+Z]=d[32+Z];for(z(L,a.subarray(32),c+32),y(L),ut(xe,L),je(a,xe),Z=32;Z<64;Z++)a[Z]=r[Z];for(z(F,a,c+64),y(F),Z=0;Z<64;Z++)Te[Z]=0;for(Z=0;Z<32;Z++)Te[Z]=L[Z];for(Z=0;Z<32;Z++)for(he=0;he<32;he++)Te[Z+he]+=F[Z]*d[he];return I(a.subarray(32),Te),nt}function $(a,l){var c=t(),r=t(),d=t(),F=t(),L=t(),Z=t(),he=t();return ke(a[2],f),Fe(a[1],l),Be(d,a[1]),be(F,d,g),oe(d,d,a[2]),Ee(F,a[2],F),Be(L,F),Be(Z,L),be(he,Z,L),be(c,he,d),be(c,c,F),_e(c,c),be(c,c,d),be(c,c,F),be(c,c,F),be(a[0],c,F),Be(r,a[0]),be(r,r,F),pe(r,d)&&be(a[0],a[0],C),Be(r,a[0]),be(r,r,F),pe(r,d)?-1:(Ae(a[0])===l[31]>>7&&oe(a[0],u,a[0]),be(a[3],a[0],a[1]),0)}function se(a,l,c,r){var d,F=new Uint8Array(32),L=new Uint8Array(64),Z=[t(),t(),t(),t()],he=[t(),t(),t(),t()];if(c<64||$(he,r))return-1;for(d=0;d<c;d++)a[d]=l[d];for(d=0;d<32;d++)a[d+32]=r[d];if(z(L,a,c),y(L),He(Z,he,L),ut(he,l.subarray(32)),Y(Z,he),je(F,Z),c-=64,m(l,0,F,0)){for(d=0;d<c;d++)a[d]=0;return-1}for(d=0;d<c;d++)a[d]=l[d+64];return c}var ve=32,Re=24,ht=32,pt=16,ae=32,fe=32,rt=32,St=32,At=32,gt=Re,er=ht,rr=pt,Ct=64,qt=32,Kt=64,Yt=32,jt=64;e.lowlevel={crypto_core_hsalsa20:S,crypto_stream_xor:ne,crypto_stream:me,crypto_stream_salsa20_xor:U,crypto_stream_salsa20:re,crypto_onetimeauth:ce,crypto_onetimeauth_verify:et,crypto_verify_16:_,crypto_verify_32:m,crypto_secretbox:te,crypto_secretbox_open:Oe,crypto_scalarmult:ye,crypto_scalarmult_base:b,crypto_box_beforenm:q,crypto_box_afternm:G,crypto_box:X,crypto_box_open:ue,crypto_box_keypair:T,crypto_hash:z,crypto_sign:v,crypto_sign_keypair:lt,crypto_sign_open:se,crypto_secretbox_KEYBYTES:ve,crypto_secretbox_NONCEBYTES:Re,crypto_secretbox_ZEROBYTES:ht,crypto_secretbox_BOXZEROBYTES:pt,crypto_scalarmult_BYTES:ae,crypto_scalarmult_SCALARBYTES:fe,crypto_box_PUBLICKEYBYTES:rt,crypto_box_SECRETKEYBYTES:St,crypto_box_BEFORENMBYTES:At,crypto_box_NONCEBYTES:gt,crypto_box_ZEROBYTES:er,crypto_box_BOXZEROBYTES:rr,crypto_sign_BYTES:Ct,crypto_sign_PUBLICKEYBYTES:qt,crypto_sign_SECRETKEYBYTES:Kt,crypto_sign_SEEDBYTES:Yt,crypto_hash_BYTES:jt,gf:t,D:g,L:_t,pack25519:de,unpack25519:Fe,M:be,A:Ee,S:Be,Z:oe,pow2523:_e,add:Y,set25519:ke,modL:I,scalarmult:He,scalarbase:ut};function xr(a,l){if(a.length!==ve)throw new Error("bad key size");if(l.length!==Re)throw new Error("bad nonce size")}function an(a,l){if(a.length!==rt)throw new Error("bad public key size");if(l.length!==St)throw new Error("bad secret key size")}function It(){for(var a=0;a<arguments.length;a++)if(!(arguments[a]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function nr(a){for(var l=0;l<a.length;l++)a[l]=0}e.randomBytes=function(a){var l=new Uint8Array(a);return n(l,a),l},e.secretbox=function(a,l,c){It(a,l,c),xr(c,l);for(var r=new Uint8Array(ht+a.length),d=new Uint8Array(r.length),F=0;F<a.length;F++)r[F+ht]=a[F];return te(d,r,r.length,l,c),d.subarray(pt)},e.secretbox.open=function(a,l,c){It(a,l,c),xr(c,l);for(var r=new Uint8Array(pt+a.length),d=new Uint8Array(r.length),F=0;F<a.length;F++)r[F+pt]=a[F];return r.length<32||Oe(d,r,r.length,l,c)!==0?null:d.subarray(ht)},e.secretbox.keyLength=ve,e.secretbox.nonceLength=Re,e.secretbox.overheadLength=pt,e.scalarMult=function(a,l){if(It(a,l),a.length!==fe)throw new Error("bad n size");if(l.length!==ae)throw new Error("bad p size");var c=new Uint8Array(ae);return ye(c,a,l),c},e.scalarMult.base=function(a){if(It(a),a.length!==fe)throw new Error("bad n size");var l=new Uint8Array(ae);return b(l,a),l},e.scalarMult.scalarLength=fe,e.scalarMult.groupElementLength=ae,e.box=function(a,l,c,r){var d=e.box.before(c,r);return e.secretbox(a,l,d)},e.box.before=function(a,l){It(a,l),an(a,l);var c=new Uint8Array(At);return q(c,a,l),c},e.box.after=e.secretbox,e.box.open=function(a,l,c,r){var d=e.box.before(c,r);return e.secretbox.open(a,l,d)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var a=new Uint8Array(rt),l=new Uint8Array(St);return T(a,l),{publicKey:a,secretKey:l}},e.box.keyPair.fromSecretKey=function(a){if(It(a),a.length!==St)throw new Error("bad secret key size");var l=new Uint8Array(rt);return b(l,a),{publicKey:l,secretKey:new Uint8Array(a)}},e.box.publicKeyLength=rt,e.box.secretKeyLength=St,e.box.sharedKeyLength=At,e.box.nonceLength=gt,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(a,l){if(It(a,l),l.length!==Kt)throw new Error("bad secret key size");var c=new Uint8Array(Ct+a.length);return v(c,a,a.length,l),c},e.sign.open=function(a,l){if(It(a,l),l.length!==qt)throw new Error("bad public key size");var c=new Uint8Array(a.length),r=se(c,a,a.length,l);if(r<0)return null;for(var d=new Uint8Array(r),F=0;F<d.length;F++)d[F]=c[F];return d},e.sign.detached=function(a,l){for(var c=e.sign(a,l),r=new Uint8Array(Ct),d=0;d<r.length;d++)r[d]=c[d];return r},e.sign.detached.verify=function(a,l,c){if(It(a,l,c),l.length!==Ct)throw new Error("bad signature size");if(c.length!==qt)throw new Error("bad public key size");var r=new Uint8Array(Ct+a.length),d=new Uint8Array(Ct+a.length),F;for(F=0;F<Ct;F++)r[F]=l[F];for(F=0;F<a.length;F++)r[F+Ct]=a[F];return se(d,r,r.length,c)>=0},e.sign.keyPair=function(){var a=new Uint8Array(qt),l=new Uint8Array(Kt);return lt(a,l),{publicKey:a,secretKey:l}},e.sign.keyPair.fromSecretKey=function(a){if(It(a),a.length!==Kt)throw new Error("bad secret key size");for(var l=new Uint8Array(qt),c=0;c<l.length;c++)l[c]=a[32+c];return{publicKey:l,secretKey:new Uint8Array(a)}},e.sign.keyPair.fromSeed=function(a){if(It(a),a.length!==Yt)throw new Error("bad seed size");for(var l=new Uint8Array(qt),c=new Uint8Array(Kt),r=0;r<32;r++)c[r]=a[r];return lt(l,c,!0),{publicKey:l,secretKey:c}},e.sign.publicKeyLength=qt,e.sign.secretKeyLength=Kt,e.sign.seedLength=Yt,e.sign.signatureLength=Ct,e.hash=function(a){It(a);var l=new Uint8Array(jt);return z(l,a,a.length),l},e.hash.hashLength=jt,e.verify=function(a,l){return It(a,l),a.length===0||l.length===0||a.length!==l.length?!1:k(a,0,l,0,a.length)===0},e.setPRNG=function(a){n=a},function(){var a=typeof self<"u"?self.crypto||self.msCrypto:null;if(a&&a.getRandomValues){var l=65536;e.setPRNG(function(c,r){var d,F=new Uint8Array(r);for(d=0;d<r;d+=l)a.getRandomValues(F.subarray(d,d+Math.min(r-d,l)));for(d=0;d<r;d++)c[d]=F[d];nr(F)})}else typeof Mc<"u"&&(a=wi,a&&a.randomBytes&&e.setPRNG(function(c,r){var d,F=a.randomBytes(r);for(d=0;d<r;d++)c[d]=F[d];nr(F)}))}()})(i.exports?i.exports:self.nacl=self.nacl||{})}(ra)),ra.exports}var vs;function Dl(){if(vs)return Nr;vs=1;var i=Nr&&Nr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.genKeyPair=void 0;const e=i(Si()),t=Ei();function n(){const o=e.default.sign.keyPair(),s=(0,t.binToHex)(o.publicKey),u=(0,t.binToHex)(o.secretKey).slice(0,64);return{publicKey:s,secretKey:u}}return Nr.genKeyPair=n,Nr}var Rn={},Tn={},na,ms;function jc(){if(ms)return na;ms=1;const i="Input must be an string, Buffer or Uint8Array";function e(u){let f;if(u instanceof Uint8Array)f=u;else if(typeof u=="string")f=new TextEncoder().encode(u);else throw new Error(i);return f}function t(u){return Array.prototype.map.call(u,function(f){return(f<16?"0":"")+f.toString(16)}).join("")}function n(u){return(4294967296+u).toString(16).substring(1)}function o(u,f,h){let g=`
`+u+" = ";for(let O=0;O<f.length;O+=2){if(h===32)g+=n(f[O]).toUpperCase(),g+=" ",g+=n(f[O+1]).toUpperCase();else if(h===64)g+=n(f[O+1]).toUpperCase(),g+=n(f[O]).toUpperCase();else throw new Error("Invalid size "+h);O%6===4?g+=`
`+new Array(u.length+4).join(" "):O<f.length-2&&(g+=" ")}console.log(g)}function s(u,f,h){let g=new Date().getTime();const O=new Uint8Array(f);for(let N=0;N<f;N++)O[N]=N%256;const A=new Date().getTime();console.log("Generated random input in "+(A-g)+"ms"),g=A;for(let N=0;N<h;N++){const C=u(O),R=new Date().getTime(),k=R-g;g=R,console.log("Hashed in "+k+"ms: "+C.substring(0,20)+"..."),console.log(Math.round(f/(1<<20)/(k/1e3)*100)/100+" MB PER SECOND")}}return na={normalizeInput:e,toHex:t,debugPrint:o,testSpeed:s},na}var ia,xs;function $l(){if(xs)return ia;xs=1;const i=jc();function e(m,E,B){const M=m[E]+m[B];let S=m[E+1]+m[B+1];M>=4294967296&&S++,m[E]=M,m[E+1]=S}function t(m,E,B,M){let S=m[E]+B;B<0&&(S+=4294967296);let j=m[E+1]+M;S>=4294967296&&j++,m[E]=S,m[E+1]=j}function n(m,E){return m[E]^m[E+1]<<8^m[E+2]<<16^m[E+3]<<24}function o(m,E,B,M,S,j){const U=g[S],re=g[S+1],me=g[j],ne=g[j+1];e(h,m,E),t(h,m,U,re);let Pe=h[M]^h[m],ce=h[M+1]^h[m+1];h[M]=ce,h[M+1]=Pe,e(h,B,M),Pe=h[E]^h[B],ce=h[E+1]^h[B+1],h[E]=Pe>>>24^ce<<8,h[E+1]=ce>>>24^Pe<<8,e(h,m,E),t(h,m,me,ne),Pe=h[M]^h[m],ce=h[M+1]^h[m+1],h[M]=Pe>>>16^ce<<16,h[M+1]=ce>>>16^Pe<<16,e(h,B,M),Pe=h[E]^h[B],ce=h[E+1]^h[B+1],h[E]=ce>>>31^Pe<<1,h[E+1]=Pe>>>31^ce<<1}const s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],f=new Uint8Array(u.map(function(m){return m*2})),h=new Uint32Array(32),g=new Uint32Array(32);function O(m,E){let B=0;for(B=0;B<16;B++)h[B]=m.h[B],h[B+16]=s[B];for(h[24]=h[24]^m.t,h[25]=h[25]^m.t/4294967296,E&&(h[28]=~h[28],h[29]=~h[29]),B=0;B<32;B++)g[B]=n(m.b,4*B);for(B=0;B<12;B++)o(0,8,16,24,f[B*16+0],f[B*16+1]),o(2,10,18,26,f[B*16+2],f[B*16+3]),o(4,12,20,28,f[B*16+4],f[B*16+5]),o(6,14,22,30,f[B*16+6],f[B*16+7]),o(0,10,20,30,f[B*16+8],f[B*16+9]),o(2,12,22,24,f[B*16+10],f[B*16+11]),o(4,14,16,26,f[B*16+12],f[B*16+13]),o(6,8,18,28,f[B*16+14],f[B*16+15]);for(B=0;B<16;B++)m.h[B]=m.h[B]^h[B]^h[B+16]}const A=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function N(m,E,B,M){if(m===0||m>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(E&&E.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(B&&B.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(M&&M.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const S={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:m};A.fill(0),A[0]=m,E&&(A[1]=E.length),A[2]=1,A[3]=1,B&&A.set(B,32),M&&A.set(M,48);for(let j=0;j<16;j++)S.h[j]=s[j]^n(A,j*4);return E&&(C(S,E),S.c=128),S}function C(m,E){for(let B=0;B<E.length;B++)m.c===128&&(m.t+=m.c,O(m,!1),m.c=0),m.b[m.c++]=E[B]}function R(m){for(m.t+=m.c;m.c<128;)m.b[m.c++]=0;O(m,!0);const E=new Uint8Array(m.outlen);for(let B=0;B<m.outlen;B++)E[B]=m.h[B>>2]>>8*(B&3);return E}function k(m,E,B,M,S){B=B||64,m=i.normalizeInput(m),M&&(M=i.normalizeInput(M)),S&&(S=i.normalizeInput(S));const j=N(B,E,M,S);return C(j,m),R(j)}function _(m,E,B,M,S){const j=k(m,E,B,M,S);return i.toHex(j)}return ia={blake2b:k,blake2bHex:_,blake2bInit:N,blake2bUpdate:C,blake2bFinal:R},ia}var aa,ws;function Kl(){if(ws)return aa;ws=1;const i=jc();function e(R,k){return R[k]^R[k+1]<<8^R[k+2]<<16^R[k+3]<<24}function t(R,k,_,m,E,B){u[R]=u[R]+u[k]+E,u[m]=n(u[m]^u[R],16),u[_]=u[_]+u[m],u[k]=n(u[k]^u[_],12),u[R]=u[R]+u[k]+B,u[m]=n(u[m]^u[R],8),u[_]=u[_]+u[m],u[k]=n(u[k]^u[_],7)}function n(R,k){return R>>>k^R<<32-k}const o=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),u=new Uint32Array(16),f=new Uint32Array(16);function h(R,k){let _=0;for(_=0;_<8;_++)u[_]=R.h[_],u[_+8]=o[_];for(u[12]^=R.t,u[13]^=R.t/4294967296,k&&(u[14]=~u[14]),_=0;_<16;_++)f[_]=e(R.b,4*_);for(_=0;_<10;_++)t(0,4,8,12,f[s[_*16+0]],f[s[_*16+1]]),t(1,5,9,13,f[s[_*16+2]],f[s[_*16+3]]),t(2,6,10,14,f[s[_*16+4]],f[s[_*16+5]]),t(3,7,11,15,f[s[_*16+6]],f[s[_*16+7]]),t(0,5,10,15,f[s[_*16+8]],f[s[_*16+9]]),t(1,6,11,12,f[s[_*16+10]],f[s[_*16+11]]),t(2,7,8,13,f[s[_*16+12]],f[s[_*16+13]]),t(3,4,9,14,f[s[_*16+14]],f[s[_*16+15]]);for(_=0;_<8;_++)R.h[_]^=u[_]^u[_+8]}function g(R,k){if(!(R>0&&R<=32))throw new Error("Incorrect output length, should be in [1, 32]");const _=k?k.length:0;if(k&&!(_>0&&_<=32))throw new Error("Incorrect key length, should be in [1, 32]");const m={h:new Uint32Array(o),b:new Uint8Array(64),c:0,t:0,outlen:R};return m.h[0]^=16842752^_<<8^R,_>0&&(O(m,k),m.c=64),m}function O(R,k){for(let _=0;_<k.length;_++)R.c===64&&(R.t+=R.c,h(R,!1),R.c=0),R.b[R.c++]=k[_]}function A(R){for(R.t+=R.c;R.c<64;)R.b[R.c++]=0;h(R,!0);const k=new Uint8Array(R.outlen);for(let _=0;_<R.outlen;_++)k[_]=R.h[_>>2]>>8*(_&3)&255;return k}function N(R,k,_){_=_||32,R=i.normalizeInput(R);const m=g(_,k);return O(m,R),A(m)}function C(R,k,_){const m=N(R,k,_);return i.toHex(m)}return aa={blake2s:N,blake2sHex:C,blake2sInit:g,blake2sUpdate:O,blake2sFinal:A},aa}var oa,bs;function Lc(){if(bs)return oa;bs=1;const i=$l(),e=Kl();return oa={blake2b:i.blake2b,blake2bHex:i.blake2bHex,blake2bInit:i.blake2bInit,blake2bUpdate:i.blake2bUpdate,blake2bFinal:i.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},oa}var _s;function Do(){if(_s)return Tn;_s=1,Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.hashBin=void 0;const i=Lc();function e(t){return(0,i.blake2b)(t,void 0,32)}return Tn.hashBin=e,Tn}var Es;function Wl(){if(Es)return Rn;Es=1,Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.hash=void 0;const i=ko(),e=Do();function t(n){return(0,i.base64UrlEncodeArr)((0,e.hashBin)(n))}return Rn.hash=t,Rn}var In={},Ss;function $o(){if(Ss)return In;Ss=1,Object.defineProperty(In,"__esModule",{value:!0}),In.hexToBin=void 0;const i=Fc();function e(t){return new Uint8Array(i.Buffer.from(t,"hex"))}return In.hexToBin=e,In}var Br={},As;function zl(){if(As)return Br;As=1;var i=Br&&Br.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Br,"__esModule",{value:!0}),Br.restoreKeyPairFromSecretKey=void 0;const e=i(Si()),t=Ei(),n=$o();function o(s){if(s.length!==64)throw new Error("Seed for IKeyPairgeneration has bad size");const u=(0,n.hexToBin)(s),f=e.default.sign.keyPair.fromSeed(u),h=(0,t.binToHex)(f.publicKey),g=(0,t.binToHex)(f.secretKey).slice(0,64);return{publicKey:h,secretKey:g}}return Br.restoreKeyPairFromSecretKey=o,Br}var qr={},Nn={},Cs;function Ko(){if(Cs)return Nn;Cs=1,Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.toTweetNaclSecretKey=void 0;const i=$o();function e({secretKey:t,publicKey:n}){return(0,i.hexToBin)(t+n)}return Nn.toTweetNaclSecretKey=e,Nn}var Os;function Hl(){if(Os)return qr;Os=1;var i=qr&&qr.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(qr,"__esModule",{value:!0}),qr.sign=void 0;const e=i(Si()),t=ko(),n=Ei(),o=Do(),s=Ko();function u(f,{secretKey:h,publicKey:g}){const O=(0,o.hashBin)(f),A=(0,t.base64UrlEncodeArr)(O),N=e.default.sign.detached(O,(0,s.toTweetNaclSecretKey)({secretKey:h,publicKey:g}));return{hash:A,sig:(0,n.binToHex)(N),pubKey:g}}return qr.sign=u,qr}var Ur={},Ps;function Gl(){if(Ps)return Ur;Ps=1;var i=Ur&&Ur.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.signHash=void 0;const e=i(Si()),t=Bc(),n=Ei(),o=Ko();function s(u,{secretKey:f,publicKey:h}){const g=(0,t.base64UrlDecodeArr)(u),O=e.default.sign.detached(g,(0,o.toTweetNaclSecretKey)({secretKey:f,publicKey:h}));return{hash:u,sig:(0,n.binToHex)(O),pubKey:h}}return Ur.signHash=s,Ur}var gr={},Rs;function Yl(){return Rs||(Rs=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.pactTestCommand2=gr.pactTestCommand1=gr.pactTestCommand=void 0,gr.pactTestCommand={networkId:null,payload:{exec:{data:{"accounts-admin-keyset":["ba54b224d1924dd98403f5c751abdd10de6cd81b0121800bf7bdbdcfaec7388d"]},code:`(define-keyset 'k (read-keyset "accounts-admin-keyset"))
(module system 'k
  (defun get-system-time ()
    (time "2017-10-31T12:00:00Z")))
(get-system-time)`}},signers:[{pubKey:"ba54b224d1924dd98403f5c751abdd10de6cd81b0121800bf7bdbdcfaec7388d"}],meta:{creationTime:0,ttl:0,gasLimit:0,chainId:"0",gasPrice:0,sender:""},nonce:JSON.stringify("step01")},gr.pactTestCommand1={hash:"pMohh9G2NT1jQn4byK1iwvoLopbnU86NeNPSUq8I0ik",sigs:[{sig:"26d765e3b812d59d80ffbd034d4fc4a1a24f8d0c3929586575617089e5098d967955d348608b515ae9ff7871b46726ffc71252d53b9e562d5bcf3bfe66292906"}],cmd:`{"networkId":null,"payload":{"exec":{"data":{"accounts-admin-keyset":["ba54b224d1924dd98403f5c751abdd10de6cd81b0121800bf7bdbdcfaec7388d"]},"code":"(define-keyset 'k (read-keyset \\"accounts-admin-keyset\\"))\\n(module system 'k\\n  (defun get-system-time ()\\n    (time \\"2017-10-31T12:00:00Z\\")))\\n(get-system-time)"}},"signers":[{"pubKey":"ba54b224d1924dd98403f5c751abdd10de6cd81b0121800bf7bdbdcfaec7388d"}],"meta":{"creationTime":0,"ttl":0,"gasLimit":0,"chainId":"","gasPrice":0,"sender":""},"nonce":"\\"step01\\""}`},gr.pactTestCommand2={hash:"pMohh9G2NT1jQn4byK1iwvoLopbnU86NeNPSUq8I0ik",sigs:[void 0],cmd:`{"networkId":null,"payload":{"exec":{"data":{"accounts-admin-keyset":["ba54b224d1924dd98403f5c751abdd10de6cd81b0121800bf7bdbdcfaec7388d"]},"code":"(define-keyset 'k (read-keyset \\"accounts-admin-keyset\\"))\\n(module system 'k\\n  (defun get-system-time ()\\n    (time \\"2017-10-31T12:00:00Z\\")))\\n(get-system-time)"}},"signers":[{"pubKey":"ba54b224d1924dd98403f5c751abdd10de6cd81b0121800bf7bdbdcfaec7388d"}],"meta":{"creationTime":0,"ttl":0,"gasLimit":0,"chainId":"","gasPrice":0,"sender":""},"nonce":"\\"step01\\""}`}),gr}var Bn={},Ts;function Vl(){if(Ts)return Bn;Ts=1,Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.unique=void 0;function i(e){const t={};return e.filter(n=>t[n]?!1:(t[n]=!0,!0))}return Bn.unique=i,Bn}var Fr={},Is;function Jl(){if(Is)return Fr;Is=1;var i=Fr&&Fr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.verifySig=void 0;const e=i(Si());function t(n,o,s){return e.default.sign.detached.verify(n,o,s)}return Fr.verifySig=t,Fr}var Ns;function Ai(){return Ns||(Ns=1,function(i){var e=Ir&&Ir.__createBinding||(Object.create?function(n,o,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(o,s);(!f||("get"in f?!o.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,u,f)}:function(n,o,s,u){u===void 0&&(u=s),n[u]=o[s]}),t=Ir&&Ir.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(i,"__esModule",{value:!0}),t(Ic(),i),t(Bc(),i),t(qc(),i),t(ko(),i),t(Ei(),i),t(Dl(),i),t(Wl(),i),t(Do(),i),t($o(),i),t(zl(),i),t(Hl(),i),t(Gl(),i),t(Nc(),i),t(Yl(),i),t(Ko(),i),t(Uc(),i),t(Vl(),i),t(Jl(),i)}(Ir)),Ir}var Bs;function Xl(){if(Bs)return xn;Bs=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.createListenRequest=void 0;const i=Ai();function e({cmds:t}){return{listen:(0,i.unique)(t.map(({hash:n})=>n))[0]}}return xn.createListenRequest=e,xn}var qn={},qs;function Zl(){if(qs)return qn;qs=1,Object.defineProperty(qn,"__esModule",{value:!0}),qn.createPollRequest=void 0;const i=Ai();function e({cmds:t}){return{requestKeys:(0,i.unique)(t.map(({hash:n})=>n))}}return qn.createPollRequest=e,qn}var Un={},Us;function Ql(){if(Us)return Un;Us=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.createSendRequest=void 0;function i(e){return{cmds:Array.isArray(e)?e:[e]}}return Un.createSendRequest=i,Un}var Fn={},Fs;function e0(){return Fs||(Fs=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.CHAINS=void 0,Fn.CHAINS=["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"]),Fn}var Mn={},Mr={},Ms;function Ci(){if(Ms)return Mr;Ms=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.parsePreflight=Mr.parseResponse=void 0;async function i(t){if(t.ok)return await t.json();try{const n=await t.text();return Promise.reject(new Error(n))}catch{return t}}Mr.parseResponse=i;function e(t){return"preflightResult"in t?{...t.preflightResult,preflightWarnings:t.preflightWarnings}:t}return Mr.parsePreflight=e,Mr}var jn={},js;function yn(){if(js)return jn;js=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.stringifyAndMakePOSTRequest=void 0;function i(e,t){return{...t,headers:{"Content-Type":"application/json",...t==null?void 0:t.headers},method:"POST",body:JSON.stringify(e)}}return jn.stringifyAndMakePOSTRequest=i,jn}var ir={},yi={exports:{}},t0=yi.exports,Ls;function kc(){return Ls||(Ls=1,function(i,e){var t=typeof self<"u"?self:t0,n=function(){function s(){this.fetch=!1,this.DOMException=t.DOMException}return s.prototype=t,new s}();(function(s){(function(u){var f={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function h(te){return te&&DataView.prototype.isPrototypeOf(te)}if(f.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],O=ArrayBuffer.isView||function(te){return te&&g.indexOf(Object.prototype.toString.call(te))>-1};function A(te){if(typeof te!="string"&&(te=String(te)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(te))throw new TypeError("Invalid character in header field name");return te.toLowerCase()}function N(te){return typeof te!="string"&&(te=String(te)),te}function C(te){var Oe={next:function(){var ke=te.shift();return{done:ke===void 0,value:ke}}};return f.iterable&&(Oe[Symbol.iterator]=function(){return Oe}),Oe}function R(te){this.map={},te instanceof R?te.forEach(function(Oe,ke){this.append(ke,Oe)},this):Array.isArray(te)?te.forEach(function(Oe){this.append(Oe[0],Oe[1])},this):te&&Object.getOwnPropertyNames(te).forEach(function(Oe){this.append(Oe,te[Oe])},this)}R.prototype.append=function(te,Oe){te=A(te),Oe=N(Oe);var ke=this.map[te];this.map[te]=ke?ke+", "+Oe:Oe},R.prototype.delete=function(te){delete this.map[A(te)]},R.prototype.get=function(te){return te=A(te),this.has(te)?this.map[te]:null},R.prototype.has=function(te){return this.map.hasOwnProperty(A(te))},R.prototype.set=function(te,Oe){this.map[A(te)]=N(Oe)},R.prototype.forEach=function(te,Oe){for(var ke in this.map)this.map.hasOwnProperty(ke)&&te.call(Oe,this.map[ke],ke,this)},R.prototype.keys=function(){var te=[];return this.forEach(function(Oe,ke){te.push(ke)}),C(te)},R.prototype.values=function(){var te=[];return this.forEach(function(Oe){te.push(Oe)}),C(te)},R.prototype.entries=function(){var te=[];return this.forEach(function(Oe,ke){te.push([ke,Oe])}),C(te)},f.iterable&&(R.prototype[Symbol.iterator]=R.prototype.entries);function k(te){if(te.bodyUsed)return Promise.reject(new TypeError("Already read"));te.bodyUsed=!0}function _(te){return new Promise(function(Oe,ke){te.onload=function(){Oe(te.result)},te.onerror=function(){ke(te.error)}})}function m(te){var Oe=new FileReader,ke=_(Oe);return Oe.readAsArrayBuffer(te),ke}function E(te){var Oe=new FileReader,ke=_(Oe);return Oe.readAsText(te),ke}function B(te){for(var Oe=new Uint8Array(te),ke=new Array(Oe.length),De=0;De<Oe.length;De++)ke[De]=String.fromCharCode(Oe[De]);return ke.join("")}function M(te){if(te.slice)return te.slice(0);var Oe=new Uint8Array(te.byteLength);return Oe.set(new Uint8Array(te)),Oe.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(te){this._bodyInit=te,te?typeof te=="string"?this._bodyText=te:f.blob&&Blob.prototype.isPrototypeOf(te)?this._bodyBlob=te:f.formData&&FormData.prototype.isPrototypeOf(te)?this._bodyFormData=te:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(te)?this._bodyText=te.toString():f.arrayBuffer&&f.blob&&h(te)?(this._bodyArrayBuffer=M(te.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(te)||O(te))?this._bodyArrayBuffer=M(te):this._bodyText=te=Object.prototype.toString.call(te):this._bodyText="",this.headers.get("content-type")||(typeof te=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(te)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var te=k(this);if(te)return te;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?k(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var te=k(this);if(te)return te;if(this._bodyBlob)return E(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(B(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(me)}),this.json=function(){return this.text().then(JSON.parse)},this}var j=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function U(te){var Oe=te.toUpperCase();return j.indexOf(Oe)>-1?Oe:te}function re(te,Oe){Oe=Oe||{};var ke=Oe.body;if(te instanceof re){if(te.bodyUsed)throw new TypeError("Already read");this.url=te.url,this.credentials=te.credentials,Oe.headers||(this.headers=new R(te.headers)),this.method=te.method,this.mode=te.mode,this.signal=te.signal,!ke&&te._bodyInit!=null&&(ke=te._bodyInit,te.bodyUsed=!0)}else this.url=String(te);if(this.credentials=Oe.credentials||this.credentials||"same-origin",(Oe.headers||!this.headers)&&(this.headers=new R(Oe.headers)),this.method=U(Oe.method||this.method||"GET"),this.mode=Oe.mode||this.mode||null,this.signal=Oe.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ke)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(ke)}re.prototype.clone=function(){return new re(this,{body:this._bodyInit})};function me(te){var Oe=new FormData;return te.trim().split("&").forEach(function(ke){if(ke){var De=ke.split("="),J=De.shift().replace(/\+/g," "),de=De.join("=").replace(/\+/g," ");Oe.append(decodeURIComponent(J),decodeURIComponent(de))}}),Oe}function ne(te){var Oe=new R,ke=te.replace(/\r?\n[\t ]+/g," ");return ke.split(/\r?\n/).forEach(function(De){var J=De.split(":"),de=J.shift().trim();if(de){var pe=J.join(":").trim();Oe.append(de,pe)}}),Oe}S.call(re.prototype);function Pe(te,Oe){Oe||(Oe={}),this.type="default",this.status=Oe.status===void 0?200:Oe.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Oe?Oe.statusText:"OK",this.headers=new R(Oe.headers),this.url=Oe.url||"",this._initBody(te)}S.call(Pe.prototype),Pe.prototype.clone=function(){return new Pe(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new R(this.headers),url:this.url})},Pe.error=function(){var te=new Pe(null,{status:0,statusText:""});return te.type="error",te};var ce=[301,302,303,307,308];Pe.redirect=function(te,Oe){if(ce.indexOf(Oe)===-1)throw new RangeError("Invalid status code");return new Pe(null,{status:Oe,headers:{location:te}})},u.DOMException=s.DOMException;try{new u.DOMException}catch{u.DOMException=function(Oe,ke){this.message=Oe,this.name=ke;var De=Error(Oe);this.stack=De.stack},u.DOMException.prototype=Object.create(Error.prototype),u.DOMException.prototype.constructor=u.DOMException}function et(te,Oe){return new Promise(function(ke,De){var J=new re(te,Oe);if(J.signal&&J.signal.aborted)return De(new u.DOMException("Aborted","AbortError"));var de=new XMLHttpRequest;function pe(){de.abort()}de.onload=function(){var Ae={status:de.status,statusText:de.statusText,headers:ne(de.getAllResponseHeaders()||"")};Ae.url="responseURL"in de?de.responseURL:Ae.headers.get("X-Request-URL");var Fe="response"in de?de.response:de.responseText;ke(new Pe(Fe,Ae))},de.onerror=function(){De(new TypeError("Network request failed"))},de.ontimeout=function(){De(new TypeError("Network request failed"))},de.onabort=function(){De(new u.DOMException("Aborted","AbortError"))},de.open(J.method,J.url,!0),J.credentials==="include"?de.withCredentials=!0:J.credentials==="omit"&&(de.withCredentials=!1),"responseType"in de&&f.blob&&(de.responseType="blob"),J.headers.forEach(function(Ae,Fe){de.setRequestHeader(Fe,Ae)}),J.signal&&(J.signal.addEventListener("abort",pe),de.onreadystatechange=function(){de.readyState===4&&J.signal.removeEventListener("abort",pe)}),de.send(typeof J._bodyInit>"u"?null:J._bodyInit)})}return et.polyfill=!0,s.fetch||(s.fetch=et,s.Headers=R,s.Request=re,s.Response=Pe),u.Headers=R,u.Request=re,u.Response=Pe,u.fetch=et,Object.defineProperty(u,"__esModule",{value:!0}),u})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=n;e=o.fetch,e.default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,i.exports=e}(yi,yi.exports)),yi.exports}var ks;function Oi(){if(ks)return ir;ks=1;var i=ir&&ir.__createBinding||(Object.create?function(n,o,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(o,s);(!f||("get"in f?!o.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,u,f)}:function(n,o,s,u){u===void 0&&(u=s),n[u]=o[s]}),e=ir&&ir.__setModuleDefault||(Object.create?function(n,o){Object.defineProperty(n,"default",{enumerable:!0,value:o})}:function(n,o){n.default=o}),t=ir&&ir.__importStar||function(n){if(n&&n.__esModule)return n;var o={};if(n!=null)for(var s in n)s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)&&i(o,n,s);return e(o,n),o};return Object.defineProperty(ir,"__esModule",{value:!0}),ir.fetch=void 0,ir.fetch=(...n)=>typeof globalThis<"u"&&typeof globalThis.fetch<"u"?globalThis.fetch(...n):typeof window<"u"&&typeof window.fetch<"u"?window.fetch(...n):typeof pr<"u"&&typeof pr.fetch<"u"?pr.fetch(...n):Promise.resolve().then(()=>t(kc())).then(({fetch:o})=>o(...n)),ir}var Ds;function r0(){if(Ds)return Mn;Ds=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.listen=void 0;const i=Ci(),e=yn(),t=Oi();async function n(o,s,u){const f=(0,e.stringifyAndMakePOSTRequest)(o,u),h=new URL(`${s}/api/v1/listen`),g=await(0,t.fetch)(h.toString(),f);return(0,i.parseResponse)(g)}return Mn.listen=n,Mn}var vr={},jr={},Lr={},Mi={exports:{}},n0=Mi.exports,$s;function i0(){return $s||($s=1,function(i){(function(e){var t,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,s=Math.floor,u="[BigNumber Error] ",f=u+"Number primitive has more than 15 significant digits: ",h=1e14,g=14,O=9007199254740991,A=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],N=1e7,C=1e9;function R(j){var U,re,me,ne=oe.prototype={constructor:oe,toString:null,valueOf:null},Pe=new oe(1),ce=20,et=4,te=-7,Oe=21,ke=-1e7,De=1e7,J=!1,de=1,pe=0,Ae={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},Fe="0123456789abcdefghijklmnopqrstuvwxyz",Ee=!0;function oe(b,T){var q,G,V,X,ue,P,D,z,Y=this;if(!(Y instanceof oe))return new oe(b,T);if(T==null){if(b&&b._isBigNumber===!0){Y.s=b.s,!b.c||b.e>De?Y.c=Y.e=null:b.e<ke?Y.c=[Y.e=0]:(Y.e=b.e,Y.c=b.c.slice());return}if((P=typeof b=="number")&&b*0==0){if(Y.s=1/b<0?(b=-b,-1):1,b===~~b){for(X=0,ue=b;ue>=10;ue/=10,X++);X>De?Y.c=Y.e=null:(Y.e=X,Y.c=[b]);return}z=String(b)}else{if(!n.test(z=String(b)))return me(Y,z,P);Y.s=z.charCodeAt(0)==45?(z=z.slice(1),-1):1}(X=z.indexOf("."))>-1&&(z=z.replace(".","")),(ue=z.search(/e/i))>0?(X<0&&(X=ue),X+=+z.slice(ue+1),z=z.substring(0,ue)):X<0&&(X=z.length)}else{if(E(T,2,Fe.length,"Base"),T==10&&Ee)return Y=new oe(b),_e(Y,ce+Y.e+1,et);if(z=String(b),P=typeof b=="number"){if(b*0!=0)return me(Y,z,P,T);if(Y.s=1/b<0?(z=z.slice(1),-1):1,oe.DEBUG&&z.replace(/^0\.0*|\./,"").length>15)throw Error(f+b)}else Y.s=z.charCodeAt(0)===45?(z=z.slice(1),-1):1;for(q=Fe.slice(0,T),X=ue=0,D=z.length;ue<D;ue++)if(q.indexOf(G=z.charAt(ue))<0){if(G=="."){if(ue>X){X=D;continue}}else if(!V&&(z==z.toUpperCase()&&(z=z.toLowerCase())||z==z.toLowerCase()&&(z=z.toUpperCase()))){V=!0,ue=-1,X=0;continue}return me(Y,String(b),P,T)}P=!1,z=re(z,T,10,Y.s),(X=z.indexOf("."))>-1?z=z.replace(".",""):X=z.length}for(ue=0;z.charCodeAt(ue)===48;ue++);for(D=z.length;z.charCodeAt(--D)===48;);if(z=z.slice(ue,++D)){if(D-=ue,P&&oe.DEBUG&&D>15&&(b>O||b!==s(b)))throw Error(f+Y.s*b);if((X=X-ue-1)>De)Y.c=Y.e=null;else if(X<ke)Y.c=[Y.e=0];else{if(Y.e=X,Y.c=[],ue=(X+1)%g,X<0&&(ue+=g),ue<D){for(ue&&Y.c.push(+z.slice(0,ue)),D-=g;ue<D;)Y.c.push(+z.slice(ue,ue+=g));ue=g-(z=z.slice(ue)).length}else ue-=D;for(;ue--;z+="0");Y.c.push(+z)}}else Y.c=[Y.e=0]}oe.clone=R,oe.ROUND_UP=0,oe.ROUND_DOWN=1,oe.ROUND_CEIL=2,oe.ROUND_FLOOR=3,oe.ROUND_HALF_UP=4,oe.ROUND_HALF_DOWN=5,oe.ROUND_HALF_EVEN=6,oe.ROUND_HALF_CEIL=7,oe.ROUND_HALF_FLOOR=8,oe.EUCLID=9,oe.config=oe.set=function(b){var T,q;if(b!=null)if(typeof b=="object"){if(b.hasOwnProperty(T="DECIMAL_PLACES")&&(q=b[T],E(q,0,C,T),ce=q),b.hasOwnProperty(T="ROUNDING_MODE")&&(q=b[T],E(q,0,8,T),et=q),b.hasOwnProperty(T="EXPONENTIAL_AT")&&(q=b[T],q&&q.pop?(E(q[0],-C,0,T),E(q[1],0,C,T),te=q[0],Oe=q[1]):(E(q,-C,C,T),te=-(Oe=q<0?-q:q))),b.hasOwnProperty(T="RANGE"))if(q=b[T],q&&q.pop)E(q[0],-C,-1,T),E(q[1],1,C,T),ke=q[0],De=q[1];else if(E(q,-C,C,T),q)ke=-(De=q<0?-q:q);else throw Error(u+T+" cannot be zero: "+q);if(b.hasOwnProperty(T="CRYPTO"))if(q=b[T],q===!!q)if(q)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))J=q;else throw J=!q,Error(u+"crypto unavailable");else J=q;else throw Error(u+T+" not true or false: "+q);if(b.hasOwnProperty(T="MODULO_MODE")&&(q=b[T],E(q,0,9,T),de=q),b.hasOwnProperty(T="POW_PRECISION")&&(q=b[T],E(q,0,C,T),pe=q),b.hasOwnProperty(T="FORMAT"))if(q=b[T],typeof q=="object")Ae=q;else throw Error(u+T+" not an object: "+q);if(b.hasOwnProperty(T="ALPHABET"))if(q=b[T],typeof q=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(q))Ee=q.slice(0,10)=="0123456789",Fe=q;else throw Error(u+T+" invalid: "+q)}else throw Error(u+"Object expected: "+b);return{DECIMAL_PLACES:ce,ROUNDING_MODE:et,EXPONENTIAL_AT:[te,Oe],RANGE:[ke,De],CRYPTO:J,MODULO_MODE:de,POW_PRECISION:pe,FORMAT:Ae,ALPHABET:Fe}},oe.isBigNumber=function(b){if(!b||b._isBigNumber!==!0)return!1;if(!oe.DEBUG)return!0;var T,q,G=b.c,V=b.e,X=b.s;e:if({}.toString.call(G)=="[object Array]"){if((X===1||X===-1)&&V>=-C&&V<=C&&V===s(V)){if(G[0]===0){if(V===0&&G.length===1)return!0;break e}if(T=(V+1)%g,T<1&&(T+=g),String(G[0]).length==T){for(T=0;T<G.length;T++)if(q=G[T],q<0||q>=h||q!==s(q))break e;if(q!==0)return!0}}}else if(G===null&&V===null&&(X===null||X===1||X===-1))return!0;throw Error(u+"Invalid BigNumber: "+b)},oe.maximum=oe.max=function(){return Be(arguments,-1)},oe.minimum=oe.min=function(){return Be(arguments,1)},oe.random=function(){var b=9007199254740992,T=Math.random()*b&2097151?function(){return s(Math.random()*b)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(q){var G,V,X,ue,P,D=0,z=[],Y=new oe(Pe);if(q==null?q=ce:E(q,0,C),ue=o(q/g),J)if(crypto.getRandomValues){for(G=crypto.getRandomValues(new Uint32Array(ue*=2));D<ue;)P=G[D]*131072+(G[D+1]>>>11),P>=9e15?(V=crypto.getRandomValues(new Uint32Array(2)),G[D]=V[0],G[D+1]=V[1]):(z.push(P%1e14),D+=2);D=ue/2}else if(crypto.randomBytes){for(G=crypto.randomBytes(ue*=7);D<ue;)P=(G[D]&31)*281474976710656+G[D+1]*1099511627776+G[D+2]*4294967296+G[D+3]*16777216+(G[D+4]<<16)+(G[D+5]<<8)+G[D+6],P>=9e15?crypto.randomBytes(7).copy(G,D):(z.push(P%1e14),D+=7);D=ue/7}else throw J=!1,Error(u+"crypto unavailable");if(!J)for(;D<ue;)P=T(),P<9e15&&(z[D++]=P%1e14);for(ue=z[--D],q%=g,ue&&q&&(P=A[g-q],z[D]=s(ue/P)*P);z[D]===0;z.pop(),D--);if(D<0)z=[X=0];else{for(X=-1;z[0]===0;z.splice(0,1),X-=g);for(D=1,P=z[0];P>=10;P/=10,D++);D<g&&(X-=g-D)}return Y.e=X,Y.c=z,Y}}(),oe.sum=function(){for(var b=1,T=arguments,q=new oe(T[0]);b<T.length;)q=q.plus(T[b++]);return q},re=function(){var b="0123456789";function T(q,G,V,X){for(var ue,P=[0],D,z=0,Y=q.length;z<Y;){for(D=P.length;D--;P[D]*=G);for(P[0]+=X.indexOf(q.charAt(z++)),ue=0;ue<P.length;ue++)P[ue]>V-1&&(P[ue+1]==null&&(P[ue+1]=0),P[ue+1]+=P[ue]/V|0,P[ue]%=V)}return P.reverse()}return function(q,G,V,X,ue){var P,D,z,Y,ge,je,He,ut,lt=q.indexOf("."),_t=ce,I=et;for(lt>=0&&(Y=pe,pe=0,q=q.replace(".",""),ut=new oe(G),je=ut.pow(q.length-lt),pe=Y,ut.c=T(S(_(je.c),je.e,"0"),10,V,b),ut.e=ut.c.length),He=T(q,G,V,ue?(P=Fe,b):(P=b,Fe)),z=Y=He.length;He[--Y]==0;He.pop());if(!He[0])return P.charAt(0);if(lt<0?--z:(je.c=He,je.e=z,je.s=X,je=U(je,ut,_t,I,V),He=je.c,ge=je.r,z=je.e),D=z+_t+1,lt=He[D],Y=V/2,ge=ge||D<0||He[D+1]!=null,ge=I<4?(lt!=null||ge)&&(I==0||I==(je.s<0?3:2)):lt>Y||lt==Y&&(I==4||ge||I==6&&He[D-1]&1||I==(je.s<0?8:7)),D<1||!He[0])q=ge?S(P.charAt(1),-_t,P.charAt(0)):P.charAt(0);else{if(He.length=D,ge)for(--V;++He[--D]>V;)He[D]=0,D||(++z,He=[1].concat(He));for(Y=He.length;!He[--Y];);for(lt=0,q="";lt<=Y;q+=P.charAt(He[lt++]));q=S(q,z,P.charAt(0))}return q}}(),U=function(){function b(G,V,X){var ue,P,D,z,Y=0,ge=G.length,je=V%N,He=V/N|0;for(G=G.slice();ge--;)D=G[ge]%N,z=G[ge]/N|0,ue=He*D+z*je,P=je*D+ue%N*N+Y,Y=(P/X|0)+(ue/N|0)+He*z,G[ge]=P%X;return Y&&(G=[Y].concat(G)),G}function T(G,V,X,ue){var P,D;if(X!=ue)D=X>ue?1:-1;else for(P=D=0;P<X;P++)if(G[P]!=V[P]){D=G[P]>V[P]?1:-1;break}return D}function q(G,V,X,ue){for(var P=0;X--;)G[X]-=P,P=G[X]<V[X]?1:0,G[X]=P*ue+G[X]-V[X];for(;!G[0]&&G.length>1;G.splice(0,1));}return function(G,V,X,ue,P){var D,z,Y,ge,je,He,ut,lt,_t,I,y,v,$,se,ve,Re,ht,pt=G.s==V.s?1:-1,ae=G.c,fe=V.c;if(!ae||!ae[0]||!fe||!fe[0])return new oe(!G.s||!V.s||(ae?fe&&ae[0]==fe[0]:!fe)?NaN:ae&&ae[0]==0||!fe?pt*0:pt/0);for(lt=new oe(pt),_t=lt.c=[],z=G.e-V.e,pt=X+z+1,P||(P=h,z=k(G.e/g)-k(V.e/g),pt=pt/g|0),Y=0;fe[Y]==(ae[Y]||0);Y++);if(fe[Y]>(ae[Y]||0)&&z--,pt<0)_t.push(1),ge=!0;else{for(se=ae.length,Re=fe.length,Y=0,pt+=2,je=s(P/(fe[0]+1)),je>1&&(fe=b(fe,je,P),ae=b(ae,je,P),Re=fe.length,se=ae.length),$=Re,I=ae.slice(0,Re),y=I.length;y<Re;I[y++]=0);ht=fe.slice(),ht=[0].concat(ht),ve=fe[0],fe[1]>=P/2&&ve++;do{if(je=0,D=T(fe,I,Re,y),D<0){if(v=I[0],Re!=y&&(v=v*P+(I[1]||0)),je=s(v/ve),je>1)for(je>=P&&(je=P-1),He=b(fe,je,P),ut=He.length,y=I.length;T(He,I,ut,y)==1;)je--,q(He,Re<ut?ht:fe,ut,P),ut=He.length,D=1;else je==0&&(D=je=1),He=fe.slice(),ut=He.length;if(ut<y&&(He=[0].concat(He)),q(I,He,y,P),y=I.length,D==-1)for(;T(fe,I,Re,y)<1;)je++,q(I,Re<y?ht:fe,y,P),y=I.length}else D===0&&(je++,I=[0]);_t[Y++]=je,I[0]?I[y++]=ae[$]||0:(I=[ae[$]],y=1)}while(($++<se||I[0]!=null)&&pt--);ge=I[0]!=null,_t[0]||_t.splice(0,1)}if(P==h){for(Y=1,pt=_t[0];pt>=10;pt/=10,Y++);_e(lt,X+(lt.e=Y+z*g-1)+1,ue,ge)}else lt.e=z,lt.r=+ge;return lt}}();function be(b,T,q,G){var V,X,ue,P,D;if(q==null?q=et:E(q,0,8),!b.c)return b.toString();if(V=b.c[0],ue=b.e,T==null)D=_(b.c),D=G==1||G==2&&(ue<=te||ue>=Oe)?M(D,ue):S(D,ue,"0");else if(b=_e(new oe(b),T,q),X=b.e,D=_(b.c),P=D.length,G==1||G==2&&(T<=X||X<=te)){for(;P<T;D+="0",P++);D=M(D,X)}else if(T-=ue,D=S(D,X,"0"),X+1>P){if(--T>0)for(D+=".";T--;D+="0");}else if(T+=X-P,T>0)for(X+1==P&&(D+=".");T--;D+="0");return b.s<0&&V?"-"+D:D}function Be(b,T){for(var q,G,V=1,X=new oe(b[0]);V<b.length;V++)G=new oe(b[V]),(!G.s||(q=m(X,G))===T||q===0&&X.s===T)&&(X=G);return X}function ft(b,T,q){for(var G=1,V=T.length;!T[--V];T.pop());for(V=T[0];V>=10;V/=10,G++);return(q=G+q*g-1)>De?b.c=b.e=null:q<ke?b.c=[b.e=0]:(b.e=q,b.c=T),b}me=function(){var b=/^(-?)0([xbo])(?=\w[\w.]*$)/i,T=/^([^.]+)\.$/,q=/^\.([^.]+)$/,G=/^-?(Infinity|NaN)$/,V=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(X,ue,P,D){var z,Y=P?ue:ue.replace(V,"");if(G.test(Y))X.s=isNaN(Y)?null:Y<0?-1:1;else{if(!P&&(Y=Y.replace(b,function(ge,je,He){return z=(He=He.toLowerCase())=="x"?16:He=="b"?2:8,!D||D==z?je:ge}),D&&(z=D,Y=Y.replace(T,"$1").replace(q,"0.$1")),ue!=Y))return new oe(Y,z);if(oe.DEBUG)throw Error(u+"Not a"+(D?" base "+D:"")+" number: "+ue);X.s=null}X.c=X.e=null}}();function _e(b,T,q,G){var V,X,ue,P,D,z,Y,ge=b.c,je=A;if(ge){e:{for(V=1,P=ge[0];P>=10;P/=10,V++);if(X=T-V,X<0)X+=g,ue=T,D=ge[z=0],Y=s(D/je[V-ue-1]%10);else if(z=o((X+1)/g),z>=ge.length)if(G){for(;ge.length<=z;ge.push(0));D=Y=0,V=1,X%=g,ue=X-g+1}else break e;else{for(D=P=ge[z],V=1;P>=10;P/=10,V++);X%=g,ue=X-g+V,Y=ue<0?0:s(D/je[V-ue-1]%10)}if(G=G||T<0||ge[z+1]!=null||(ue<0?D:D%je[V-ue-1]),G=q<4?(Y||G)&&(q==0||q==(b.s<0?3:2)):Y>5||Y==5&&(q==4||G||q==6&&(X>0?ue>0?D/je[V-ue]:0:ge[z-1])%10&1||q==(b.s<0?8:7)),T<1||!ge[0])return ge.length=0,G?(T-=b.e+1,ge[0]=je[(g-T%g)%g],b.e=-T||0):ge[0]=b.e=0,b;if(X==0?(ge.length=z,P=1,z--):(ge.length=z+1,P=je[g-X],ge[z]=ue>0?s(D/je[V-ue]%je[ue])*P:0),G)for(;;)if(z==0){for(X=1,ue=ge[0];ue>=10;ue/=10,X++);for(ue=ge[0]+=P,P=1;ue>=10;ue/=10,P++);X!=P&&(b.e++,ge[0]==h&&(ge[0]=1));break}else{if(ge[z]+=P,ge[z]!=h)break;ge[z--]=0,P=1}for(X=ge.length;ge[--X]===0;ge.pop());}b.e>De?b.c=b.e=null:b.e<ke&&(b.c=[b.e=0])}return b}function ye(b){var T,q=b.e;return q===null?b.toString():(T=_(b.c),T=q<=te||q>=Oe?M(T,q):S(T,q,"0"),b.s<0?"-"+T:T)}return ne.absoluteValue=ne.abs=function(){var b=new oe(this);return b.s<0&&(b.s=1),b},ne.comparedTo=function(b,T){return m(this,new oe(b,T))},ne.decimalPlaces=ne.dp=function(b,T){var q,G,V,X=this;if(b!=null)return E(b,0,C),T==null?T=et:E(T,0,8),_e(new oe(X),b+X.e+1,T);if(!(q=X.c))return null;if(G=((V=q.length-1)-k(this.e/g))*g,V=q[V])for(;V%10==0;V/=10,G--);return G<0&&(G=0),G},ne.dividedBy=ne.div=function(b,T){return U(this,new oe(b,T),ce,et)},ne.dividedToIntegerBy=ne.idiv=function(b,T){return U(this,new oe(b,T),0,1)},ne.exponentiatedBy=ne.pow=function(b,T){var q,G,V,X,ue,P,D,z,Y,ge=this;if(b=new oe(b),b.c&&!b.isInteger())throw Error(u+"Exponent not an integer: "+ye(b));if(T!=null&&(T=new oe(T)),P=b.e>14,!ge.c||!ge.c[0]||ge.c[0]==1&&!ge.e&&ge.c.length==1||!b.c||!b.c[0])return Y=new oe(Math.pow(+ye(ge),P?b.s*(2-B(b)):+ye(b))),T?Y.mod(T):Y;if(D=b.s<0,T){if(T.c?!T.c[0]:!T.s)return new oe(NaN);G=!D&&ge.isInteger()&&T.isInteger(),G&&(ge=ge.mod(T))}else{if(b.e>9&&(ge.e>0||ge.e<-1||(ge.e==0?ge.c[0]>1||P&&ge.c[1]>=24e7:ge.c[0]<8e13||P&&ge.c[0]<=9999975e7)))return X=ge.s<0&&B(b)?-0:0,ge.e>-1&&(X=1/X),new oe(D?1/X:X);pe&&(X=o(pe/g+2))}for(P?(q=new oe(.5),D&&(b.s=1),z=B(b)):(V=Math.abs(+ye(b)),z=V%2),Y=new oe(Pe);;){if(z){if(Y=Y.times(ge),!Y.c)break;X?Y.c.length>X&&(Y.c.length=X):G&&(Y=Y.mod(T))}if(V){if(V=s(V/2),V===0)break;z=V%2}else if(b=b.times(q),_e(b,b.e+1,1),b.e>14)z=B(b);else{if(V=+ye(b),V===0)break;z=V%2}ge=ge.times(ge),X?ge.c&&ge.c.length>X&&(ge.c.length=X):G&&(ge=ge.mod(T))}return G?Y:(D&&(Y=Pe.div(Y)),T?Y.mod(T):X?_e(Y,pe,et,ue):Y)},ne.integerValue=function(b){var T=new oe(this);return b==null?b=et:E(b,0,8),_e(T,T.e+1,b)},ne.isEqualTo=ne.eq=function(b,T){return m(this,new oe(b,T))===0},ne.isFinite=function(){return!!this.c},ne.isGreaterThan=ne.gt=function(b,T){return m(this,new oe(b,T))>0},ne.isGreaterThanOrEqualTo=ne.gte=function(b,T){return(T=m(this,new oe(b,T)))===1||T===0},ne.isInteger=function(){return!!this.c&&k(this.e/g)>this.c.length-2},ne.isLessThan=ne.lt=function(b,T){return m(this,new oe(b,T))<0},ne.isLessThanOrEqualTo=ne.lte=function(b,T){return(T=m(this,new oe(b,T)))===-1||T===0},ne.isNaN=function(){return!this.s},ne.isNegative=function(){return this.s<0},ne.isPositive=function(){return this.s>0},ne.isZero=function(){return!!this.c&&this.c[0]==0},ne.minus=function(b,T){var q,G,V,X,ue=this,P=ue.s;if(b=new oe(b,T),T=b.s,!P||!T)return new oe(NaN);if(P!=T)return b.s=-T,ue.plus(b);var D=ue.e/g,z=b.e/g,Y=ue.c,ge=b.c;if(!D||!z){if(!Y||!ge)return Y?(b.s=-T,b):new oe(ge?ue:NaN);if(!Y[0]||!ge[0])return ge[0]?(b.s=-T,b):new oe(Y[0]?ue:et==3?-0:0)}if(D=k(D),z=k(z),Y=Y.slice(),P=D-z){for((X=P<0)?(P=-P,V=Y):(z=D,V=ge),V.reverse(),T=P;T--;V.push(0));V.reverse()}else for(G=(X=(P=Y.length)<(T=ge.length))?P:T,P=T=0;T<G;T++)if(Y[T]!=ge[T]){X=Y[T]<ge[T];break}if(X&&(V=Y,Y=ge,ge=V,b.s=-b.s),T=(G=ge.length)-(q=Y.length),T>0)for(;T--;Y[q++]=0);for(T=h-1;G>P;){if(Y[--G]<ge[G]){for(q=G;q&&!Y[--q];Y[q]=T);--Y[q],Y[G]+=h}Y[G]-=ge[G]}for(;Y[0]==0;Y.splice(0,1),--z);return Y[0]?ft(b,Y,z):(b.s=et==3?-1:1,b.c=[b.e=0],b)},ne.modulo=ne.mod=function(b,T){var q,G,V=this;return b=new oe(b,T),!V.c||!b.s||b.c&&!b.c[0]?new oe(NaN):!b.c||V.c&&!V.c[0]?new oe(V):(de==9?(G=b.s,b.s=1,q=U(V,b,0,3),b.s=G,q.s*=G):q=U(V,b,0,de),b=V.minus(q.times(b)),!b.c[0]&&de==1&&(b.s=V.s),b)},ne.multipliedBy=ne.times=function(b,T){var q,G,V,X,ue,P,D,z,Y,ge,je,He,ut,lt,_t,I=this,y=I.c,v=(b=new oe(b,T)).c;if(!y||!v||!y[0]||!v[0])return!I.s||!b.s||y&&!y[0]&&!v||v&&!v[0]&&!y?b.c=b.e=b.s=null:(b.s*=I.s,!y||!v?b.c=b.e=null:(b.c=[0],b.e=0)),b;for(G=k(I.e/g)+k(b.e/g),b.s*=I.s,D=y.length,ge=v.length,D<ge&&(ut=y,y=v,v=ut,V=D,D=ge,ge=V),V=D+ge,ut=[];V--;ut.push(0));for(lt=h,_t=N,V=ge;--V>=0;){for(q=0,je=v[V]%_t,He=v[V]/_t|0,ue=D,X=V+ue;X>V;)z=y[--ue]%_t,Y=y[ue]/_t|0,P=He*z+Y*je,z=je*z+P%_t*_t+ut[X]+q,q=(z/lt|0)+(P/_t|0)+He*Y,ut[X--]=z%lt;ut[X]=q}return q?++G:ut.splice(0,1),ft(b,ut,G)},ne.negated=function(){var b=new oe(this);return b.s=-b.s||null,b},ne.plus=function(b,T){var q,G=this,V=G.s;if(b=new oe(b,T),T=b.s,!V||!T)return new oe(NaN);if(V!=T)return b.s=-T,G.minus(b);var X=G.e/g,ue=b.e/g,P=G.c,D=b.c;if(!X||!ue){if(!P||!D)return new oe(V/0);if(!P[0]||!D[0])return D[0]?b:new oe(P[0]?G:V*0)}if(X=k(X),ue=k(ue),P=P.slice(),V=X-ue){for(V>0?(ue=X,q=D):(V=-V,q=P),q.reverse();V--;q.push(0));q.reverse()}for(V=P.length,T=D.length,V-T<0&&(q=D,D=P,P=q,T=V),V=0;T;)V=(P[--T]=P[T]+D[T]+V)/h|0,P[T]=h===P[T]?0:P[T]%h;return V&&(P=[V].concat(P),++ue),ft(b,P,ue)},ne.precision=ne.sd=function(b,T){var q,G,V,X=this;if(b!=null&&b!==!!b)return E(b,1,C),T==null?T=et:E(T,0,8),_e(new oe(X),b,T);if(!(q=X.c))return null;if(V=q.length-1,G=V*g+1,V=q[V]){for(;V%10==0;V/=10,G--);for(V=q[0];V>=10;V/=10,G++);}return b&&X.e+1>G&&(G=X.e+1),G},ne.shiftedBy=function(b){return E(b,-O,O),this.times("1e"+b)},ne.squareRoot=ne.sqrt=function(){var b,T,q,G,V,X=this,ue=X.c,P=X.s,D=X.e,z=ce+4,Y=new oe("0.5");if(P!==1||!ue||!ue[0])return new oe(!P||P<0&&(!ue||ue[0])?NaN:ue?X:1/0);if(P=Math.sqrt(+ye(X)),P==0||P==1/0?(T=_(ue),(T.length+D)%2==0&&(T+="0"),P=Math.sqrt(+T),D=k((D+1)/2)-(D<0||D%2),P==1/0?T="5e"+D:(T=P.toExponential(),T=T.slice(0,T.indexOf("e")+1)+D),q=new oe(T)):q=new oe(P+""),q.c[0]){for(D=q.e,P=D+z,P<3&&(P=0);;)if(V=q,q=Y.times(V.plus(U(X,V,z,1))),_(V.c).slice(0,P)===(T=_(q.c)).slice(0,P))if(q.e<D&&--P,T=T.slice(P-3,P+1),T=="9999"||!G&&T=="4999"){if(!G&&(_e(V,V.e+ce+2,0),V.times(V).eq(X))){q=V;break}z+=4,P+=4,G=1}else{(!+T||!+T.slice(1)&&T.charAt(0)=="5")&&(_e(q,q.e+ce+2,1),b=!q.times(q).eq(X));break}}return _e(q,q.e+ce+1,et,b)},ne.toExponential=function(b,T){return b!=null&&(E(b,0,C),b++),be(this,b,T,1)},ne.toFixed=function(b,T){return b!=null&&(E(b,0,C),b=b+this.e+1),be(this,b,T)},ne.toFormat=function(b,T,q){var G,V=this;if(q==null)b!=null&&T&&typeof T=="object"?(q=T,T=null):b&&typeof b=="object"?(q=b,b=T=null):q=Ae;else if(typeof q!="object")throw Error(u+"Argument not an object: "+q);if(G=V.toFixed(b,T),V.c){var X,ue=G.split("."),P=+q.groupSize,D=+q.secondaryGroupSize,z=q.groupSeparator||"",Y=ue[0],ge=ue[1],je=V.s<0,He=je?Y.slice(1):Y,ut=He.length;if(D&&(X=P,P=D,D=X,ut-=X),P>0&&ut>0){for(X=ut%P||P,Y=He.substr(0,X);X<ut;X+=P)Y+=z+He.substr(X,P);D>0&&(Y+=z+He.slice(X)),je&&(Y="-"+Y)}G=ge?Y+(q.decimalSeparator||"")+((D=+q.fractionGroupSize)?ge.replace(new RegExp("\\d{"+D+"}\\B","g"),"$&"+(q.fractionGroupSeparator||"")):ge):Y}return(q.prefix||"")+G+(q.suffix||"")},ne.toFraction=function(b){var T,q,G,V,X,ue,P,D,z,Y,ge,je,He=this,ut=He.c;if(b!=null&&(P=new oe(b),!P.isInteger()&&(P.c||P.s!==1)||P.lt(Pe)))throw Error(u+"Argument "+(P.isInteger()?"out of range: ":"not an integer: ")+ye(P));if(!ut)return new oe(He);for(T=new oe(Pe),z=q=new oe(Pe),G=D=new oe(Pe),je=_(ut),X=T.e=je.length-He.e-1,T.c[0]=A[(ue=X%g)<0?g+ue:ue],b=!b||P.comparedTo(T)>0?X>0?T:z:P,ue=De,De=1/0,P=new oe(je),D.c[0]=0;Y=U(P,T,0,1),V=q.plus(Y.times(G)),V.comparedTo(b)!=1;)q=G,G=V,z=D.plus(Y.times(V=z)),D=V,T=P.minus(Y.times(V=T)),P=V;return V=U(b.minus(q),G,0,1),D=D.plus(V.times(z)),q=q.plus(V.times(G)),D.s=z.s=He.s,X=X*2,ge=U(z,G,X,et).minus(He).abs().comparedTo(U(D,q,X,et).minus(He).abs())<1?[z,G]:[D,q],De=ue,ge},ne.toNumber=function(){return+ye(this)},ne.toPrecision=function(b,T){return b!=null&&E(b,1,C),be(this,b,T,2)},ne.toString=function(b){var T,q=this,G=q.s,V=q.e;return V===null?G?(T="Infinity",G<0&&(T="-"+T)):T="NaN":(b==null?T=V<=te||V>=Oe?M(_(q.c),V):S(_(q.c),V,"0"):b===10&&Ee?(q=_e(new oe(q),ce+V+1,et),T=S(_(q.c),q.e,"0")):(E(b,2,Fe.length,"Base"),T=re(S(_(q.c),V,"0"),10,b,G,!0)),G<0&&q.c[0]&&(T="-"+T)),T},ne.valueOf=ne.toJSON=function(){return ye(this)},ne._isBigNumber=!0,j!=null&&oe.set(j),oe}function k(j){var U=j|0;return j>0||j===U?U:U-1}function _(j){for(var U,re,me=1,ne=j.length,Pe=j[0]+"";me<ne;){for(U=j[me++]+"",re=g-U.length;re--;U="0"+U);Pe+=U}for(ne=Pe.length;Pe.charCodeAt(--ne)===48;);return Pe.slice(0,ne+1||1)}function m(j,U){var re,me,ne=j.c,Pe=U.c,ce=j.s,et=U.s,te=j.e,Oe=U.e;if(!ce||!et)return null;if(re=ne&&!ne[0],me=Pe&&!Pe[0],re||me)return re?me?0:-et:ce;if(ce!=et)return ce;if(re=ce<0,me=te==Oe,!ne||!Pe)return me?0:!ne^re?1:-1;if(!me)return te>Oe^re?1:-1;for(et=(te=ne.length)<(Oe=Pe.length)?te:Oe,ce=0;ce<et;ce++)if(ne[ce]!=Pe[ce])return ne[ce]>Pe[ce]^re?1:-1;return te==Oe?0:te>Oe^re?1:-1}function E(j,U,re,me){if(j<U||j>re||j!==s(j))throw Error(u+(me||"Argument")+(typeof j=="number"?j<U||j>re?" out of range: ":" not an integer: ":" not a primitive number: ")+String(j))}function B(j){var U=j.c.length-1;return k(j.e/g)==U&&j.c[U]%2!=0}function M(j,U){return(j.length>1?j.charAt(0)+"."+j.slice(1):j)+(U<0?"e":"e+")+U}function S(j,U,re){var me,ne;if(U<0){for(ne=re+".";++U;ne+=re);j=ne+j}else if(me=j.length,++U>me){for(ne=re,U-=me;--U;ne+=re);j+=ne}else U<me&&(j=j.slice(0,U)+"."+j.slice(U));return j}t=R(),t.default=t.BigNumber=t,i.exports?i.exports=t:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=t)})(n0)}(Mi)),Mi.exports}var Ks;function a0(){if(Ks)return Lr;Ks=1;var i=Lr&&Lr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.PactNumber=void 0;const e=i(i0());e.default.config({EXPONENTIAL_AT:[-1e9,1e9]}),e.default.prototype.toInteger=function(){if(!this.isInteger())throw new Error("PactNumber is not an integer");return this.toString()},e.default.prototype.toStringifiedInteger=function(){return JSON.stringify(this.toInteger())},e.default.prototype.toPactInteger=function(){if(!this.isInteger())throw new Error("PactNumber is not an integer");return{int:this.toInteger()}},e.default.prototype.toDecimal=function(){return this.isInteger()?`${this.toString()}.0`:`${this.toString()}`},e.default.prototype.toStringifiedDecimal=function(){return JSON.stringify(this.toDecimal())},e.default.prototype.toPactDecimal=function(){return{decimal:this.toDecimal()}};let t=class extends e.default{constructor(o){if(super(o),isNaN(Number(o)))throw new Error("Value is NaN")}};return Lr.PactNumber=t,Lr}var Ln={},Ws;function o0(){if(Ws)return Ln;Ws=1,Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.createExp=void 0;function i(e,...t){return`(${e}${t.length>0?" ":""}${Array.prototype.slice.call(t,0).join(" ")})`}return Ln.createExp=i,Ln}var kr={},zs;function s0(){if(zs)return kr;zs=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.ensureSignedCommand=kr.isSignedCommand=void 0;function i(t){return t.sigs.every(n=>(n==null?void 0:n.sig)!==void 0)}kr.isSignedCommand=i;function e(t){if(i(t))return t;throw new Error("Command must be signed")}return kr.ensureSignedCommand=e,kr}var Hs;function Wo(){return Hs||(Hs=1,function(i){var e=jr&&jr.__createBinding||(Object.create?function(n,o,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(o,s);(!f||("get"in f?!o.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,u,f)}:function(n,o,s,u){u===void 0&&(u=s),n[u]=o[s]}),t=jr&&jr.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(i,"__esModule",{value:!0}),t(a0(),i),t(o0(),i),t(s0(),i)}(jr)),jr}var Gs;function f0(){if(Gs)return vr;Gs=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.convertIUnsignedTransactionToNoSig=vr.localRaw=vr.local=void 0;const i=Wo(),e=Ci(),t=yn(),n=Oi();async function o(f,h,g){const{signatureVerification:O=!0,preflight:A=!0,...N}=g??{};O||(f=u(f));const C=(0,i.ensureSignedCommand)(f),R=await s(C,h,{preflight:A,signatureVerification:O,...N});return(0,e.parsePreflight)(R)}vr.local=o;async function s(f,h,{preflight:g,signatureVerification:O,...A}){const N=(0,t.stringifyAndMakePOSTRequest)(f,A),C=new URL(`${h}/api/v1/local`);C.searchParams.append("preflight",g.toString()),C.searchParams.append("signatureVerification",O.toString());const R=await(0,n.fetch)(C.toString(),N);return(0,e.parseResponse)(R)}vr.localRaw=s;function u(f){return{...f,sigs:f.sigs.map(h=>h&&typeof h.sig=="string"?h:{...h,sig:""})}}return vr.convertIUnsignedTransactionToNoSig=u,vr}var kn={},Ys;function u0(){if(Ys)return kn;Ys=1,Object.defineProperty(kn,"__esModule",{value:!0}),kn.mkCap=void 0;function i(e,t=[]){return{name:e,args:t}}return kn.mkCap=i,kn}var Dn={},Vs;function Dc(){if(Vs)return Dn;Vs=1,Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.parseResponseTEXT=void 0;async function i(e){if(e.ok)return await e.text();{const t=await e.text();return Promise.reject(new Error(t))}}return Dn.parseResponseTEXT=i,Dn}var $n={},Js;function c0(){if(Js)return $n;Js=1,Object.defineProperty($n,"__esModule",{value:!0}),$n.poll=void 0;const i=Ci(),e=yn(),t=Oi();async function n(o,s,u=0,f){const h=(0,e.stringifyAndMakePOSTRequest)(o,f),g=new URL(`${s}/api/v1/poll`);u>0&&g.searchParams.append("confirmationDepth",u.toString());const O=await(0,t.fetch)(g.toString(),h);return(0,i.parseResponse)(O)}return $n.poll=n,$n}var Kn={},Xs;function l0(){if(Xs)return Kn;Xs=1,Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.send=void 0;const i=Ci(),e=yn(),t=Oi();async function n(o,s,u){const f=(0,e.stringifyAndMakePOSTRequest)(o,u),h=new URL(`${s}/api/v1/send`),g=await(0,t.fetch)(h.toString(),f);return(0,i.parseResponse)(g)}return Kn.send=n,Kn}var Wn={},Zs;function h0(){if(Zs)return Wn;Zs=1,Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.spv=void 0;const i=Dc(),e=yn(),t=Oi();async function n(o,s,u){const f=(0,e.stringifyAndMakePOSTRequest)(o,u),h=new URL(`${s}/spv`),g=await(0,t.fetch)(h.toString(),f);return(0,i.parseResponseTEXT)(g)}return Wn.spv=n,Wn}var Qs;function Hi(){return Qs||(Qs=1,function(i){var e=Tr&&Tr.__createBinding||(Object.create?function(n,o,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(o,s);(!f||("get"in f?!o.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,u,f)}:function(n,o,s,u){u===void 0&&(u=s),n[u]=o[s]}),t=Tr&&Tr.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(i,"__esModule",{value:!0}),t(Xl(),i),t(Zl(),i),t(Ql(),i),t(e0(),i),t(r0(),i),t(f0(),i),t(u0(),i),t(Ci(),i),t(Dc(),i),t(c0(),i),t(l0(),i),t(h0(),i),t(yn(),i)}(Tr)),Tr}var zn={},sa={},Hn={},fa={},ef;function gn(){return ef||(ef=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.patchCommand=i.mergePayload=void 0;const e=(n,o)=>{var s,u,f,h,g,O,A,N;if(n===void 0||o===void 0)return o??n;if("exec"in n&&"exec"in o)return{exec:{code:((u=(s=n.exec)===null||s===void 0?void 0:s.code)!==null&&u!==void 0?u:"")+((h=(f=o.exec)===null||f===void 0?void 0:f.code)!==null&&h!==void 0?h:""),data:{...(g=n.exec)===null||g===void 0?void 0:g.data,...(O=o.exec)===null||O===void 0?void 0:O.data}}};if("cont"in n&&"cont"in o)return{cont:{...n.cont,...o.cont,data:{...(A=n.cont)===null||A===void 0?void 0:A.data,...(N=o.cont)===null||N===void 0?void 0:N.data}}};throw new Error("PAYLOAD_NOT_MERGEABLE")};i.mergePayload=e;function t(n,o){var s;const u={...n};return o.payload!==void 0&&(u.payload=(0,i.mergePayload)(u.payload,o.payload)),o.meta!==void 0&&(u.meta={...u.meta,...o.meta}),o.nonce!==void 0&&(u.nonce=o.nonce),o.networkId!==void 0&&(u.networkId=o.networkId),o.signers!==void 0&&o.signers.forEach(f=>{var h,g,O;(h=u.signers)!==null&&h!==void 0||(u.signers=[]);const A=u.signers.filter(Boolean).find(N=>(f==null?void 0:f.pubKey)===(N==null?void 0:N.pubKey));A!==void 0?A.clist=[...(g=A.clist)!==null&&g!==void 0?g:[],...(O=f==null?void 0:f.clist)!==null&&O!==void 0?O:[]]:u.signers.push(f)}),o.verifiers!==void 0&&o.verifiers.length>0&&(u.verifiers=[...(s=u.verifiers)!==null&&s!==void 0?s:[],...o.verifiers]),u}i.patchCommand=t}(fa)),fa}var tf;function d0(){if(tf)return Hn;tf=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.composePactCommand=void 0;const i=gn(),e=n=>{var o,s,u,f;const h=Date.now(),g={...n};if((o=g.nonce)!==null&&o!==void 0||(g.nonce=`kjs:nonce:${h}`),(s=g.signers)!==null&&s!==void 0||(g.signers=[]),g.meta){const O={gasLimit:2500,gasPrice:1e-8,sender:"",ttl:28800,creationTime:Math.floor(Date.now()/1e3)};g.meta={...O,...g.meta}}return g.payload&&"cont"in g.payload&&((u=(f=g.payload.cont).proof)!==null&&u!==void 0||(f.proof=null)),g},t=(n,...o)=>(s={})=>{const f=[n,...o].reduce((g,O)=>typeof O=="function"?O(g):(0,i.patchCommand)(g,O),typeof s=="function"?s():s);return e(f)};return Hn.composePactCommand=t,Hn}var Gn={},rf;function $c(){if(rf)return Gn;rf=1,Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.addData=void 0;const i=gn(),e=(n,o)=>{var s,u;if(n.payload&&"exec"in n.payload&&((s=n.payload.exec)===null||s===void 0?void 0:s.data)!==void 0)return n.payload.exec.data[o];if(n.payload&&"cont"in n.payload&&((u=n.payload.cont)===null||u===void 0?void 0:u.data)!==void 0)return n.payload.cont.data[o]},t=(n,o)=>s=>{let u="exec";if(s.payload&&"cont"in s.payload&&(u="cont"),e(s,n)!==void 0)throw new Error(`DUPLICATED_KEY: "${n}" is already available in the data`);const f={payload:{[u]:{data:{[n]:o}}}};return(0,i.patchCommand)(s,f)};return Gn.addData=t,Gn}var Yn={},nf;function p0(){if(nf)return Yn;nf=1,Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.addKeyset=void 0;const i=$c(),e=(t,n,...o)=>(0,i.addData)(t,{keys:o,pred:n});return Yn.addKeyset=e,Yn}var Vn={},af;function y0(){if(af)return Vn;af=1,Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.addSigner=void 0;const i=gn();return Vn.addSigner=(e,t)=>{const n=Array.isArray(e)?e:[e];let o;return typeof t=="function"&&(o=t((s,...u)=>({name:s,args:u}))),s=>(0,i.patchCommand)(s,{signers:n.map(u=>{const f=typeof u=="string"&&u.startsWith("WEBAUTHN"),{pubKey:h,scheme:g=f?"WebAuthn":"ED25519",address:O=void 0}=typeof u=="object"?u:{pubKey:u};return{pubKey:h,scheme:g,...O!==void 0?{address:O}:{},...o!==void 0?{clist:o}:{}}})})},Vn}var Dr={},of;function g0(){if(of)return Dr;of=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.continuation=Dr.execution=void 0;const i=(...t)=>({payload:{exec:{code:t.join(""),data:{}}}});Dr.execution=i;const e=t=>{const n={data:{},...t};return typeof n.proof=="string"&&(n.proof=n.proof.replace(/\"/gi,"")),{payload:{cont:n}}};return Dr.continuation=e,Dr}var Jn={},sf;function v0(){if(sf)return Jn;sf=1,Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.setMeta=void 0;const i=gn(),e=t=>n=>{const{senderAccount:o,...s}=t;return(0,i.patchCommand)(n,{meta:{...n.meta,...s,...o!==void 0?{sender:o}:{}}})};return Jn.setMeta=e,Jn}var Xn={},ff;function m0(){if(ff)return Xn;ff=1,Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.setNetworkId=void 0;const i=e=>({networkId:e});return Xn.setNetworkId=i,Xn}var Zn={},uf;function x0(){if(uf)return Zn;uf=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.setNonce=void 0;const i=e=>({nonce:e});return Zn.setNonce=i,Zn}var cf;function Kc(){return cf||(cf=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.setNonce=i.setNetworkId=i.setMeta=i.execution=i.continuation=i.addSigner=i.addKeyset=i.addData=i.composePactCommand=void 0;var e=d0();Object.defineProperty(i,"composePactCommand",{enumerable:!0,get:function(){return e.composePactCommand}});var t=$c();Object.defineProperty(i,"addData",{enumerable:!0,get:function(){return t.addData}});var n=p0();Object.defineProperty(i,"addKeyset",{enumerable:!0,get:function(){return n.addKeyset}});var o=y0();Object.defineProperty(i,"addSigner",{enumerable:!0,get:function(){return o.addSigner}});var s=g0();Object.defineProperty(i,"continuation",{enumerable:!0,get:function(){return s.continuation}}),Object.defineProperty(i,"execution",{enumerable:!0,get:function(){return s.execution}});var u=v0();Object.defineProperty(i,"setMeta",{enumerable:!0,get:function(){return u.setMeta}});var f=m0();Object.defineProperty(i,"setNetworkId",{enumerable:!0,get:function(){return f.setNetworkId}});var h=x0();Object.defineProperty(i,"setNonce",{enumerable:!0,get:function(){return h.setNonce}})}(sa)),sa}var lf;function w0(){if(lf)return zn;lf=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.runPact=void 0;const i=Hi(),e=Ai(),t=Kc();function n(o,s,u={},f){const h=(0,t.composePactCommand)((0,t.execution)(s),{payload:{exec:{data:u}}})(),g=JSON.stringify(h);return(0,i.local)({cmd:g,hash:(0,e.hash)(g),sigs:[]},o,{preflight:!1,signatureVerification:!1,...f})}return zn.runPact=n,zn}var $r={},Qn={},ua={},hf;function Gi(){return hf||(hf=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.groupByHost=i.sleep=i.withCounter=i.mapRecord=i.mergeAllPollRequestPromises=i.mergeAll=i.getPromise=i.kadenaHostGenerator=i.getHostUrl=i.getUrl=i.jsonRequest=void 0;const e=N=>({headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(N)});i.jsonRequest=e;function t(N,C,R){const _=`${N.endsWith("/")?N.slice(0,N.length-1):N}${C.startsWith("/")?C:`/${C}`}`,m=new URL(_);return R!==void 0&&Object.entries(R).forEach(([E,B])=>{B!=null&&m.searchParams.append(E,B.toString())}),m.toString()}i.getUrl=t;const n=N=>{const C=N.endsWith("/")?N.slice(0,N.length-1):N;return({networkId:R,chainId:k})=>`${C}/chainweb/0.0/${R}/chain/${k}/pact`};i.getHostUrl=n;const o=({networkId:N,chainId:C})=>{switch(N){case"mainnet01":return(0,i.getHostUrl)("https://api.chainweb.com")({networkId:N,chainId:C});case"testnet04":return(0,i.getHostUrl)("https://api.testnet.chainweb.com")({networkId:N,chainId:C});case"testnet05":return(0,i.getHostUrl)("https://api.testnet05.chainweb.com")({networkId:N,chainId:C});default:throw new Error(`UNKNOWN_NETWORK_ID: ${N}`)}};i.kadenaHostGenerator=o;const s=()=>{let N=()=>{},C=()=>{},R=!1,k;return{promise:new Promise((m,E)=>{N=B=>{k=B,R=!0,m(B)},C=B=>{R=!0,E(B)}}),resolve:N,reject:C,get fulfilled(){return R},get data(){return k}}};i.getPromise=s;const u=N=>N.reduce((C,R)=>({...C,...R}),{});i.mergeAll=u;const f=N=>Object.assign(Promise.all(N).then(i.mergeAll),{requests:N.reduce((C,R)=>({...C,...R.requests}),{})});i.mergeAllPollRequestPromises=f;const h=(N,C)=>Object.fromEntries(Object.entries(N).map(([R,k])=>[R,C(k)]));i.mapRecord=h;const g=N=>{let C=0;return(...R)=>(C+=1,N(C,...R))};i.withCounter=g;const O=N=>new Promise(C=>setTimeout(C,N));i.sleep=O;const A=N=>{const C=new Map;return N.forEach(({host:R,requestKey:k,requestInit:_})=>{var m;const E=(m=C.get(R))!==null&&m!==void 0?m:[];C.set(R,[...E,{requestInit:_,requestKey:k}])}),[...C.entries()]};i.groupByHost=A}(ua)),ua}var df;function Wc(){if(df)return Qn;df=1,Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.retry=void 0;const i=Gi(),e=n=>{let o=()=>{};const s=new Promise((u,f)=>{const h=setTimeout(()=>f(new Error("TIME_OUT_REJECT")),n);o=()=>clearTimeout(h)});return{stopTimer:o,promise:s}},t=(n,o)=>async function s(u,f=0){const h=Date.now(),{timeout:g=1e3*60*3,interval:O=5e3}=u??{},A=e(g);try{return await Promise.race([new Promise((C,R)=>{(o==null?void 0:o.aborted)===!0&&R(new Error("ABORTED")),o==null||o.addEventListener("abort",()=>R(new Error("ABORTED")))}),A.promise,(0,i.sleep)(1).then(n).finally(()=>{A.stopTimer()})])}catch(N){if(N!==void 0&&(N.message==="TIME_OUT_REJECT"||N.message==="ABORTED"))throw N;await(0,i.sleep)(O);const C=Date.now()-h;return s({timeout:g-C,interval:O},f+1)}};return Qn.retry=t,Qn}var pf;function b0(){if(pf)return $r;pf=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.pollSpv=$r.getSpv=void 0;const i=Hi(),e=Wc();async function t(o,s,u,f={}){const h=await(0,i.spv)({requestKey:s,targetChainId:u},o,f);if(typeof h!="string")throw new Error("PROOF_IS_NOT_AVAILABLE");return h}$r.getSpv=t;const n=(o,s,u,f)=>{const h=async()=>t(o,s,u,f);return(0,e.retry)(h)(f)};return $r.pollSpv=n,$r}var ei={},yf;function _0(){if(yf)return ei;yf=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.pollStatus=void 0;const i=Hi(),e=Wc(),t=Gi(),n=(o,s,u)=>{var f;const{onPoll:h=()=>{},timeout:g,interval:O,confirmationDepth:A=0,onResult:N=()=>{},...C}=u??{},R=(f=C.signal)!==null&&f!==void 0?f:void 0;let k=[...s];const _=k.reduce((M,S)=>({...M,[S]:(0,t.getPromise)()}),{}),m=async()=>{try{k.forEach(h);const M=await(0,i.poll)({requestKeys:k},o,A,C);Object.values(M).forEach(S=>{_[S.reqKey].resolve(S),N(S.reqKey,S),k=k.filter(j=>j!==S.reqKey)})}catch(M){throw h(void 0,M),M}if(k.length>0)return Promise.reject(new Error("NOT_COMPLETED"))};return(0,e.retry)(m,R)({interval:O,timeout:g}).catch(M=>{Object.values(_).forEach(S=>{S.fulfilled||S.reject(M)})}),Object.assign(Promise.all(Object.entries(_).map(([M,S])=>S.promise.then(j=>({[M]:j})))).then(t.mergeAll),{requests:(0,t.mapRecord)(_,({promise:M})=>M)})};return ei.pollStatus=n,ei}var ti={},gf;function E0(){if(gf)return ti;gf=1,Object.defineProperty(ti,"__esModule",{value:!0}),ti.mergeOptions=void 0;function i(e,t){if(!e)return t;if(!t)return e;const n={...t};return Object.entries(e).forEach(([o,s])=>{if(n[o]===void 0){n[o]=s;return}if(Array.isArray(n[o])){n[o]=[...Array.isArray(s)?s:[s],...n[o]];return}if(s!==null&&typeof n[o]=="object"&&typeof s=="object"){n[o]=i(s,n[o]);return}}),n}return ti.mergeOptions=i,ti}var vf;function S0(){if(vf)return mn;vf=1,Object.defineProperty(mn,"__esModule",{value:!0}),mn.createClient=void 0;const i=Hi(),e=w0(),t=b0(),n=_0(),o=E0(),s=Gi(),u=h=>{const g=typeof h=="string"?h:h.hostUrl,O=typeof h=="object"?h.requestInit:{};return{hostUrl:g,requestInit:O}},f=(h=s.kadenaHostGenerator,g={confirmationDepth:0})=>{const O=g.confirmationDepth,A=typeof h=="string"?()=>h:h,N={local(C,R){const k=JSON.parse(C.cmd),_=A({chainId:k.meta.chainId,networkId:k.networkId}),{hostUrl:m,requestInit:E}=u(_);return(0,i.local)(C,m,(0,o.mergeOptions)(E,R))},submit:async(C,R)=>{const k=Array.isArray(C),_=k?C:[C],[m]=_;if(m===void 0)throw new Error("EMPTY_COMMAND_LIST");const E=JSON.parse(m.cmd),B=A({chainId:E.meta.chainId,networkId:E.networkId}),{hostUrl:M,requestInit:S}=u(B),{requestKeys:j}=await(0,i.send)({cmds:_},M,(0,o.mergeOptions)(S,R)),U=j.map(re=>({requestKey:re,chainId:E.meta.chainId,networkId:E.networkId}));return k?U:U[0]},pollStatus(C,R){const k=Array.isArray(C)?C:[C],_=(0,s.groupByHost)(k.map(({requestKey:E,chainId:B,networkId:M})=>{const S=A({chainId:B,networkId:M,type:"poll"}),{hostUrl:j,requestInit:U}=u(S);return{requestKey:E,host:j,requestInit:U}})).map(([E,B])=>{const M=B[0].requestInit;return(0,n.pollStatus)(E,B.map(S=>S.requestKey),{confirmationDepth:O,...(0,o.mergeOptions)(M,R)})});return(0,s.mergeAllPollRequestPromises)(_)},async getStatus(C,R){const k=Array.isArray(C)?C:[C],_=await Promise.all((0,s.groupByHost)(k.map(({requestKey:E,chainId:B,networkId:M})=>{const S=A({chainId:B,networkId:M,type:"poll"}),{hostUrl:j,requestInit:U}=u(S);return{requestKey:E,host:j,requestInit:U}})).map(([E,B])=>{const M=B[0].requestInit;return(0,i.poll)({requestKeys:B.map(S=>S.requestKey)},E,void 0,(0,o.mergeOptions)(M,R))}));return(0,s.mergeAll)(_)},async listen({requestKey:C,chainId:R,networkId:k},_){const m=A({chainId:R,networkId:k,type:"listen"}),{hostUrl:E,requestInit:B}=u(m);return await(0,i.listen)({listen:C},E,(0,o.mergeOptions)(B,_))},pollCreateSpv({requestKey:C,chainId:R,networkId:k},_,m){const E=A({chainId:R,networkId:k,type:"spv"}),{hostUrl:B,requestInit:M}=u(E);return(0,t.pollSpv)(B,C,_,(0,o.mergeOptions)(M,m))},async createSpv({requestKey:C,chainId:R,networkId:k},_,m){const E=A({chainId:R,networkId:k,type:"spv"}),{hostUrl:B,requestInit:M}=u(E);return(0,t.getSpv)(B,C,_,(0,o.mergeOptions)(M,m))}};return{...N,submitOne:N.submit,preflight(C,R){return N.local(C,{...R,preflight:!0,signatureVerification:!0})},signatureVerification(C,R){return N.local(C,{...R,preflight:!1,signatureVerification:!0})},dirtyRead(C,R){return N.local(C,{...R,preflight:!1,signatureVerification:!1})},runPact:(C,R,k)=>{const _=A(k),{hostUrl:m,requestInit:E}=u(_);if(m==="")throw new Error("NO_HOST_URL");return(0,e.runPact)(m,C,R,(0,o.mergeOptions)(E,k))},send:N.submit,getPoll:N.getStatus,pollOne:(C,R)=>N.pollStatus(C,R).then(k=>k[C.requestKey])}};return mn.createClient=f,mn}var mf;function A0(){return mf||(mf=1,function(i){var e=Rr&&Rr.__createBinding||(Object.create?function(o,s,u,f){f===void 0&&(f=u);var h=Object.getOwnPropertyDescriptor(s,u);(!h||("get"in h?!s.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(o,f,h)}:function(o,s,u,f){f===void 0&&(f=u),o[f]=s[u]}),t=Rr&&Rr.__exportStar||function(o,s){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(s,u)&&e(s,o,u)};Object.defineProperty(i,"__esModule",{value:!0}),i.getHostUrl=void 0,t(S0(),i);var n=Gi();Object.defineProperty(i,"getHostUrl",{enumerable:!0,get:function(){return n.getHostUrl}})}(Rr)),Rr}var ri={},ni={},xf;function C0(){if(xf)return ni;xf=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.addVerifier=void 0;const i=gn();return ni.addVerifier=(e,t)=>{let n=[];return typeof t=="function"&&(n=t((o,...s)=>({name:o,args:s}))),o=>(0,i.patchCommand)(o,{verifiers:[{...e,clist:n}]})},ni}var ii={},wf;function zc(){if(wf)return ii;wf=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.createTransaction=void 0;const i=Ai(),e=t=>{var n,o;const s=JSON.stringify(t),u=(0,i.hash)(s);return{cmd:s,hash:u,sigs:Array.from(Array((o=(n=t.signers)===null||n===void 0?void 0:n.length)!==null&&o!==void 0?o:0))}};return ii.createTransaction=e,ii}var bf;function Hc(){if(bf)return ri;bf=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.createTransactionBuilder=void 0;const i=Kc(),e=C0(),t=gn(),n=zc(),o=f=>{let h=(0,i.composePactCommand)(f);return{composeWith:g=>{h=(0,i.composePactCommand)(h,g)},get finalize(){return h}}},s=f=>{const h=o(f),g={addData:(O,A)=>(h.composeWith((0,i.addData)(O,A)),g),addKeyset:(O,A,...N)=>(h.composeWith((0,i.addKeyset)(O,A,...N)),g),addSigner:(O,A)=>(h.composeWith((0,i.addSigner)(O,A)),g),addVerifier:(O,A)=>(h.composeWith((0,e.addVerifier)(O,A)),g),setMeta:O=>(h.composeWith((0,i.setMeta)(O)),g),setNetworkId:O=>(h.composeWith((0,i.setNetworkId)(O)),g),setNonce:O=>(h.composeWith(A=>{const N=typeof O=="function"?O(A):O;return(0,t.patchCommand)(A,(0,i.setNonce)(N))}),g),getCommand:()=>h.finalize({}),createTransaction:()=>(0,n.createTransaction)(g.getCommand())};return g},u=f=>({execution:(...h)=>{const g=f?(0,t.patchCommand)(f,(0,i.execution)(...h)):(0,i.execution)(...h);return s(g)},continuation:h=>{const g={proof:null,...h},O=f?(0,t.patchCommand)(f,(0,i.continuation)(g)):(0,i.continuation)(g);return s(O)}});return ri.createTransactionBuilder=u,ri}var Kr={},Wr={},Ni={exports:{}},ca,_f;function O0(){if(_f)return ca;_f=1;var i=1e3,e=i*60,t=e*60,n=t*24,o=n*7,s=n*365.25;ca=function(O,A){A=A||{};var N=typeof O;if(N==="string"&&O.length>0)return u(O);if(N==="number"&&isFinite(O))return A.long?h(O):f(O);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(O))};function u(O){if(O=String(O),!(O.length>100)){var A=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(O);if(A){var N=parseFloat(A[1]),C=(A[2]||"ms").toLowerCase();switch(C){case"years":case"year":case"yrs":case"yr":case"y":return N*s;case"weeks":case"week":case"w":return N*o;case"days":case"day":case"d":return N*n;case"hours":case"hour":case"hrs":case"hr":case"h":return N*t;case"minutes":case"minute":case"mins":case"min":case"m":return N*e;case"seconds":case"second":case"secs":case"sec":case"s":return N*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return N;default:return}}}}function f(O){var A=Math.abs(O);return A>=n?Math.round(O/n)+"d":A>=t?Math.round(O/t)+"h":A>=e?Math.round(O/e)+"m":A>=i?Math.round(O/i)+"s":O+"ms"}function h(O){var A=Math.abs(O);return A>=n?g(O,A,n,"day"):A>=t?g(O,A,t,"hour"):A>=e?g(O,A,e,"minute"):A>=i?g(O,A,i,"second"):O+" ms"}function g(O,A,N,C){var R=A>=N*1.5;return Math.round(O/N)+" "+C+(R?"s":"")}return ca}var la,Ef;function P0(){if(Ef)return la;Ef=1;function i(e){n.debug=n,n.default=n,n.coerce=g,n.disable=u,n.enable=s,n.enabled=f,n.humanize=O0(),n.destroy=O,Object.keys(e).forEach(A=>{n[A]=e[A]}),n.names=[],n.skips=[],n.formatters={};function t(A){let N=0;for(let C=0;C<A.length;C++)N=(N<<5)-N+A.charCodeAt(C),N|=0;return n.colors[Math.abs(N)%n.colors.length]}n.selectColor=t;function n(A){let N,C=null,R,k;function _(...m){if(!_.enabled)return;const E=_,B=Number(new Date),M=B-(N||B);E.diff=M,E.prev=N,E.curr=B,N=B,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let S=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(U,re)=>{if(U==="%%")return"%";S++;const me=n.formatters[re];if(typeof me=="function"){const ne=m[S];U=me.call(E,ne),m.splice(S,1),S--}return U}),n.formatArgs.call(E,m),(E.log||n.log).apply(E,m)}return _.namespace=A,_.useColors=n.useColors(),_.color=n.selectColor(A),_.extend=o,_.destroy=n.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>C!==null?C:(R!==n.namespaces&&(R=n.namespaces,k=n.enabled(A)),k),set:m=>{C=m}}),typeof n.init=="function"&&n.init(_),_}function o(A,N){const C=n(this.namespace+(typeof N>"u"?":":N)+A);return C.log=this.log,C}function s(A){n.save(A),n.namespaces=A,n.names=[],n.skips=[];let N;const C=(typeof A=="string"?A:"").split(/[\s,]+/),R=C.length;for(N=0;N<R;N++)C[N]&&(A=C[N].replace(/\*/g,".*?"),A[0]==="-"?n.skips.push(new RegExp("^"+A.slice(1)+"$")):n.names.push(new RegExp("^"+A+"$")))}function u(){const A=[...n.names.map(h),...n.skips.map(h).map(N=>"-"+N)].join(",");return n.enable(""),A}function f(A){if(A[A.length-1]==="*")return!0;let N,C;for(N=0,C=n.skips.length;N<C;N++)if(n.skips[N].test(A))return!1;for(N=0,C=n.names.length;N<C;N++)if(n.names[N].test(A))return!0;return!1}function h(A){return A.toString().substring(2,A.toString().length-2).replace(/\.\*\?$/,"*")}function g(A){return A instanceof Error?A.stack||A.message:A}function O(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return la=i,la}var Sf;function zo(){return Sf||(Sf=1,function(i,e){var t={};e.formatArgs=o,e.save=s,e.load=u,e.useColors=n,e.storage=f(),e.destroy=(()=>{let g=!1;return()=>{g||(g=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(g){if(g[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+g[0]+(this.useColors?"%c ":" ")+"+"+i.exports.humanize(this.diff),!this.useColors)return;const O="color: "+this.color;g.splice(1,0,O,"color: inherit");let A=0,N=0;g[0].replace(/%[a-zA-Z%]/g,C=>{C!=="%%"&&(A++,C==="%c"&&(N=A))}),g.splice(N,0,O)}e.log=console.debug||console.log||(()=>{});function s(g){try{g?e.storage.setItem("debug",g):e.storage.removeItem("debug")}catch{}}function u(){let g;try{g=e.storage.getItem("debug")}catch{}return!g&&typeof process<"u"&&"env"in process&&(g=t.DEBUG),g}function f(){try{return localStorage}catch{}}i.exports=P0()(e);const{formatters:h}=i.exports;h.j=function(g){try{return JSON.stringify(g)}catch(O){return"[UnexpectedJSONParseError]: "+O.message}}}(Ni,Ni.exports)),Ni.exports}var ai={},Af;function rn(){if(Af)return ai;Af=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.parseTransactionCommand=void 0;const i=e=>JSON.parse(e.cmd);return ai.parseTransactionCommand=i,ai}var Cf;function Pi(){if(Cf)return Wr;Cf=1;var i=Wr&&Wr.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.addSignatures=void 0;const e=i(zo()),t=rn(),n=(0,e.default)("@kadena/client:signing:addSignature"),o=(f,...h)=>{n(`Adding signatures to transaction
  transaction: ${JSON.stringify(f)}
  signatures: ${JSON.stringify(h)}`);const{cmd:g,hash:O,sigs:A}=f,N=(0,t.parseTransactionCommand)(f),C=N.signers.map(R=>R.pubKey);if(u(h))return n("Adding signatures based on pubKeys"),{cmd:g,hash:O,sigs:C.map((R,k)=>{const _=A.find(E=>(E==null?void 0:E.pubKey)===R);if(_&&_.sig)return _;const m=h.find(E=>E.pubKey===R);return{pubKey:R,...m!=null&&m.sig?{sig:m.sig}:{}}})};if(s(N,h))return n("Adding signatures based on order of signatures"),{cmd:g,hash:O,sigs:C.map((R,k)=>{var _,m;return{pubKey:R,sig:(_=h[k].sig)!==null&&_!==void 0?_:(m=A[k])===null||m===void 0?void 0:m.sig}})};{const R="Signatures do not have pubKeys, and the length of signatures, does not match the length of signers. Cannot add signatures.";throw n(R),new Error(R)}};Wr.addSignatures=o;function s(f,h){return f.signers.length===h.length}function u(f){return f.every(h=>h.pubKey!==void 0)}return Wr}var oi={},Of;function R0(){if(Of)return oi;Of=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.isSignedTransaction=void 0;function i(e){return e.sigs.every(t=>(t==null?void 0:t.sig)!==void 0)}return oi.isSignedTransaction=i,oi}var si={},Pf;function T0(){return Pf||(Pf=1,function(i){var e=si&&si.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(i,"__esModule",{value:!0}),i.createSignWithChainweaver=i.signWithChainweaver=i.signTransactions=void 0;const t=e(kc()),n=e(zo()),o=Pi(),s=rn(),u=(0,n.default)("pactjs:signWithChainweaver"),f=O=>async A=>{if(A===void 0)throw new Error("No transaction(s) to sign");const N=Array.isArray(A),C=N?A:[A],R={cmdSigDatas:C.map(E=>{const B=(0,s.parseTransactionCommand)(E);return{cmd:E.cmd,sigs:B.signers.map((M,S)=>{var j,U;return{pubKey:M.pubKey,sig:(U=(j=E.sigs[S])===null||j===void 0?void 0:j.sig)!==null&&U!==void 0?U:null}})}})},k=JSON.stringify(R);u("calling sign api:",k);const _=await(0,t.default)(`${O}/v1/quicksign`,{method:"POST",body:k,headers:{"Content-Type":"application/json;charset=utf-8"}}),m=await _.text();try{const E=JSON.parse(m);if("error"in E)throw"msg"in E.error&&console.log("error in result",E.error.msg),new Error(JSON.stringify(E.error));return E.responses.map((B,M)=>{C[M]=(0,o.addSignatures)(C[M],...B.commandSigData.sigs.filter(g))}),N?C:C[0]}catch(E){throw new Error(`An error occurred when adding signatures to the command
Response from v1/quicksign was \`${m}\`. 
Code: \`${_.status}\`
Text: \`${_.statusText}\` ${E}`)}};i.signTransactions=f,i.signWithChainweaver=(0,i.signTransactions)("http://127.0.0.1:9467");function h(O={host:"http://127.0.0.1:9467"}){const{host:A}=O;return(0,i.signTransactions)(A)}i.createSignWithChainweaver=h;function g(O){return"pubKey"in O&&"sig"in O&&O.sig!==null&&O.pubKey.length>0}}(si)),si}var zr={},ha={},Rf;function Gc(){return Rf||(Rf=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.checkStatus=i.connect=i.isConnected=i.isInstalled=void 0;const e=()=>{const{kadena:s}=window;return!!(s&&s.isKadena&&s.request)};i.isInstalled=e;const t=async s=>{var u;if(!(0,i.isInstalled)())return!1;const f=await((u=window.kadena)===null||u===void 0?void 0:u.request({method:"kda_checkStatus",networkId:s}));return(f==null?void 0:f.status)==="success"};i.isConnected=t;const n=async s=>{var u;if(!(0,i.isInstalled)())throw new Error("Ecko Wallet is not installed");if(await(0,i.isConnected)(s))return!0;const f=await((u=window.kadena)===null||u===void 0?void 0:u.request({method:"kda_connect",networkId:s}));if((f==null?void 0:f.status)==="fail")throw new Error("User declined connection");return!0};i.connect=n;const o=async s=>{var u;if(!(0,i.isInstalled)())throw new Error("Ecko Wallet is not installed");await(0,i.connect)(s);const f=await((u=window.kadena)===null||u===void 0?void 0:u.request({method:"kda_checkStatus",networkId:s}));if((f==null?void 0:f.status)==="fail")throw new Error("Error getting status from Ecko Wallet");return f};i.checkStatus=o}(ha)),ha}var Tf;function I0(){if(Tf)return zr;Tf=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.createEckoWalletQuicksign=zr.createQuicksignWithEckoWallet=void 0;const i=Pi(),e=rn(),t=Gc();function n(){const o=async s=>{var u;if(s===void 0)throw new Error("No transaction(s) to sign");const f=Array.isArray(s),h=f?s:[s],g=[],{networkId:O}=(0,e.parseTransactionCommand)(h[0]),A=h.map(R=>{const{cmd:k,hash:_}=R,m=(0,e.parseTransactionCommand)(R);if(g.push(_),O!==m.networkId)throw new Error("Network is not equal for all transactions");return{cmd:k,sigs:m.signers.map((E,B)=>{var M,S;return{pubKey:E.pubKey,sig:(S=(M=R.sigs[B])===null||M===void 0?void 0:M.sig)!==null&&S!==void 0?S:null}})}}),N=await((u=window.kadena)===null||u===void 0?void 0:u.request({method:"kda_requestQuickSign",data:{networkId:O,commandSigDatas:A}}));if(!N||(N==null?void 0:N.status)==="fail")throw new Error("Error signing transaction");const C="responses"in N?N.responses:N.quickSignData;if(!Array.isArray(C))throw new Error("Error signing transaction");return C.map((R,k)=>{if(R.outcome.result==="success"){if(R.outcome.hash!==g[k])throw new Error(`Hash of the transaction signed by the wallet does not match. Our hash: ${g[k]}, wallet hash: ${R.outcome.hash}`);const _=R.commandSigData.sigs.filter(m=>m.sig!==null);h[k]=(0,i.addSignatures)(h[k],..._)}}),f?h:h[0]};return o.isInstalled=t.isInstalled,o.isConnected=t.isConnected,o.connect=t.connect,o.checkStatus=t.checkStatus,o}return zr.createQuicksignWithEckoWallet=n,zr.createEckoWalletQuicksign=n,zr}var Hr={},fi={},ui={},If;function Yc(){if(If)return ui;If=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.isExecCommand=void 0;function i(e){return"exec"in e.payload}return ui.isExecCommand=i,ui}var Nf;function N0(){if(Nf)return fi;Nf=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.pactCommandToSigningRequest=void 0;const i=Yc(),e=t=>{var n;if(!(0,i.isExecCommand)(t))throw new Error("`cont` transactions are not supported");return{code:(n=t.payload.exec.code)!==null&&n!==void 0?n:"",data:t.payload.exec.data,caps:t.signers.flatMap(o=>o.clist===void 0?[]:o.clist.map(({name:s,args:u})=>{const f=s.split(".");return{role:f[f.length-1],description:`Description for ${s}`,cap:{name:s,args:u}}})),nonce:t.nonce,chainId:t.meta.chainId,gasLimit:t.meta.gasLimit,gasPrice:t.meta.gasPrice,sender:t.meta.sender,ttl:t.meta.ttl}};return fi.pactCommandToSigningRequest=e,fi}var Bf;function B0(){if(Bf)return Hr;Bf=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.createEckoWalletSign=Hr.createSignWithEckoWallet=void 0;const i=N0(),e=rn(),t=Gc();function n(){const o=async s=>{var u;const f=(0,e.parseTransactionCommand)(s),h=(0,i.pactCommandToSigningRequest)(f);await(0,t.connect)(f.networkId);const g=await((u=window.kadena)===null||u===void 0?void 0:u.request({method:"kda_requestSign",data:{networkId:f.networkId,signingCmd:h}}));if((g==null?void 0:g.signedCmd)===void 0)throw new Error("Error signing transaction");return g.signedCmd};return o.isInstalled=t.isInstalled,o.isConnected=t.isConnected,o.connect=t.connect,o.checkStatus=t.checkStatus,o}return Hr.createSignWithEckoWallet=n,Hr.createEckoWalletSign=n,Hr}var Gr={},qf;function q0(){if(qf)return Gr;qf=1;var i=Gr&&Gr.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.createSignWithKeypair=void 0;const e=Ai(),t=i(zo()),n=Pi(),o=rn(),s=(0,t.default)("pactjs:signWithKeypair"),u=g=>{const O=Array.isArray(g)?g:[g];return async function(N){if(N===void 0)throw new Error("No transaction(s) to sign");const C=Array.isArray(N),k=(C?N:[N]).map(_=>{s(`signing transaction(s): ${JSON.stringify(_)}`);const m=(0,o.parseTransactionCommand)(_),E=f(m,O);if(E.length===0)throw new Error("The keypair(s) provided are not relevant to the transaction");return h(_,E)});return C?k:k[0]}};Gr.createSignWithKeypair=u;function f(g,O){const A=O.filter(N=>g.signers.some(({pubKey:C})=>C===N.publicKey));return s("relevant keypairs",A),A}function h(g,O){return O.reduce((A,N)=>{const{sig:C,pubKey:R}=(0,e.signHash)(A.hash,N);return s(`adding signature from keypair: pubkey: ${N.publicKey}`),(0,n.addSignatures)(A,{sig:C,pubKey:R})},g)}return Gr}var Yr={},Uf;function U0(){if(Uf)return Yr;Uf=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.createWalletConnectQuicksign=Yr.createQuicksignWithWalletConnect=void 0;const i=Pi(),e=rn();function t(n,o,s){return async f=>{if(f===void 0)throw new Error("No transaction(s) to sign");const h=Array.isArray(f),g=h?f:[f],O=[],C={id:1,jsonrpc:"2.0",method:"kadena_quicksign_v1",params:{commandSigDatas:g.map(k=>{const{cmd:_,hash:m}=k,{signers:E}=(0,e.parseTransactionCommand)(k);return O.push(m),{cmd:_,sigs:E.map((B,M)=>{var S,j;return{pubKey:B.pubKey,sig:(j=(S=k.sigs[M])===null||S===void 0?void 0:S.sig)!==null&&j!==void 0?j:null}})}})}},R=await n.request({topic:o.topic,chainId:s,request:C});if(R===void 0)throw new Error("Error signing transaction");if("responses"in R)R.responses.map((k,_)=>{if(k.outcome.result==="success"){if(k.outcome.hash!==O[_])throw new Error(`Hash of the transaction signed by the wallet does not match. Our hash: ${O[_]}, wallet hash: ${k.outcome.hash}`);const m=k.commandSigData.sigs.filter(E=>E.sig!==null);g[_]=(0,i.addSignatures)(g[_],...m)}});else throw new Error("Error signing transaction");return h?g:g[0]}}return Yr.createQuicksignWithWalletConnect=t,Yr.createWalletConnectQuicksign=t,Yr}var Vr={},Ff;function F0(){if(Ff)return Vr;Ff=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.createWalletConnectSign=Vr.createSignWithWalletConnect=void 0;const i=Yc(),e=rn();function t(n,o,s){return async f=>{var h;const g=(0,e.parseTransactionCommand)(f);if(!(0,i.isExecCommand)(g))throw new Error("`cont` transactions are not supported");const A={id:1,jsonrpc:"2.0",method:"kadena_sign_v1",params:{code:(h=g.payload.exec.code)!==null&&h!==void 0?h:"",data:g.payload.exec.data,caps:g.signers.flatMap(C=>C.clist===void 0?[]:C.clist.map(({name:R,args:k})=>{const _=R.split(".");return{role:_[_.length-1],description:`Description for ${R}`,cap:{name:R,args:k}}})),nonce:g.nonce,chainId:g.meta.chainId,gasLimit:g.meta.gasLimit,gasPrice:g.meta.gasPrice,sender:g.meta.sender,ttl:g.meta.ttl}},N=await n.request({topic:o.topic,chainId:s,request:A});if((N==null?void 0:N.body)===void 0)throw new Error("Error signing transaction");return N.body}}return Vr.createSignWithWalletConnect=t,Vr.createWalletConnectSign=t,Vr}var Mf;function M0(){return Mf||(Mf=1,function(i){var e=Kr&&Kr.__createBinding||(Object.create?function(n,o,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(o,s);(!f||("get"in f?!o.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,u,f)}:function(n,o,s,u){u===void 0&&(u=s),n[u]=o[s]}),t=Kr&&Kr.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(i,"__esModule",{value:!0}),t(Pi(),i),t(R0(),i),t(T0(),i),t(I0(),i),t(B0(),i),t(q0(),i),t(U0(),i),t(F0(),i)}(Kr)),Kr}var da={},jf;function j0(){return jf||(jf=1,Object.defineProperty(da,"__esModule",{value:!0})),da}var pa={},Lf;function L0(){return Lf||(Lf=1,Object.defineProperty(pa,"__esModule",{value:!0})),pa}var ar={},kf;function Ho(){if(kf)return ar;kf=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.unpackLiterals=ar.literal=ar.Literal=ar.readKeyset=void 0;const i=s=>()=>`(read-keyset "${s}")`;ar.readKeyset=i;class e{constructor(u){this._value=u}getValue(){return this._value}toJSON(){return`Literal(${this._value})`}toString(){return this.getValue()}}ar.Literal=e;const t=s=>new e(s);ar.literal=t;const n=/"Literal\(([^\)]*)\)"/gi;function o(s){return s.replace(n,(u,f)=>f)}return ar.unpackLiterals=o,ar}var ya={},ci={},Df;function Vc(){if(Df)return ci;Df=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.parseAsPactValue=void 0;const i=Wo(),e=Ho(),t=o=>typeof o=="object"&&o instanceof Date;function n(o){if(o instanceof e.Literal)return o.getValue();switch(typeof o){case"object":return"decimal"in o?new i.PactNumber(o.decimal).toDecimal():"int"in o?new i.PactNumber(o.int).toInteger():t(o)?`(time "${`${o.toISOString().split(".")[0]}Z`}")`:Array.isArray(o)?`[${o.map(n).join(" ")}]`:`{${Object.entries(o).map(([s,u])=>`"${s}": ${n(u)}`).join(", ")}}`;case"number":throw new Error('Type `number` is not allowed in the command. Use `{ decimal: "10.0" }` or `{ int: "10" }` instead');case"string":return`"${o}"`;case"function":return o();case"boolean":return o.toString();default:return o}}return ci.parseAsPactValue=n,ci}var $f;function k0(){return $f||($f=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Pact=i.getModule=void 0;const e=Wo(),t=Hc(),n=Ho(),o=Vc(),s=f=>{let h=f;const g=new Proxy(function(){},{get(O,A){return A==="defpact"||(h=`${h}.${A}`),g},apply(O,A,N){const C=(0,n.unpackLiterals)((0,e.createExp)(h,...N.map(o.parseAsPactValue)));return h=f,C}});return g};i.getModule=s;const u=()=>new Proxy({},{get(f,h){return(0,i.getModule)(h)}});i.Pact={get modules(){return u()},get builder(){return(0,t.createTransactionBuilder)()}}}(ya)),ya}var li={},Kf;function D0(){if(Kf)return li;Kf=1,Object.defineProperty(li,"__esModule",{value:!0}),li.getPactErrorCode=void 0;function i(e){const t=e?e.message:"";if(typeof t=="string"){if(["row not found","No value found"].some(n=>t.includes(n)))return"RECORD_NOT_FOUND";if(["pact completed","defpact execution already completed"].some(n=>t.includes(n)))return"DEFPACT_COMPLETED";if(["Cannot resolve","has no such member"].some(n=>t.includes(n)))return"CANNOT_RESOLVE_MODULE";if(t.includes("Failed reading: mzero"))return"EMPTY_CODE"}return"ERROR"}return li.getPactErrorCode=i,li}var Wf;function $0(){return Wf||(Wf=1,function(i){var e=Pr&&Pr.__createBinding||(Object.create?function(o,s,u,f){f===void 0&&(f=u);var h=Object.getOwnPropertyDescriptor(s,u);(!h||("get"in h?!s.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(o,f,h)}:function(o,s,u,f){f===void 0&&(f=u),o[f]=s[u]}),t=Pr&&Pr.__exportStar||function(o,s){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(s,u)&&e(s,o,u)};Object.defineProperty(i,"__esModule",{value:!0}),i.Pact=void 0,t(A0(),i),t(Hc(),i),t(M0(),i),t(j0(),i),t(L0(),i),t(zc(),i),t(Ho(),i);var n=k0();Object.defineProperty(i,"Pact",{enumerable:!0,get:function(){return n.Pact}}),t(D0(),i),t(Vc(),i)}(Pr)),Pr}var xi=$0();const cn={CONT_TRANSACTIONS_NOT_SUPPORTED:"`cont` transactions are not supported",NO_TRANSACTIONS_TO_SIGN:"No transaction(s) to sign",NETWORK_MISMATCH:"Network is not equal for all transactions",ERROR_SIGNING_TRANSACTION:"Error signing transaction",TRANSACTION_HASH_MISMATCH:(i,e)=>`Hash of the transaction signed by the wallet does not match. Our hash: ${i}, wallet hash: ${e}`},K0=i=>typeof i=="object"&&"responses"in i,Po=i=>"cmd"in i?JSON.parse(i.cmd):i;function W0(i){return"exec"in i.payload}const z0=i=>{if(!W0(i))throw new Error(cn.CONT_TRANSACTIONS_NOT_SUPPORTED);return{code:i.payload.exec.code??"",data:i.payload.exec.data,caps:i.signers.flatMap(e=>e.clist===void 0?[]:e.clist.map(({name:t,args:n})=>{const o=t.split(".");return{role:o[o.length-1],description:`Description for ${t}`,cap:{name:t,args:n}}})),nonce:i.nonce,chainId:i.meta.chainId,gasLimit:i.meta.gasLimit,gasPrice:i.meta.gasPrice,sender:i.meta.sender,ttl:i.meta.ttl}};function H0(i){return i.code!==void 0&&i.caps!==void 0}function G0(i){if(H0(i))return i;const e=Po(i);return z0(e)}const Y0=async i=>{if(!i)throw new Error(cn.NO_TRANSACTIONS_TO_SIGN);const e=Array.isArray(i)?i:[i],{networkId:t}=Po(e[0]),n=e.map(s=>{const{cmd:u,sigs:f}=s,h=Po(s);if(t!==h.networkId)throw new Error(cn.NETWORK_MISMATCH);return{cmd:u,sigs:h.signers.map((g,O)=>{var A;return{pubKey:g.pubKey,sig:((A=f[O])==null?void 0:A.sig)??null}})}}),o=e.map(s=>s.hash);return{commandSigDatas:n,transactionHashes:o,transactions:e,isList:Array.isArray(i)}},V0=(i,e,t,n)=>{if(!K0(i))throw new Error(cn.ERROR_SIGNING_TRANSACTION);const o=i.responses;if(!Array.isArray(o))throw new Error(cn.ERROR_SIGNING_TRANSACTION);return o.forEach((s,u)=>{if(s.outcome.result==="success"){if(s.outcome.hash!==e[u])throw new Error(cn.TRANSACTION_HASH_MISMATCH(e[u],s.outcome.hash));const f=s.commandSigData.sigs.filter(h=>h.sig!==null);t[u]=xi.addSignatures(t[u],...f)}}),n?t:t[0]},Jr=i=>!!(i!=null&&i.result),J0=i=>typeof i=="object"&&i!==null&&"jsonrpc"in i&&i.jsonrpc==="2.0"&&"id"in i&&("result"in i&&!("error"in i)||"error"in i&&!("result"in i)),X0="mainnet01";class Z0{constructor(e){this.connectSchema=ql,this.provider=e.provider,this.networkId=(e==null?void 0:e.networkId)||X0}async request(e){const t=await this.provider.request(e);if(!J0(t))throw new Error("Provider response is not a valid JSON-RPC 2.0 response");return t}on(e,t){return this.provider.on(e,t),this}off(e,t){return this.provider.off(e,t),this}async connect(e){var o;let t=e;if(e!==void 0&&this.connectSchema!==void 0){const s=await((o=this.connectSchema)==null?void 0:o["~standard"].validate(e));if(s.issues)throw new Ul(s.issues);t=s.value}const n=await this.request({method:"kadena_connect",params:{networkId:this.networkId,...t}});return Jr(n)?n.result:null}async disconnect(){await this.request({method:"kadena_disconnect",params:{networkId:this.networkId}})}async getActiveAccount(){const e=await this.request({method:"kadena_getAccount_v1"});if(Jr(e))return e.result;throw new Error("Failed to fetch account")}async getAccounts(){const e=await this.request({method:"kadena_getAccounts_v2"});return Jr(e)?e.result:[]}async getActiveNetwork(){const e=await this.request({method:"kadena_getNetwork_v1"});if(Jr(e))return e.result;throw new Error("Failed to fetch network")}async getNetworks(){const e=await this.request({method:"kadena_getNetworks_v1"});return Jr(e)?e.result:[]}async signTransaction(e){const{commandSigDatas:t,transactionHashes:n,transactions:o,isList:s}=await Y0(e),u=await this.request({method:"kadena_quicksign_v1",params:{commandSigDatas:t}});if(Jr(u))return V0(u.result,n,o,s);throw new Error("Error signing transaction")}async signCommand(e){const t=G0(e),n=await this.request({method:"kadena_sign_v1",params:t});if(Jr(n))return n.result.body;throw new Error("Error signing command")}onAccountChange(e){this.on("kadena_accountChanged",e)}onNetworkChange(e){this.on("kadena_networkChanged",e)}}var ga={exports:{}},zf;function Q0(){return zf||(zf=1,function(i){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function o(h,g,O){this.fn=h,this.context=g,this.once=O||!1}function s(h,g,O,A,N){if(typeof O!="function")throw new TypeError("The listener must be a function");var C=new o(O,A||h,N),R=t?t+g:g;return h._events[R]?h._events[R].fn?h._events[R]=[h._events[R],C]:h._events[R].push(C):(h._events[R]=C,h._eventsCount++),h}function u(h,g){--h._eventsCount===0?h._events=new n:delete h._events[g]}function f(){this._events=new n,this._eventsCount=0}f.prototype.eventNames=function(){var g=[],O,A;if(this._eventsCount===0)return g;for(A in O=this._events)e.call(O,A)&&g.push(t?A.slice(1):A);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(O)):g},f.prototype.listeners=function(g){var O=t?t+g:g,A=this._events[O];if(!A)return[];if(A.fn)return[A.fn];for(var N=0,C=A.length,R=new Array(C);N<C;N++)R[N]=A[N].fn;return R},f.prototype.listenerCount=function(g){var O=t?t+g:g,A=this._events[O];return A?A.fn?1:A.length:0},f.prototype.emit=function(g,O,A,N,C,R){var k=t?t+g:g;if(!this._events[k])return!1;var _=this._events[k],m=arguments.length,E,B;if(_.fn){switch(_.once&&this.removeListener(g,_.fn,void 0,!0),m){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,O),!0;case 3:return _.fn.call(_.context,O,A),!0;case 4:return _.fn.call(_.context,O,A,N),!0;case 5:return _.fn.call(_.context,O,A,N,C),!0;case 6:return _.fn.call(_.context,O,A,N,C,R),!0}for(B=1,E=new Array(m-1);B<m;B++)E[B-1]=arguments[B];_.fn.apply(_.context,E)}else{var M=_.length,S;for(B=0;B<M;B++)switch(_[B].once&&this.removeListener(g,_[B].fn,void 0,!0),m){case 1:_[B].fn.call(_[B].context);break;case 2:_[B].fn.call(_[B].context,O);break;case 3:_[B].fn.call(_[B].context,O,A);break;case 4:_[B].fn.call(_[B].context,O,A,N);break;default:if(!E)for(S=1,E=new Array(m-1);S<m;S++)E[S-1]=arguments[S];_[B].fn.apply(_[B].context,E)}}return!0},f.prototype.on=function(g,O,A){return s(this,g,O,A,!1)},f.prototype.once=function(g,O,A){return s(this,g,O,A,!0)},f.prototype.removeListener=function(g,O,A,N){var C=t?t+g:g;if(!this._events[C])return this;if(!O)return u(this,C),this;var R=this._events[C];if(R.fn)R.fn===O&&(!N||R.once)&&(!A||R.context===A)&&u(this,C);else{for(var k=0,_=[],m=R.length;k<m;k++)(R[k].fn!==O||N&&!R[k].once||A&&R[k].context!==A)&&_.push(R[k]);_.length?this._events[C]=_.length===1?_[0]:_:u(this,C)}return this},f.prototype.removeAllListeners=function(g){var O;return g?(O=t?t+g:g,this._events[O]&&u(this,O)):(this._events=new n,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=t,f.EventEmitter=f,i.exports=f}(ga)),ga.exports}Q0();const zt={PROVIDER_NOT_DETECTED:"Provider not detected",FAILED_TO_CONNECT:"Failed to connect",COULD_NOT_FETCH_ACCOUNT:"Could not fetch account",KADENA_CHANGE_NETWORK_UNSUPPORTED:"kadena_changeNetwork_v1 is not supported by the Ecko extension",ERROR_SIGNING_TRANSACTION:"Error signing transaction",TRANSACTION_HASH_MISMATCH:(i,e)=>`Hash of the transaction signed by the wallet does not match. Our hash: ${i}, wallet hash: ${e}`},eh=i=>{try{return JSON.parse(i)}catch{return i}};class th extends Z0{constructor(e){super(e),this.name="Ecko",this._networkChangedListeners=[],this._accountChangeListeners=[]}async _connect(e,t=!1){if(!this.provider)throw new Error(zt.PROVIDER_NOT_DETECTED);try{let n=await this.provider.request({method:"kda_checkStatus",...e});if(n.status!=="success"&&(await this.provider.request({method:"kda_connect",...e}),n=await this.provider.request({method:"kda_checkStatus",...e}),n.status!=="success"))throw new Error(n.message||zt.FAILED_TO_CONNECT);const o=await this.provider.request({method:"kda_requestAccount",...e});if(o.status!=="success"||!o.wallet)throw new Error(o.message||zt.COULD_NOT_FETCH_ACCOUNT);return this.networkId=e.networkId,{accountName:o.wallet.account,networkId:e.networkId,contract:"coin",guard:{keys:[o.wallet.publicKey],pred:"keys-all"},chainAccounts:[]}}catch(n){if(n instanceof Error&&n.message.toLowerCase().includes("invalid")){const o=await this.getActiveNetwork();this.networkId=o.networkId;try{return await this._connect({...e,networkId:o.networkId},t)}catch(s){if(t)return null;throw s}}if(t)return null;throw n}}on(e,t){if(!this.provider)throw new Error(zt.PROVIDER_NOT_DETECTED);switch(e){case"kadena_accountChanged":{const n=async()=>{try{const o=await this.getActiveNetwork();let s=null;try{const u=await this.getActiveAccount();if("status"in u&&u.status==="fail")throw new Error(u.message||zt.COULD_NOT_FETCH_ACCOUNT);s=u}catch{if(s=await this._connect({networkId:o.networkId},!0),!s)return}this.networkId=o.networkId;for(const u of this._networkChangedListeners)u(o);s&&t(s)}catch(o){console.error("Error handling account change event:",o)}};this._accountChangeListeners.push(n),this.provider.on("res_accountChange",n);break}case"kadena_networkChanged":{this._networkChangedListeners.push(t);break}default:this.provider.on(e,t)}return this}off(e,t){if(!this.provider)throw new Error(zt.PROVIDER_NOT_DETECTED);switch(e){case"kadena_accountChanged":typeof this.provider.off=="function"&&this.provider.off("res_accountChange",t),this._accountChangeListeners=this._accountChangeListeners.filter(n=>n!==t);break;case"kadena_networkChanged":this._networkChangedListeners=this._networkChangedListeners.filter(n=>n!==t);break;default:typeof this.provider.off=="function"&&this.provider.off(e,t)}return this}async request(e){var u,f;if(!this.provider)throw new Error(zt.PROVIDER_NOT_DETECTED);const{id:t,method:n,params:o={}}=e,s={networkId:this.networkId,...o};switch(n){case"kadena_connect":{const h=await this._connect(s,!1);if(!h)throw new Error(zt.FAILED_TO_CONNECT);return{id:t,jsonrpc:"2.0",result:h}}case"kadena_disconnect":{if(!this.provider)throw new Error(zt.PROVIDER_NOT_DETECTED);return await this.provider.request({method:"kda_disconnect",...s}),this.destroy(),{id:t,jsonrpc:"2.0",result:void 0}}case"kadena_getAccount_v1":{const h=await this.provider.request({method:"kda_requestAccount",...s});if(h.status!=="success"||!h.wallet)throw new Error(h.message||zt.COULD_NOT_FETCH_ACCOUNT);return{id:t,jsonrpc:"2.0",result:{accountName:h.wallet.account,networkId:this.networkId,contract:"coin",guard:{keys:[h.wallet.publicKey],pred:"keys-all"},chainAccounts:[]}}}case"kadena_getAccounts_v2":{const h=await this.provider.request({method:"kda_requestAccount",...s});if(h.status!=="success"||!h.wallet)throw new Error(h.message||zt.COULD_NOT_FETCH_ACCOUNT);const g={accountName:h.wallet.account,networkId:this.networkId,contract:"coin",guard:{keys:[h.wallet.publicKey],pred:"keys-all"},chainAccounts:[]};return{id:t,jsonrpc:"2.0",result:[g]}}case"kadena_getNetwork_v1":{const h=await this.provider.request({method:"kda_getNetwork"});return{id:t,jsonrpc:"2.0",result:{networkName:h.name,networkId:h.networkId,url:[h.url]}}}case"kadena_getNetworks_v1":{const h=await this.provider.request({method:"kda_getNetwork"}),g={networkName:h.name,networkId:h.networkId,url:[h.url]};return{id:t,jsonrpc:"2.0",result:[g]}}case"kadena_sign_v1":{const h=await this.provider.request({method:"kda_requestSign",data:{networkId:this.networkId,signingCmd:o}});if(h.status!=="success"){const O=h.error??h.message??zt.ERROR_SIGNING_TRANSACTION;throw new Error(O)}const g={cmd:h.signedCmd.cmd,hash:h.signedCmd.hash,sigs:h.signedCmd.sigs};return{id:t,jsonrpc:"2.0",result:{body:g,chainId:(f=(u=eh(g.cmd))==null?void 0:u.meta)==null?void 0:f.chainId}}}case"kadena_quicksign_v1":{const{commandSigDatas:h}=o,g=await this.provider.request({method:"kda_requestQuickSign",data:{networkId:this.networkId,commandSigDatas:h}});if(g.status!=="success"){const A=g.error??g.message??zt.ERROR_SIGNING_TRANSACTION;throw new Error(A)}const O="responses"in g?g.responses:g.quickSignData;if(!Array.isArray(O))throw new Error(zt.ERROR_SIGNING_TRANSACTION);return{id:t,jsonrpc:"2.0",result:{responses:O}}}case"kadena_checkStatus":return await this.provider.request({method:"kda_checkStatus",...s});default:return await this.provider.request(e)}}async disconnect(){if(!this.provider)throw new Error(zt.PROVIDER_NOT_DETECTED);await this.provider.request({method:"kda_disconnect",networkId:this.networkId}),this.destroy()}destroy(){this.provider&&typeof this.provider.off=="function"&&this._accountChangeListeners.forEach(e=>{this.provider.off("res_accountChange",e)}),this._accountChangeListeners=[]}}class Go{constructor(e){this.name="eckoWALLET",this.accountName="",this.publicKey="",this.impl=e}static async detect(){const e=await Ol({silent:!0});return e?new Go(new th({provider:e})):null}async detect(){return!0}async connect(){var t;await this.impl.connect(),console.log("🔵 Connected to wallet");try{const n=await window.kadena.request({method:"kda_requestAccount",params:{networkId:"testnet04"}});if(console.log("🔵 RPC Account Info:",n),(n==null?void 0:n.status)==="success"&&((t=n.wallet)!=null&&t.account)){this.accountName=n.wallet.account,this.publicKey=n.wallet.publicKey.replace(/^[kr]:/,""),console.log("🔵 Account & pubKey set from RPC:",this.accountName,this.publicKey);return}}catch(n){console.warn("⚠️ RPC request error:",n)}const e=await this.impl.getActiveAccount();if(console.log("🔵 Fallback Account Info:",e),typeof e!="string"&&e.publicKey){this.accountName=e.accountName,this.publicKey=e.publicKey.replace(/^[kr]:/,""),console.log("🔵 Account & pubKey set from fallback:",this.accountName,this.publicKey);return}throw typeof e=="string"&&(this.accountName=e),new Error("EckoAdapter: não encontrei publicKey no account")}async getPublicKey(){return this.publicKey}async getAccounts(){return[{account:this.accountName,chainIds:Array.from({length:20},(e,t)=>t.toString())}]}async signTransaction(e){var s,u;console.log("🔵 PublicKey ao assinar:",this.publicKey),console.log("🔵 Comando original:",e);const t=this.publicKey.replace(/^[kr]:/,"");let n;if(e.cmd){const f=JSON.parse(e.cmd);f.signers=(s=f.signers)!=null&&s.length?f.signers:[{pubKey:t}],n={...e,cmd:JSON.stringify(f)}}else n={...e,signers:(u=e.signers)!=null&&u.length?e.signers:[{pubKey:t}]};console.log("🔵 Comando com signers corrigido:",n);const o=await this.impl.signTransaction(n);return console.log("🔵 Resposta da assinatura:",o),o}async sendTransaction(e){return await this.impl.sendTransaction(e)}}const rh=(i,e)=>t=>{t.data.source==="kadena-spirekey"&&t.data.name===i&&e(t.data.payload)},Cr=(i,e)=>{const t=rh(i,e);return window.addEventListener("message",t),()=>{window.removeEventListener("message",t)}},Jc=i=>Cr("isReady",i),nh=i=>Cr("canceled:connect",i),ih=i=>Cr("canceled:sign",i),ah=i=>Cr("connected",i),oh=i=>Cr("signed",i);function Yo(i,e){return e||(e=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(e)}}))}function Hf(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,n)}return t}function Gf(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Hf(Object(t),!0).forEach(function(n){sh(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Hf(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function sh(i,e,t){return e=fh(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function fh(i){var e=uh(i,"string");return typeof e=="symbol"?e:String(e)}function uh(i,e){if(typeof i!="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}const Vo=Xc({});function Xc(i){return e.withOptions=t=>Xc(Gf(Gf({},i),t)),e;function e(t,...n){const o=typeof t=="string"?[t]:t.raw,{escapeSpecialCharacters:s=Array.isArray(t),trimWhitespace:u=!0}=i;let f="";for(let O=0;O<o.length;O++){let A=o[O];s&&(A=A.replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`").replace(/\\\$/g,"$").replace(/\\\{/g,"{")),f+=A,O<n.length&&(f+=n[O])}const h=f.split(`
`);let g=null;for(const O of h){const A=O.match(/^(\s+)\S+/);if(A){const N=A[1].length;g?g=Math.min(g,N):g=N}}if(g!==null){const O=g;f=h.map(A=>A[0]===" "||A[0]==="	"?A.slice(O):A).join(`
`)}return u&&(f=f.trim()),s&&(f=f.replace(/\\n/g,`
`)),f}}var ch={appendCss:()=>{},registerClassName:()=>{},onEndFileScope:()=>{},registerComposition:()=>{},markCompositionUsed:()=>{},getIdentOption:()=>"short"},ji=[ch],nn=()=>{if(ji.length<1)throw new Error("No adapter configured");return ji[ji.length-1]},Zc=!1,lh=i=>{Zc||hh(i)},hh=i=>{if(!i)throw new Error('No adapter provided when calling "setAdapter"');Zc=!0,ji.push(i)},Qc=function(){return nn().appendCss(...arguments)},el=function(){return nn().registerClassName(...arguments)},dh=function(){return nn().registerComposition(...arguments)},tl=function(){return nn().markCompositionUsed(...arguments)},ph=function(){for(var e,t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=(t=nn()).onBeginFileScope)===null||e===void 0?void 0:e.call(t,...o)},yh=function(){return nn().onEndFileScope(...arguments)},gh=function(){var e=nn();return"getIdentOption"in e?e.getIdentOption(...arguments):"short"},Yf,Jo=0,$i=[];function vh(i,e){Jo=0;var t={filePath:i,packageName:e};$i.unshift(t),ph(t)}function mh(){yh(Or()),Jo=0,$i.splice(0,1)}function Or(){if($i.length===0)throw new Error(Vo(Yf||(Yf=Yo([`
        Styles were unable to be assigned to a file. This is generally caused by one of the following:

        - You may have created styles outside of a '.css.ts' context
        - You may have incorrect configuration. See https://vanilla-extract.style/documentation/getting-started
      `]))));return $i[0]}function xh(){return Jo++}var Vf={},wh=i=>{var{fileScope:e,css:t}=i,n=e.packageName?[e.packageName,e.filePath].join("/"):e.filePath,o=Vf[n];if(!o){var s=document.createElement("style");e.packageName&&s.setAttribute("data-package",e.packageName),s.setAttribute("data-file",e.filePath),s.setAttribute("type","text/css"),o=Vf[n]=s,document.head.appendChild(s)}o.innerHTML=t};function bh(i){var e=i.match(/^var\((.*)\)$/);return e?e[1]:i}/*! https://mths.be/cssesc v3.0.0 by @mathias */var va,Jf;function _h(){if(Jf)return va;Jf=1;var i={},e=i.hasOwnProperty,t=function(h,g){if(!h)return g;var O={};for(var A in g)O[A]=e.call(h,A)?h[A]:g[A];return O},n=/[ -,\.\/:-@\[-\^`\{-~]/,o=/[ -,\.\/:-@\[\]\^`\{-~]/,s=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,u=function f(h,g){g=t(g,f.options),g.quotes!="single"&&g.quotes!="double"&&(g.quotes="single");for(var O=g.quotes=="double"?'"':"'",A=g.isIdentifier,N=h.charAt(0),C="",R=0,k=h.length;R<k;){var _=h.charAt(R++),m=_.charCodeAt(),E=void 0;if(m<32||m>126){if(m>=55296&&m<=56319&&R<k){var B=h.charCodeAt(R++);(B&64512)==56320?m=((m&1023)<<10)+(B&1023)+65536:R--}E="\\"+m.toString(16).toUpperCase()+" "}else g.escapeEverything?n.test(_)?E="\\"+_:E="\\"+m.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(_)?E="\\"+m.toString(16).toUpperCase()+" ":_=="\\"||!A&&(_=='"'&&O==_||_=="'"&&O==_)||A&&o.test(_)?E="\\"+_:E=_;C+=E}return A&&(/^-[-\d]/.test(C)?C="\\-"+C.slice(1):/\d/.test(N)&&(C="\\3"+N+" "+C.slice(1))),C=C.replace(s,function(M,S,j){return S&&S.length%2?M:(S||"")+j}),!A&&g.wrap?O+C+O:C};return u.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},u.version="3.0.0",va=u,va}var Eh=_h();const rl=Lo(Eh);var Sh=class{constructor(i){const{failure:e,gotoFn:t,output:n}=this._buildTables(i);this.gotoFn=t,this.output=n,this.failure=e}_buildTables(i){const e={0:{}},t={};let n=0;for(const u of i){let f=0;for(const h of u)e[f]&&h in e[f]?f=e[f][h]:(n++,e[f][h]=n,e[n]={},f=n,t[n]=[]);t[f].push(u)}const o={},s=[];for(const u in e[0]){const f=e[0][u];o[f]=0,s.push(f)}for(;s.length>0;){const u=s.shift();if(u!==void 0)for(const f in e[u]){const h=e[u][f];s.push(h);let g=o[u];for(;g>0&&!(f in e[g]);)g=o[g];if(f in e[g]){const O=e[g][f];o[h]=O,t[h]=[...t[h],...t[O]]}else o[h]=0}}return{gotoFn:e,output:t,failure:o}}search(i){let e=0;const t=[];for(let n=0;n<i.length;n++){const o=i[n];for(;e>0&&!(o in this.gotoFn[e]);)e=this.failure[e];if(o in this.gotoFn[e]&&(e=this.gotoFn[e][o],this.output[e].length>0)){const s=this.output[e];t.push([n,s])}}return t}match(i){let e=0;for(let t=0;t<i.length;t++){const n=i[t];for(;e>0&&!(n in this.gotoFn[e]);)e=this.failure[e];if(n in this.gotoFn[e]&&(e=this.gotoFn[e][n],this.output[e].length>0))return!0}return!1}},Ft;(function(i){i.Attribute="attribute",i.Pseudo="pseudo",i.PseudoElement="pseudo-element",i.Tag="tag",i.Universal="universal",i.Adjacent="adjacent",i.Child="child",i.Descendant="descendant",i.Parent="parent",i.Sibling="sibling",i.ColumnCombinator="column-combinator"})(Ft||(Ft={}));var tr;(function(i){i.Any="any",i.Element="element",i.End="end",i.Equals="equals",i.Exists="exists",i.Hyphen="hyphen",i.Not="not",i.Start="start"})(tr||(tr={}));const Xf=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,Ah=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,Ch=new Map([[126,tr.Element],[94,tr.Start],[36,tr.End],[42,tr.Any],[33,tr.Not],[124,tr.Hyphen]]),Oh=new Set(["has","not","matches","is","where","host","host-context"]);function Ph(i){switch(i.type){case Ft.Adjacent:case Ft.Child:case Ft.Descendant:case Ft.Parent:case Ft.Sibling:case Ft.ColumnCombinator:return!0;default:return!1}}const Rh=new Set(["contains","icontains"]);function Th(i,e,t){const n=parseInt(e,16)-65536;return n!==n||t?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)}function hi(i){return i.replace(Ah,Th)}function ma(i){return i===39||i===34}function Zf(i){return i===32||i===9||i===10||i===12||i===13}function Ih(i){const e=[],t=nl(e,`${i}`,0);if(t<i.length)throw new Error(`Unmatched selector: ${i.slice(t)}`);return e}function nl(i,e,t){let n=[];function o(N){const C=e.slice(t+N).match(Xf);if(!C)throw new Error(`Expected name, found ${e.slice(t)}`);const[R]=C;return t+=N+R.length,hi(R)}function s(N){for(t+=N;t<e.length&&Zf(e.charCodeAt(t));)t++}function u(){t+=1;const N=t;let C=1;for(;C>0&&t<e.length;t++)e.charCodeAt(t)===40&&!f(t)?C++:e.charCodeAt(t)===41&&!f(t)&&C--;if(C)throw new Error("Parenthesis not matched");return hi(e.slice(N,t-1))}function f(N){let C=0;for(;e.charCodeAt(--N)===92;)C++;return(C&1)===1}function h(){if(n.length>0&&Ph(n[n.length-1]))throw new Error("Did not expect successive traversals.")}function g(N){if(n.length>0&&n[n.length-1].type===Ft.Descendant){n[n.length-1].type=N;return}h(),n.push({type:N})}function O(N,C){n.push({type:Ft.Attribute,name:N,action:C,value:o(1),namespace:null,ignoreCase:"quirks"})}function A(){if(n.length&&n[n.length-1].type===Ft.Descendant&&n.pop(),n.length===0)throw new Error("Empty sub-selector");i.push(n)}if(s(0),e.length===t)return t;e:for(;t<e.length;){const N=e.charCodeAt(t);switch(N){case 32:case 9:case 10:case 12:case 13:{(n.length===0||n[0].type!==Ft.Descendant)&&(h(),n.push({type:Ft.Descendant})),s(1);break}case 62:{g(Ft.Child),s(1);break}case 60:{g(Ft.Parent),s(1);break}case 126:{g(Ft.Sibling),s(1);break}case 43:{g(Ft.Adjacent),s(1);break}case 46:{O("class",tr.Element);break}case 35:{O("id",tr.Equals);break}case 91:{s(1);let C,R=null;e.charCodeAt(t)===124?C=o(1):e.startsWith("*|",t)?(R="*",C=o(2)):(C=o(0),e.charCodeAt(t)===124&&e.charCodeAt(t+1)!==61&&(R=C,C=o(1))),s(0);let k=tr.Exists;const _=Ch.get(e.charCodeAt(t));if(_){if(k=_,e.charCodeAt(t+1)!==61)throw new Error("Expected `=`");s(2)}else e.charCodeAt(t)===61&&(k=tr.Equals,s(1));let m="",E=null;if(k!=="exists"){if(ma(e.charCodeAt(t))){const S=e.charCodeAt(t);let j=t+1;for(;j<e.length&&(e.charCodeAt(j)!==S||f(j));)j+=1;if(e.charCodeAt(j)!==S)throw new Error("Attribute value didn't end");m=hi(e.slice(t+1,j)),t=j+1}else{const S=t;for(;t<e.length&&(!Zf(e.charCodeAt(t))&&e.charCodeAt(t)!==93||f(t));)t+=1;m=hi(e.slice(S,t))}s(0);const M=e.charCodeAt(t)|32;M===115?(E=!1,s(1)):M===105&&(E=!0,s(1))}if(e.charCodeAt(t)!==93)throw new Error("Attribute selector didn't terminate");t+=1;const B={type:Ft.Attribute,name:C,action:k,value:m,namespace:R,ignoreCase:E};n.push(B);break}case 58:{if(e.charCodeAt(t+1)===58){n.push({type:Ft.PseudoElement,name:o(2).toLowerCase(),data:e.charCodeAt(t)===40?u():null});continue}const C=o(1).toLowerCase();let R=null;if(e.charCodeAt(t)===40)if(Oh.has(C)){if(ma(e.charCodeAt(t+1)))throw new Error(`Pseudo-selector ${C} cannot be quoted`);if(R=[],t=nl(R,e,t+1),e.charCodeAt(t)!==41)throw new Error(`Missing closing parenthesis in :${C} (${e})`);t+=1}else{if(R=u(),Rh.has(C)){const k=R.charCodeAt(0);k===R.charCodeAt(R.length-1)&&ma(k)&&(R=R.slice(1,-1))}R=hi(R)}n.push({type:Ft.Pseudo,name:C,data:R});break}case 44:{A(),n=[],s(1);break}default:{if(e.startsWith("/*",t)){const k=e.indexOf("*/",t+2);if(k<0)throw new Error("Comment was not terminated");t=k+2,n.length===0&&s(0);break}let C=null,R;if(N===42)t+=1,R="*";else if(N===124){if(R="",e.charCodeAt(t+1)===124){g(Ft.ColumnCombinator),s(2);break}}else if(Xf.test(e.slice(t)))R=o(0);else break e;e.charCodeAt(t)===124&&e.charCodeAt(t+1)!==124&&(C=R,e.charCodeAt(t+1)===42?(R="*",t+=2):R=o(1)),n.push(R==="*"?{type:Ft.Universal,namespace:C}:{type:Ft.Tag,name:R,namespace:C})}}}return A(),t}/*! @license MediaQueryParser - MIT License - Tom Golden (github@tbjgolden.com) *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ki=function(){return Ki=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ki.apply(this,arguments)};function Ro(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(i);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(i,n[o])&&(t[n[o]]=i[n[o]]);return t}function Nh(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kt(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),o,s=[],u;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(f){u={error:f}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(u)throw u.error}}return s}var Bh=/(\u000D|\u000C|\u000D\u000A)/g,qh=/[\u0000\uD800-\uDFFF]/g,Uh=/(\/\*)[\s\S]*?(\*\/)/g,Fh=function(e,t){t===void 0&&(t=0),e=e.replace(Bh,`
`).replace(qh,"�"),e=e.replace(Uh,"");for(var n=[];t<e.length;t+=1){var o=e.charCodeAt(t);if(o===9||o===32||o===10){for(var s=e.charCodeAt(++t);s===9||s===32||s===10;)s=e.charCodeAt(++t);t-=1,n.push({type:"<whitespace-token>"})}else if(o===34){var u=Qf(e,t);if(u===null)return null;var f=kt(u,2),h=f[0],g=f[1];n.push({type:"<string-token>",value:g}),t=h}else if(o===35){if(t+1<e.length){var O=e.charCodeAt(t+1);if(O===95||O>=65&&O<=90||O>=97&&O<=122||O>=128||O>=48&&O<=57||O===92&&t+2<e.length&&e.charCodeAt(t+2)!==10){var A=il(e,t+1)?"id":"unrestricted",u=jh(e,t+1);if(u!==null){var N=kt(u,2),h=N[0],g=N[1];n.push({type:"<hash-token>",value:g.toLowerCase(),flag:A}),t=h;continue}}}n.push({type:"<delim-token>",value:o})}else if(o===39){var u=Qf(e,t);if(u===null)return null;var C=kt(u,2),h=C[0],g=C[1];n.push({type:"<string-token>",value:g}),t=h}else if(o===40)n.push({type:"<(-token>"});else if(o===41)n.push({type:"<)-token>"});else if(o===43){var R=Bi(e,t);if(R===null)n.push({type:"<delim-token>",value:o});else{var k=kt(R,2),h=k[0],_=k[1];_[0]==="<dimension-token>"?n.push({type:"<dimension-token>",value:_[1],unit:_[2].toLowerCase(),flag:"number"}):_[0]==="<number-token>"?n.push({type:_[0],value:_[1],flag:_[2]}):n.push({type:_[0],value:_[1],flag:"number"}),t=h}}else if(o===44)n.push({type:"<comma-token>"});else if(o===45){var m=Bi(e,t);if(m!==null){var E=kt(m,2),h=E[0],_=E[1];_[0]==="<dimension-token>"?n.push({type:"<dimension-token>",value:_[1],unit:_[2].toLowerCase(),flag:"number"}):_[0]==="<number-token>"?n.push({type:_[0],value:_[1],flag:_[2]}):n.push({type:_[0],value:_[1],flag:"number"}),t=h;continue}if(t+2<e.length){var O=e.charCodeAt(t+1),B=e.charCodeAt(t+2);if(O===45&&B===62){n.push({type:"<CDC-token>"}),t+=2;continue}}var u=eu(e,t);if(u!==null){var M=kt(u,3),h=M[0],g=M[1],S=M[2];n.push({type:S,value:g}),t=h;continue}n.push({type:"<delim-token>",value:o})}else if(o===46){var m=Bi(e,t);if(m===null)n.push({type:"<delim-token>",value:o});else{var j=kt(m,2),h=j[0],_=j[1];_[0]==="<dimension-token>"?n.push({type:"<dimension-token>",value:_[1],unit:_[2].toLowerCase(),flag:"number"}):_[0]==="<number-token>"?n.push({type:_[0],value:_[1],flag:_[2]}):n.push({type:_[0],value:_[1],flag:"number"}),t=h;continue}}else if(o===58)n.push({type:"<colon-token>"});else if(o===59)n.push({type:"<semicolon-token>"});else if(o===60){if(t+3<e.length){var O=e.charCodeAt(t+1),B=e.charCodeAt(t+2),U=e.charCodeAt(t+3);if(O===33&&B===45&&U===45){n.push({type:"<CDO-token>"}),t+=3;continue}}n.push({type:"<delim-token>",value:o})}else if(o===64){var u=Xo(e,t+1);if(u!==null){var re=kt(u,2),h=re[0],g=re[1];n.push({type:"<at-keyword-token>",value:g.toLowerCase()}),t=h;continue}n.push({type:"<delim-token>",value:o})}else if(o===91)n.push({type:"<[-token>"});else if(o===92){var u=Ri(e,t);if(u===null)return null;var me=kt(u,2),h=me[0],g=me[1];e=e.slice(0,t)+g+e.slice(h+1),t-=1}else if(o===93)n.push({type:"<]-token>"});else if(o===123)n.push({type:"<{-token>"});else if(o===125)n.push({type:"<}-token>"});else if(o>=48&&o<=57){var u=Bi(e,t),ne=kt(u,2),h=ne[0],_=ne[1];_[0]==="<dimension-token>"?n.push({type:"<dimension-token>",value:_[1],unit:_[2].toLowerCase(),flag:"number"}):_[0]==="<number-token>"?n.push({type:_[0],value:_[1],flag:_[2]}):n.push({type:_[0],value:_[1],flag:"number"}),t=h}else if(o===95||o>=65&&o<=90||o>=97&&o<=122||o>=128){var u=eu(e,t);if(u===null)return null;var Pe=kt(u,3),h=Pe[0],g=Pe[1],S=Pe[2];n.push({type:S,value:g}),t=h}else n.push({type:"<delim-token>",value:o})}return n.push({type:"<EOF-token>"}),n},Qf=function(e,t){if(e.length<=t+1)return null;for(var n=e.charCodeAt(t),o=[],s=t+1;s<e.length;s+=1){var u=e.charCodeAt(s);if(u===n)return[s,String.fromCharCode.apply(null,o)];if(u===92){var f=Ri(e,s);if(f===null)return null;var h=kt(f,2),g=h[0],O=h[1];o.push(O),s=g}else{if(u===10)return null;o.push(u)}}return null},il=function(e,t){if(e.length<=t)return!1;var n=e.charCodeAt(t);if(n===45){if(e.length<=t+1)return!1;var o=e.charCodeAt(t+1);if(o===45||o===95||o>=65&&o<=90||o>=97&&o<=122||o>=128)return!0;if(o===92){if(e.length<=t+2)return!1;var s=e.charCodeAt(t+2);return s!==10}else return!1}else{if(n===95||n>=65&&n<=90||n>=97&&n<=122||n>=128)return!0;if(n===92){if(e.length<=t+1)return!1;var o=e.charCodeAt(t+1);return o!==10}else return!1}},Ri=function(e,t){if(e.length<=t+1||e.charCodeAt(t)!==92)return null;var n=e.charCodeAt(t+1);if(n===10)return null;if(n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102){for(var o=[n],s=Math.min(t+7,e.length),u=t+2;u<s;u+=1){var f=e.charCodeAt(u);if(f>=48&&f<=57||f>=65&&f<=70||f>=97&&f<=102)o.push(f);else break}if(u<e.length){var h=e.charCodeAt(u);(h===9||h===32||h===10)&&(u+=1)}return[u-1,parseInt(String.fromCharCode.apply(null,o),16)]}else return[t+1,n]},Bi=function(e,t){var n=Mh(e,t);if(n===null)return null;var o=kt(n,3),s=o[0],u=o[1],f=o[2],h=Xo(e,s+1);if(h!==null){var g=kt(h,2),O=g[0],A=g[1];return[O,["<dimension-token>",u,A]]}return s+1<e.length&&e.charCodeAt(s+1)===37?[s+1,["<percentage-token>",u]]:[s,["<number-token>",u,f]]},Mh=function(e,t){if(e.length<=t)return null;var n="integer",o=[],s=e.charCodeAt(t);for((s===43||s===45)&&(t+=1,s===45&&o.push(45));t<e.length;){var u=e.charCodeAt(t);if(u>=48&&u<=57)o.push(u),t+=1;else break}if(t+1<e.length){var f=e.charCodeAt(t),h=e.charCodeAt(t+1);if(f===46&&h>=48&&h<=57)for(o.push(f,h),n="number",t+=2;t<e.length;){var u=e.charCodeAt(t);if(u>=48&&u<=57)o.push(u),t+=1;else break}}if(t+1<e.length){var f=e.charCodeAt(t),h=e.charCodeAt(t+1),g=e.charCodeAt(t+2);if(f===69||f===101){var O=h>=48&&h<=57;if(O||(h===43||h===45)&&g>=48&&g<=57)for(n="number",O?(o.push(69,h),t+=2):h===45?(o.push(69,45,g),t+=3):(o.push(69,g),t+=3);t<e.length;){var u=e.charCodeAt(t);if(u>=48&&u<=57)o.push(u),t+=1;else break}}}var A=String.fromCharCode.apply(null,o),N=n==="number"?parseFloat(A):parseInt(A);return N===-0&&(N=0),Number.isNaN(N)?null:[t-1,N,n]},jh=function(e,t){if(e.length<=t)return null;for(var n=[],o=e.charCodeAt(t);t<e.length;o=e.charCodeAt(++t)){if(o===45||o===95||o>=65&&o<=90||o>=97&&o<=122||o>=128||o>=48&&o<=57){n.push(o);continue}else{var s=Ri(e,t);if(s!==null){var u=kt(s,2),f=u[0],h=u[1];n.push(h),t=f;continue}}break}return t===0?null:[t-1,String.fromCharCode.apply(null,n)]},Xo=function(e,t){if(e.length<=t||!il(e,t))return null;for(var n=[],o=e.charCodeAt(t);t<e.length;o=e.charCodeAt(++t)){if(o===45||o===95||o>=65&&o<=90||o>=97&&o<=122||o>=128||o>=48&&o<=57){n.push(o);continue}else{var s=Ri(e,t);if(s!==null){var u=kt(s,2),f=u[0],h=u[1];n.push(h),t=f;continue}}break}return[t-1,String.fromCharCode.apply(null,n)]},Lh=function(e,t){for(var n=e.charCodeAt(t);n===9||n===32||n===10;)n=e.charCodeAt(++t);for(var o=[],s=!1;t<e.length;){if(n===41)return[t,String.fromCharCode.apply(null,o)];if(n===34||n===39||n===40)return null;if(n===9||n===32||n===10)!s&&o.length!==0&&(s=!0);else if(n===92){var u=Ri(e,t);if(u===null||s)return null;var f=kt(u,2),h=f[0],g=f[1];o.push(g),t=h}else{if(s)return null;o.push(n)}n=e.charCodeAt(++t)}return null},eu=function(e,t){var n=Xo(e,t);if(n===null)return null;var o=kt(n,2),s=o[0],u=o[1];if(u.toLowerCase()==="url"){if(e.length>s+1){var f=e.charCodeAt(s+1);if(f===40){for(var h=2;s+h<e.length;h+=1){var g=e.charCodeAt(s+h);if(g===34||g===39)return[s+1,u.toLowerCase(),"<function-token>"];if(g!==9&&g!==32&&g!==10){var O=Lh(e,s+h);if(O===null)return null;var A=kt(O,2),N=A[0],C=A[1];return[N,C,"<url-token>"]}}return[s+1,u.toLowerCase(),"<function-token>"]}}}else if(e.length>s+1){var f=e.charCodeAt(s+1);if(f===40)return[s+1,u.toLowerCase(),"<function-token>"]}return[s,u.toLowerCase(),"<ident-token>"]},kh=function(e){for(var t=e.length-1;t>=0;t--)e[t]=Dh(e[t]);return e},Dh=function(e){if(e.mediaCondition===null)return e;var t=$h(e.mediaCondition);return t.operator===null&&t.children.length===1&&"children"in t.children[0]&&(t=t.children[0]),{mediaPrefix:e.mediaPrefix,mediaType:e.mediaType,mediaCondition:t}},$h=function i(e){for(var t=e.children.length-1;t>=0;t--){var n=e.children[t];if(!("context"in n)){var o=i(n);if(o.operator===null&&o.children.length===1)e.children[t]=o.children[0];else if(o.operator===e.operator&&(o.operator==="and"||o.operator==="or")){for(var s=[t,1],u=0;u<o.children.length;u++)s.push(o.children[u]);e.children.splice.apply(e.children,s)}}}return e},Vt=function(e,t){return t instanceof Error?new Error("".concat(t.message.trim(),`
`).concat(e.trim())):new Error(e.trim())},Kh=function(e){return kh(Wh(e))},Wh=function(e){var t=Fh(e.trim());if(t===null)throw Vt("Failed tokenizing");var n=0,o=t.length-1;if(t[0].type==="<at-keyword-token>"&&t[0].value==="media"){if(t[1].type!=="<whitespace-token>")throw Vt("Expected whitespace after media");n=2;for(var s=2;s<t.length-1;s++){var u=t[s];if(u.type==="<{-token>"){o=s;break}else if(u.type==="<semicolon-token>")throw Vt("Expected '{' in media query but found ';'")}}return t=t.slice(n,o),Hh(t)},zh=function(e){for(var t=[],n=!1,o=0;o<e.length;o++)e[o].type==="<whitespace-token>"?(n=!0,t.length>0&&(t[t.length-1].wsAfter=!0)):(t.push(Ki(Ki({},e[o]),{wsBefore:n,wsAfter:!1})),n=!1);return t},Hh=function(e){for(var t,n,o=[[]],s=0;s<e.length;s++){var u=e[s];u.type==="<comma-token>"?o.push([]):o[o.length-1].push(u)}var f=o.map(zh);if(f.length===1&&f[0].length===0)return[{mediaCondition:null,mediaPrefix:null,mediaType:"all"}];var h=f.map(function(C){return C.length===0?null:Gh(C)}),g=[];try{for(var O=Nh(h),A=O.next();!A.done;A=O.next()){var N=A.value;N!==null&&g.push(N)}}catch(C){t={error:C}}finally{try{A&&!A.done&&(n=O.return)&&n.call(O)}finally{if(t)throw t.error}}if(g.length===0)throw Vt("No valid media queries");return g},Gh=function(e){var t=e[0];if(t.type==="<(-token>")try{return{mediaPrefix:null,mediaType:"all",mediaCondition:xa(e,!0)}}catch(A){throw Vt("Expected media condition after '('",A)}else if(t.type==="<ident-token>"){var n=null,o=void 0,s=t.value;(s==="only"||s==="not")&&(n=s);var u=n===null?0:1;if(e.length<=u)throw Vt("Expected extra token in media query");var f=e[u];if(f.type==="<ident-token>"){var h=f.value;if(h==="all")o="all";else if(h==="print"||h==="screen")o=h;else if(h==="tty"||h==="tv"||h==="projection"||h==="handheld"||h==="braille"||h==="embossed"||h==="aural"||h==="speech")n=n==="not"?null:"not",o="all";else throw Vt("Unknown ident '".concat(h,"' in media query"))}else if(n==="not"&&f.type==="<(-token>"){var g=[{type:"<(-token>",wsBefore:!1,wsAfter:!1}];g.push.apply(g,e),g.push({type:"<)-token>",wsBefore:!1,wsAfter:!1});try{return{mediaPrefix:null,mediaType:"all",mediaCondition:xa(g,!0)}}catch(A){throw Vt("Expected media condition after '('",A)}}else throw Vt("Invalid media query");if(u+1===e.length)return{mediaPrefix:n,mediaType:o,mediaCondition:null};if(u+4<e.length){var O=e[u+1];if(O.type==="<ident-token>"&&O.value==="and")try{return{mediaPrefix:n,mediaType:o,mediaCondition:xa(e.slice(u+2),!1)}}catch(A){throw Vt("Expected media condition after 'and'",A)}else throw Vt("Expected 'and' after media prefix")}else throw Vt("Expected media condition after media prefix")}else throw Vt("Expected media condition or media prefix")},xa=function i(e,t,n){if(n===void 0&&(n=null),e.length<3||e[0].type!=="<(-token>"||e[e.length-1].type!=="<)-token>")throw new Error("Invalid media condition");for(var o=e.length-1,s=0,u=0,f=0;f<e.length;f++){var h=e[f];if(h.type==="<(-token>"?(u+=1,s=Math.max(s,u)):h.type==="<)-token>"&&(u-=1),u===0){o=f;break}}if(u!==0)throw new Error(`Mismatched parens
Invalid media condition`);var g,O=e.slice(0,o+1);if(s===1?g=Yh(O):O[1].type==="<ident-token>"&&O[1].value==="not"?g=i(O.slice(2,-1),!0,"not"):g=i(O.slice(1,-1),!0),o===e.length-1)return{operator:n,children:[g]};var A=e[o+1];if(A.type!=="<ident-token>")throw new Error(`Invalid operator
Invalid media condition`);if(n!==null&&n!==A.value)throw new Error("'".concat(A.value,"' and '").concat(n,`' must not be at same level
Invalid media condition`));if(A.value==="or"&&!t)throw new Error(`Cannot use 'or' at top level of a media query
Invalid media condition`);if(A.value!=="and"&&A.value!=="or")throw new Error("Invalid operator: '".concat(A.value,`'
Invalid media condition`));var N=i(e.slice(o+2),t,A.value);return{operator:A.value,children:[g].concat(N.children)}},Yh=function(e){if(e.length<3||e[0].type!=="<(-token>"||e[e.length-1].type!=="<)-token>")throw new Error("Invalid media feature");for(var t=[e[0]],n=1;n<e.length;n++){if(n<e.length-2){var o=e[n],s=e[n+1],u=e[n+2];if(o.type==="<number-token>"&&o.value>0&&s.type==="<delim-token>"&&s.value===47&&u.type==="<number-token>"&&u.value>0){t.push({type:"<ratio-token>",numerator:o.value,denominator:u.value,wsBefore:o.wsBefore,wsAfter:u.wsAfter}),n+=2;continue}}t.push(e[n])}var f=t[1];if(f.type==="<ident-token>"&&t.length===3)return{context:"boolean",feature:f.value};if(t.length===5&&t[1].type==="<ident-token>"&&t[2].type==="<colon-token>"){var h=t[3];if(h.type==="<number-token>"||h.type==="<dimension-token>"||h.type==="<ratio-token>"||h.type==="<ident-token>"){var g=t[1].value,O=null,A=g.slice(0,4);A==="min-"?(O="min",g=g.slice(4)):A==="max-"&&(O="max",g=g.slice(4)),h.wsBefore,h.wsAfter;var N=Ro(h,["wsBefore","wsAfter"]);return{context:"value",prefix:O,feature:g,value:N}}}else if(t.length>=5)try{var C=Vh(t);return{context:"range",feature:C.featureName,range:C}}catch(R){throw Vt("Invalid media feature",R)}throw new Error("Invalid media feature")},Vh=function(e){var t,n,o,s;if(e.length<5||e[0].type!=="<(-token>"||e[e.length-1].type!=="<)-token>")throw new Error("Invalid range");var u={leftToken:null,leftOp:null,featureName:"",rightOp:null,rightToken:null},f=e[1].type==="<number-token>"||e[1].type==="<dimension-token>"||e[1].type==="<ratio-token>"||e[1].type==="<ident-token>"&&e[1].value==="infinite";if(e[2].type==="<delim-token>"){if(e[2].value===60)e[3].type==="<delim-token>"&&e[3].value===61&&!e[3].wsBefore?u[f?"leftOp":"rightOp"]="<=":u[f?"leftOp":"rightOp"]="<";else if(e[2].value===62)e[3].type==="<delim-token>"&&e[3].value===61&&!e[3].wsBefore?u[f?"leftOp":"rightOp"]=">=":u[f?"leftOp":"rightOp"]=">";else if(e[2].value===61)u[f?"leftOp":"rightOp"]="=";else throw new Error("Invalid range");if(f)u.leftToken=e[1];else if(e[1].type==="<ident-token>")u.featureName=e[1].value;else throw new Error("Invalid range");var h=2+((n=(t=u[f?"leftOp":"rightOp"])===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0),g=e[h];if(f)if(g.type==="<ident-token>"){if(u.featureName=g.value,e.length>=7){var O=e[h+1],A=e[h+2];if(O.type==="<delim-token>"){var N=O.value;if(N===60)A.type==="<delim-token>"&&A.value===61&&!A.wsBefore?u.rightOp="<=":u.rightOp="<";else if(N===62)A.type==="<delim-token>"&&A.value===61&&!A.wsBefore?u.rightOp=">=":u.rightOp=">";else throw new Error("Invalid range");var C=e[h+1+((s=(o=u.rightOp)===null||o===void 0?void 0:o.length)!==null&&s!==void 0?s:0)];u.rightToken=C}else throw new Error("Invalid range")}else if(h+2!==e.length)throw new Error("Invalid range")}else throw new Error("Invalid range");else u.rightToken=g;var R=null,k=u.leftToken,_=u.leftOp,m=u.featureName,E=u.rightOp,B=u.rightToken,M=null;if(k!==null){if(k.type==="<ident-token>"){var S=k.type,j=k.value;j==="infinite"&&(M={type:S,value:j})}else if(k.type==="<number-token>"||k.type==="<dimension-token>"||k.type==="<ratio-token>"){k.wsBefore,k.wsAfter;var U=Ro(k,["wsBefore","wsAfter"]);M=U}}var re=null;if(B!==null){if(B.type==="<ident-token>"){var S=B.type,j=B.value;j==="infinite"&&(re={type:S,value:j})}else if(B.type==="<number-token>"||B.type==="<dimension-token>"||B.type==="<ratio-token>"){B.wsBefore,B.wsAfter;var me=Ro(B,["wsBefore","wsAfter"]);re=me}}if(M!==null&&re!==null)if((_==="<"||_==="<=")&&(E==="<"||E==="<="))R={leftToken:M,leftOp:_,featureName:m,rightOp:E,rightToken:re};else if((_===">"||_===">=")&&(E===">"||E===">="))R={leftToken:M,leftOp:_,featureName:m,rightOp:E,rightToken:re};else throw new Error("Invalid range");else M===null&&_===null&&E!==null&&re!==null?R={leftToken:M,leftOp:_,featureName:m,rightOp:E,rightToken:re}:M!==null&&_!==null&&E===null&&re===null&&(R={leftToken:M,leftOp:_,featureName:m,rightOp:E,rightToken:re});return R}else throw new Error("Invalid range")};function Jh(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Xh(i){var e=Jh(i,"string");return typeof e=="symbol"?e:String(e)}function Zh(i,e,t){return e=Xh(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function tu(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,n)}return t}function tn(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tu(Object(t),!0).forEach(function(n){Zh(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):tu(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function Qh(i,e){if(i==null)return{};var t={},n=Object.keys(i),o,s;for(s=0;s<n.length;s++)o=n[s],!(e.indexOf(o)>=0)&&(t[o]=i[o]);return t}function ru(i,e){if(i==null)return{};var t=Qh(i,e),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);for(o=0;o<s.length;o++)n=s[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(t[n]=i[n])}return t}function di(i,e){for(var t in i)e(i[t],t)}function on(i,e){var t={};for(var n in i)e.indexOf(n)===-1&&(t[n]=i[n]);return t}function ed(i,e){var t={};for(var n in i)t[e(i[n],n)]=i[n];return t}function To(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];for(var o of t)o.length!==0&&(typeof o=="string"?o.includes(" ")?To(i,...o.trim().split(" ")):i.add(o):Array.isArray(o)&&To(i,...o))}function td(i){var e=new Set;return To(e,...i),Array.from(e).join(" ")}var nu;function rd(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var nd=(i,e)=>{var t=()=>{var o=new RegExp(".".concat(rd(rl(e,{isIdentifier:!0}))),"g");return i.replace(o,"&")},n;try{n=Ih(i)}catch{throw new Error("Invalid selector: ".concat(t()))}n.forEach(o=>{try{for(var s=o.length-1;s>=-1;s--){if(!o[s])throw new Error;var u=o[s];if(u.type==="child"||u.type==="parent"||u.type==="sibling"||u.type==="adjacent"||u.type==="descendant")throw new Error;if(u.type==="attribute"&&u.name==="class"&&u.value===e)return}}catch{throw new Error(Vo(nu||(nu=Yo([`
        Invalid selector: `,`
    
        Style selectors must target the '&' character (along with any modifiers), e.g. `," or ",`.
        
        This is to ensure that each style block only affects the styling of a single class.
        
        If your selector is targeting another class, you should move it to the style definition for that class, e.g. given we have styles for 'parent' and 'child' elements, instead of adding a selector of `,") to 'parent', you should add ",` to 'child').
        
        If your selector is targeting something global, use the 'globalStyle' function instead, e.g. if you wanted to write `,", you should instead write 'globalStyle(",`, { ... })'
      `])),t(),"`${parent} &`","`${parent} &:hover`","`& ${child}`","`${parent} &`","`& h1`","`${parent} h1`"))}})};class Wi{constructor(){this.ruleset=new Map,this.precedenceLookup=new Map}findOrCreateCondition(e){var t=this.ruleset.get(e);return t||(t={query:e,rules:[],children:new Wi},this.ruleset.set(e,t)),t}getConditionalRulesetByPath(e){var t=this;for(var n of e){var o=t.findOrCreateCondition(n);t=o.children}return t}addRule(e,t,n){var o=this.getConditionalRulesetByPath(n),s=o.findOrCreateCondition(t);if(!s)throw new Error("Failed to add conditional rule");s.rules.push(e)}addConditionPrecedence(e,t){for(var n=this.getConditionalRulesetByPath(e),o=0;o<t.length;o++){var s,u=t[o],f=(s=n.precedenceLookup.get(u))!==null&&s!==void 0?s:new Set;for(var h of t.slice(o+1))f.add(h);n.precedenceLookup.set(u,f)}}isCompatible(e){for(var[t,n]of this.precedenceLookup.entries())for(var o of n){var s;if((s=e.precedenceLookup.get(o))!==null&&s!==void 0&&s.has(t))return!1}for(var{query:u,children:f}of e.ruleset.values()){var h=this.ruleset.get(u);if(h&&!h.children.isCompatible(f))return!1}return!0}merge(e){for(var{query:t,rules:n,children:o}of e.ruleset.values()){var s=this.ruleset.get(t);s?(s.rules.push(...n),s.children.merge(o)):this.ruleset.set(t,{query:t,rules:n,children:o})}for(var[u,f]of e.precedenceLookup.entries()){var h,g=(h=this.precedenceLookup.get(u))!==null&&h!==void 0?h:new Set;this.precedenceLookup.set(u,new Set([...g,...f]))}}mergeIfCompatible(e){return this.isCompatible(e)?(this.merge(e),!0):!1}getSortedRuleset(){var e=this,t=[],n=function(f){var h=e.ruleset.get(o);if(!h)throw new Error("Can't find condition for ".concat(o));var g=t.findIndex(O=>f.has(O.query));g>-1?t.splice(g,0,h):t.push(h)};for(var[o,s]of this.precedenceLookup.entries())n(s);return t}renderToArray(){var e=[];for(var{query:t,rules:n,children:o}of this.getSortedRuleset()){var s={};for(var u of n)s[u.selector]=tn(tn({},s[u.selector]),u.rule);Object.assign(s,...o.renderToArray()),e.push({[t]:s})}return e}}var al={":-moz-any-link":!0,":-moz-full-screen":!0,":-moz-placeholder":!0,":-moz-read-only":!0,":-moz-read-write":!0,":-ms-fullscreen":!0,":-ms-input-placeholder":!0,":-webkit-any-link":!0,":-webkit-full-screen":!0,"::-moz-color-swatch":!0,"::-moz-list-bullet":!0,"::-moz-list-number":!0,"::-moz-page-sequence":!0,"::-moz-page":!0,"::-moz-placeholder":!0,"::-moz-progress-bar":!0,"::-moz-range-progress":!0,"::-moz-range-thumb":!0,"::-moz-range-track":!0,"::-moz-scrolled-page-sequence":!0,"::-moz-selection":!0,"::-ms-backdrop":!0,"::-ms-browse":!0,"::-ms-check":!0,"::-ms-clear":!0,"::-ms-fill-lower":!0,"::-ms-fill-upper":!0,"::-ms-fill":!0,"::-ms-reveal":!0,"::-ms-thumb":!0,"::-ms-ticks-after":!0,"::-ms-ticks-before":!0,"::-ms-tooltip":!0,"::-ms-track":!0,"::-ms-value":!0,"::-webkit-backdrop":!0,"::-webkit-calendar-picker-indicator":!0,"::-webkit-inner-spin-button":!0,"::-webkit-input-placeholder":!0,"::-webkit-meter-bar":!0,"::-webkit-meter-even-less-good-value":!0,"::-webkit-meter-inner-element":!0,"::-webkit-meter-optimum-value":!0,"::-webkit-meter-suboptimum-value":!0,"::-webkit-outer-spin-button":!0,"::-webkit-progress-bar":!0,"::-webkit-progress-inner-element":!0,"::-webkit-progress-inner-value":!0,"::-webkit-progress-value":!0,"::-webkit-resizer":!0,"::-webkit-scrollbar-button":!0,"::-webkit-scrollbar-corner":!0,"::-webkit-scrollbar-thumb":!0,"::-webkit-scrollbar-track-piece":!0,"::-webkit-scrollbar-track":!0,"::-webkit-scrollbar":!0,"::-webkit-search-cancel-button":!0,"::-webkit-search-results-button":!0,"::-webkit-slider-runnable-track":!0,"::-webkit-slider-thumb":!0,"::after":!0,"::backdrop":!0,"::before":!0,"::cue":!0,"::file-selector-button":!0,"::first-letter":!0,"::first-line":!0,"::grammar-error":!0,"::marker":!0,"::placeholder":!0,"::selection":!0,"::spelling-error":!0,"::target-text":!0,"::view-transition-group":!0,"::view-transition-image-pair":!0,"::view-transition-new":!0,"::view-transition-old":!0,"::view-transition":!0,":active":!0,":after":!0,":any-link":!0,":before":!0,":blank":!0,":checked":!0,":default":!0,":defined":!0,":disabled":!0,":empty":!0,":enabled":!0,":first-child":!0,":first-letter":!0,":first-line":!0,":first-of-type":!0,":first":!0,":focus-visible":!0,":focus-within":!0,":focus":!0,":fullscreen":!0,":hover":!0,":in-range":!0,":indeterminate":!0,":invalid":!0,":last-child":!0,":last-of-type":!0,":left":!0,":link":!0,":only-child":!0,":only-of-type":!0,":optional":!0,":out-of-range":!0,":placeholder-shown":!0,":read-only":!0,":read-write":!0,":required":!0,":right":!0,":root":!0,":scope":!0,":target":!0,":valid":!0,":visited":!0},id=Object.keys(al),ad=al,iu,au=(i,e)=>new Error(Vo(iu||(iu=Yo([`
    Invalid media query: "`,`"

    `,`

    Read more on MDN: https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries
  `])),i,e)),od=i=>{if(i==="@media ")throw au(i,"Query is empty");try{Kh(i)}catch(e){throw au(i,e.message)}},sd=["vars"],fd=["content"],ol="__DECLARATION",ud={animationIterationCount:!0,borderImage:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,initialLetter:!0,lineClamp:!0,lineHeight:!0,maxLines:!0,opacity:!0,order:!0,orphans:!0,scale:!0,tabSize:!0,WebkitLineClamp:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,maskBorder:!0,maskBorderOutset:!0,maskBorderSlice:!0,maskBorderWidth:!0,shapeImageThreshold:!0,stopOpacity:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function cd(i){return i.replace(/([A-Z])/g,"-$1").replace(/^ms-/,"-ms-").toLowerCase()}function ld(i,e,t,n){var o=i.slice(0,e),s=i.slice(t);return"".concat(o).concat(n).concat(s)}var hd="  ",sn=[...id,"@layer","@media","@supports","@container","selectors"];class dd{constructor(e,t){this.rules=[],this.conditionalRulesets=[new Wi],this.fontFaceRules=[],this.keyframesRules=[],this.propertyRules=[],this.localClassNamesMap=new Map(e.map(n=>[n,n])),this.localClassNamesSearch=new Sh(e),this.layers=new Map,this.composedClassLists=t.map(n=>{var{identifier:o,classList:s}=n;return{identifier:o,regex:RegExp("(".concat(s,")"),"g")}}).reverse()}processCssObj(e){if(e.type==="fontFace"){this.fontFaceRules.push(e.rule);return}if(e.type==="property"){this.propertyRules.push(e);return}if(e.type==="keyframes"){e.rule=Object.fromEntries(Object.entries(e.rule).map(s=>{var[u,f]=s;return[u,this.transformVars(this.transformProperties(f))]})),this.keyframesRules.push(e);return}if(this.currConditionalRuleset=new Wi,e.type==="layer"){var t="@layer ".concat(e.name);this.addLayer([t])}else{var n=on(e.rule,sn);this.addRule({selector:e.selector,rule:n}),this.transformLayer(e,e.rule["@layer"]),this.transformMedia(e,e.rule["@media"]),this.transformSupports(e,e.rule["@supports"]),this.transformContainer(e,e.rule["@container"]),this.transformSimplePseudos(e,e.rule),this.transformSelectors(e,e.rule)}var o=this.conditionalRulesets[this.conditionalRulesets.length-1];o.mergeIfCompatible(this.currConditionalRuleset)||this.conditionalRulesets.push(this.currConditionalRuleset)}addConditionalRule(e,t){var n=this.transformVars(this.transformProperties(e.rule)),o=this.transformSelector(e.selector);if(!this.currConditionalRuleset)throw new Error("Couldn't add conditional rule");var s=t[t.length-1],u=t.slice(0,t.length-1);this.currConditionalRuleset.addRule({selector:o,rule:n},s,u)}addRule(e){var t=this.transformVars(this.transformProperties(e.rule)),n=this.transformSelector(e.selector);this.rules.push({selector:n,rule:t})}addLayer(e){var t=e.join(" - ");this.layers.set(t,e)}transformProperties(e){return this.transformContent(this.pixelifyProperties(e))}pixelifyProperties(e){return di(e,(t,n)=>{typeof t=="number"&&t!==0&&!ud[n]&&(e[n]="".concat(t,"px"))}),e}transformVars(e){var{vars:t}=e,n=ru(e,sd);return t?tn(tn({},ed(t,(o,s)=>bh(s))),n):n}transformContent(e){var{content:t}=e,n=ru(e,fd);if(typeof t>"u")return n;var o=Array.isArray(t)?t:[t];return tn({content:o.map(s=>s&&(s.includes('"')||s.includes("'")||/^([A-Za-z\-]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)(\s|$)/.test(s))?s:'"'.concat(s,'"'))},n)}transformClassname(e){return".".concat(rl(e,{isIdentifier:!0}))}transformSelector(e){var t=e,n=function(R){t=t.replace(s,()=>(tl(R),R))};for(var{identifier:o,regex:s}of this.composedClassLists)n(o);if(this.localClassNamesMap.has(t))return this.transformClassname(t);for(var u=this.localClassNamesSearch.search(t),f=t.length,h=u.length-1;h>=0;h--){var[g,[O]]=u[h],A=g-O.length+1,N=f<=g;N||(f=A,t[A-1]!=="."&&(t=ld(t,A,g+1,this.transformClassname(O))))}return t}transformSelectors(e,t,n){di(t.selectors,(o,s)=>{if(e.type!=="local")throw new Error("Selectors are not allowed within ".concat(e.type==="global"?'"globalStyle"':'"selectors"'));var u=this.transformSelector(s.replace(RegExp("&","g"),e.selector));nd(u,e.selector);var f={selector:u,rule:on(o,sn)};n?this.addConditionalRule(f,n):this.addRule(f);var h={type:"selector",selector:u,rule:o};this.transformLayer(h,o["@layer"],n),this.transformSupports(h,o["@supports"],n),this.transformMedia(h,o["@media"],n),this.transformContainer(h,o["@container"],n)})}transformMedia(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t){var o;(o=this.currConditionalRuleset)===null||o===void 0||o.addConditionPrecedence(n,Object.keys(t).map(g=>"@media ".concat(g)));for(var[s,u]of Object.entries(t)){var f="@media ".concat(s);od(f);var h=[...n,f];this.addConditionalRule({selector:e.selector,rule:on(u,sn)},h),e.type==="local"&&(this.transformSimplePseudos(e,u,h),this.transformSelectors(e,u,h)),this.transformLayer(e,u["@layer"],h),this.transformSupports(e,u["@supports"],h),this.transformContainer(e,u["@container"],h)}}}transformContainer(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t){var o;(o=this.currConditionalRuleset)===null||o===void 0||o.addConditionPrecedence(n,Object.keys(t).map(s=>"@container ".concat(s))),di(t,(s,u)=>{var f="@container ".concat(u),h=[...n,f];this.addConditionalRule({selector:e.selector,rule:on(s,sn)},h),e.type==="local"&&(this.transformSimplePseudos(e,s,h),this.transformSelectors(e,s,h)),this.transformLayer(e,s["@layer"],h),this.transformSupports(e,s["@supports"],h),this.transformMedia(e,s["@media"],h)})}}transformLayer(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t){var o;(o=this.currConditionalRuleset)===null||o===void 0||o.addConditionPrecedence(n,Object.keys(t).map(s=>"@layer ".concat(s))),di(t,(s,u)=>{var f=[...n,"@layer ".concat(u)];this.addLayer(f),this.addConditionalRule({selector:e.selector,rule:on(s,sn)},f),e.type==="local"&&(this.transformSimplePseudos(e,s,f),this.transformSelectors(e,s,f)),this.transformMedia(e,s["@media"],f),this.transformSupports(e,s["@supports"],f),this.transformContainer(e,s["@container"],f)})}}transformSupports(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t){var o;(o=this.currConditionalRuleset)===null||o===void 0||o.addConditionPrecedence(n,Object.keys(t).map(s=>"@supports ".concat(s))),di(t,(s,u)=>{var f=[...n,"@supports ".concat(u)];this.addConditionalRule({selector:e.selector,rule:on(s,sn)},f),e.type==="local"&&(this.transformSimplePseudos(e,s,f),this.transformSelectors(e,s,f)),this.transformLayer(e,s["@layer"],f),this.transformMedia(e,s["@media"],f),this.transformContainer(e,s["@container"],f)})}}transformSimplePseudos(e,t,n){for(var o of Object.keys(t))if(ad[o]){if(e.type!=="local")throw new Error("Simple pseudos are not valid in ".concat(e.type==="global"?'"globalStyle"':'"selectors"'));n?this.addConditionalRule({selector:"".concat(e.selector).concat(o),rule:t[o]},n):this.addRule({conditions:n,selector:"".concat(e.selector).concat(o),rule:t[o]})}}toCss(){var e=[];for(var t of this.fontFaceRules)e.push(Sr({"@font-face":t}));for(var n of this.propertyRules)e.push(Sr({["@property ".concat(n.name)]:n.rule}));for(var o of this.keyframesRules)e.push(Sr({["@keyframes ".concat(o.name)]:o.rule}));for(var s of this.layers.values()){var[u,...f]=s.reverse(),h={[u]:ol};for(var g of f)h={[g]:h};e.push(Sr(h))}for(var O of this.rules)e.push(Sr({[O.selector]:O.rule}));for(var A of this.conditionalRulesets)for(var N of A.renderToArray())e.push(Sr(N));return e.filter(Boolean)}}function Sr(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=[],n=function(u){var f=i[u];if(f&&Array.isArray(f))t.push(...f.map(g=>Sr({[u]:g},e)));else if(f&&typeof f=="object"){var h=Object.keys(f).length===0;h||t.push("".concat(e).concat(u,` {
`).concat(Sr(f,e+hd),`
`).concat(e,"}"))}else f===ol?t.push("".concat(e).concat(u,";")):t.push("".concat(e).concat(u.startsWith("--")?u:cd(u),": ").concat(f,";"))};for(var o of Object.keys(i))n(o);return t.join(`
`)}function pd(i){var{localClassNames:e,cssObjs:t,composedClassLists:n}=i,o=new dd(e,n);for(var s of t)o.processCssObj(s);return o.toCss()}function yd(i){for(var e=0,t,n=0,o=i.length;o>=4;++n,o-=4)t=i.charCodeAt(n)&255|(i.charCodeAt(++n)&255)<<8|(i.charCodeAt(++n)&255)<<16|(i.charCodeAt(++n)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(i.charCodeAt(n+2)&255)<<16;case 2:e^=(i.charCodeAt(n+1)&255)<<8;case 1:e^=i.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}const fn=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,sl=new Set,Io=typeof process=="object"&&process?process:{},fl=(i,e,t,n)=>{typeof Io.emitWarning=="function"?Io.emitWarning(i,e,t,n):console.error(`[${t}] ${e}: ${i}`)};let zi=globalThis.AbortController,ou=globalThis.AbortSignal;var Ec;if(typeof zi>"u"){ou=class{constructor(){Ut(this,"onabort");Ut(this,"_onabort",[]);Ut(this,"reason");Ut(this,"aborted",!1)}addEventListener(n,o){this._onabort.push(o)}},zi=class{constructor(){Ut(this,"signal",new ou);e()}abort(n){var o,s;if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(const u of this.signal._onabort)u(n);(s=(o=this.signal).onabort)==null||s.call(o,n)}}};let i=((Ec=Io.env)==null?void 0:Ec.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const e=()=>{i&&(i=!1,fl("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const gd=i=>!sl.has(i),wr=i=>i&&i===Math.floor(i)&&i>0&&isFinite(i),ul=i=>wr(i)?i<=Math.pow(2,8)?Uint8Array:i<=Math.pow(2,16)?Uint16Array:i<=Math.pow(2,32)?Uint32Array:i<=Number.MAX_SAFE_INTEGER?Li:null:null;class Li extends Array{constructor(e){super(e),this.fill(0)}}var ln;const Zr=class Zr{constructor(e,t){Ut(this,"heap");Ut(this,"length");if(!H(Zr,ln))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}static create(e){const t=ul(e);if(!t)return[];yt(Zr,ln,!0);const n=new Zr(e,t);return yt(Zr,ln,!1),n}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}};ln=new WeakMap,Tt(Zr,ln,!1);let No=Zr;var Sc,Ac,or,Jt,sr,fr,hn,dn,Lt,ur,Mt,Bt,wt,Ht,Xt,Wt,Dt,cr,$t,lr,hr,Zt,dr,Ar,Gt,tt,qo,Qr,mr,bi,Qt,cl,en,pn,_i,br,_r,Uo,ki,Di,Nt,Fo,gi,Er,Mo;const ns=class ns{constructor(e){Tt(this,tt);Tt(this,or);Tt(this,Jt);Tt(this,sr);Tt(this,fr);Tt(this,hn);Tt(this,dn);Ut(this,"ttl");Ut(this,"ttlResolution");Ut(this,"ttlAutopurge");Ut(this,"updateAgeOnGet");Ut(this,"updateAgeOnHas");Ut(this,"allowStale");Ut(this,"noDisposeOnSet");Ut(this,"noUpdateTTL");Ut(this,"maxEntrySize");Ut(this,"sizeCalculation");Ut(this,"noDeleteOnFetchRejection");Ut(this,"noDeleteOnStaleGet");Ut(this,"allowStaleOnFetchAbort");Ut(this,"allowStaleOnFetchRejection");Ut(this,"ignoreFetchAbort");Tt(this,Lt);Tt(this,ur);Tt(this,Mt);Tt(this,Bt);Tt(this,wt);Tt(this,Ht);Tt(this,Xt);Tt(this,Wt);Tt(this,Dt);Tt(this,cr);Tt(this,$t);Tt(this,lr);Tt(this,hr);Tt(this,Zt);Tt(this,dr);Tt(this,Ar);Tt(this,Gt);Tt(this,Qr,()=>{});Tt(this,mr,()=>{});Tt(this,bi,()=>{});Tt(this,Qt,()=>!1);Tt(this,en,e=>{});Tt(this,pn,(e,t,n)=>{});Tt(this,_i,(e,t,n,o)=>{if(n||o)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});Ut(this,Sc,"LRUCache");const{max:t=0,ttl:n,ttlResolution:o=1,ttlAutopurge:s,updateAgeOnGet:u,updateAgeOnHas:f,allowStale:h,dispose:g,disposeAfter:O,noDisposeOnSet:A,noUpdateTTL:N,maxSize:C=0,maxEntrySize:R=0,sizeCalculation:k,fetchMethod:_,memoMethod:m,noDeleteOnFetchRejection:E,noDeleteOnStaleGet:B,allowStaleOnFetchRejection:M,allowStaleOnFetchAbort:S,ignoreFetchAbort:j}=e;if(t!==0&&!wr(t))throw new TypeError("max option must be a nonnegative integer");const U=t?ul(t):Array;if(!U)throw new Error("invalid max value: "+t);if(yt(this,or,t),yt(this,Jt,C),this.maxEntrySize=R||H(this,Jt),this.sizeCalculation=k,this.sizeCalculation){if(!H(this,Jt)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(m!==void 0&&typeof m!="function")throw new TypeError("memoMethod must be a function if defined");if(yt(this,dn,m),_!==void 0&&typeof _!="function")throw new TypeError("fetchMethod must be a function if specified");if(yt(this,hn,_),yt(this,Ar,!!_),yt(this,Mt,new Map),yt(this,Bt,new Array(t).fill(void 0)),yt(this,wt,new Array(t).fill(void 0)),yt(this,Ht,new U(t)),yt(this,Xt,new U(t)),yt(this,Wt,0),yt(this,Dt,0),yt(this,cr,No.create(t)),yt(this,Lt,0),yt(this,ur,0),typeof g=="function"&&yt(this,sr,g),typeof O=="function"?(yt(this,fr,O),yt(this,$t,[])):(yt(this,fr,void 0),yt(this,$t,void 0)),yt(this,dr,!!H(this,sr)),yt(this,Gt,!!H(this,fr)),this.noDisposeOnSet=!!A,this.noUpdateTTL=!!N,this.noDeleteOnFetchRejection=!!E,this.allowStaleOnFetchRejection=!!M,this.allowStaleOnFetchAbort=!!S,this.ignoreFetchAbort=!!j,this.maxEntrySize!==0){if(H(this,Jt)!==0&&!wr(H(this,Jt)))throw new TypeError("maxSize must be a positive integer if specified");if(!wr(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");ct(this,tt,cl).call(this)}if(this.allowStale=!!h,this.noDeleteOnStaleGet=!!B,this.updateAgeOnGet=!!u,this.updateAgeOnHas=!!f,this.ttlResolution=wr(o)||o===0?o:1,this.ttlAutopurge=!!s,this.ttl=n||0,this.ttl){if(!wr(this.ttl))throw new TypeError("ttl must be a positive integer if specified");ct(this,tt,qo).call(this)}if(H(this,or)===0&&this.ttl===0&&H(this,Jt)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!H(this,or)&&!H(this,Jt)){const re="LRU_CACHE_UNBOUNDED";gd(re)&&(sl.add(re),fl("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",re,ns))}}static unsafeExposeInternals(e){return{starts:H(e,hr),ttls:H(e,Zt),sizes:H(e,lr),keyMap:H(e,Mt),keyList:H(e,Bt),valList:H(e,wt),next:H(e,Ht),prev:H(e,Xt),get head(){return H(e,Wt)},get tail(){return H(e,Dt)},free:H(e,cr),isBackgroundFetch:t=>{var n;return ct(n=e,tt,Nt).call(n,t)},backgroundFetch:(t,n,o,s)=>{var u;return ct(u=e,tt,Di).call(u,t,n,o,s)},moveToTail:t=>{var n;return ct(n=e,tt,gi).call(n,t)},indexes:t=>{var n;return ct(n=e,tt,br).call(n,t)},rindexes:t=>{var n;return ct(n=e,tt,_r).call(n,t)},isStale:t=>{var n;return H(n=e,Qt).call(n,t)}}}get max(){return H(this,or)}get maxSize(){return H(this,Jt)}get calculatedSize(){return H(this,ur)}get size(){return H(this,Lt)}get fetchMethod(){return H(this,hn)}get memoMethod(){return H(this,dn)}get dispose(){return H(this,sr)}get disposeAfter(){return H(this,fr)}getRemainingTTL(e){return H(this,Mt).has(e)?1/0:0}*entries(){for(const e of ct(this,tt,br).call(this))H(this,wt)[e]!==void 0&&H(this,Bt)[e]!==void 0&&!ct(this,tt,Nt).call(this,H(this,wt)[e])&&(yield[H(this,Bt)[e],H(this,wt)[e]])}*rentries(){for(const e of ct(this,tt,_r).call(this))H(this,wt)[e]!==void 0&&H(this,Bt)[e]!==void 0&&!ct(this,tt,Nt).call(this,H(this,wt)[e])&&(yield[H(this,Bt)[e],H(this,wt)[e]])}*keys(){for(const e of ct(this,tt,br).call(this)){const t=H(this,Bt)[e];t!==void 0&&!ct(this,tt,Nt).call(this,H(this,wt)[e])&&(yield t)}}*rkeys(){for(const e of ct(this,tt,_r).call(this)){const t=H(this,Bt)[e];t!==void 0&&!ct(this,tt,Nt).call(this,H(this,wt)[e])&&(yield t)}}*values(){for(const e of ct(this,tt,br).call(this))H(this,wt)[e]!==void 0&&!ct(this,tt,Nt).call(this,H(this,wt)[e])&&(yield H(this,wt)[e])}*rvalues(){for(const e of ct(this,tt,_r).call(this))H(this,wt)[e]!==void 0&&!ct(this,tt,Nt).call(this,H(this,wt)[e])&&(yield H(this,wt)[e])}[(Ac=Symbol.iterator,Sc=Symbol.toStringTag,Ac)](){return this.entries()}find(e,t={}){for(const n of ct(this,tt,br).call(this)){const o=H(this,wt)[n],s=ct(this,tt,Nt).call(this,o)?o.__staleWhileFetching:o;if(s!==void 0&&e(s,H(this,Bt)[n],this))return this.get(H(this,Bt)[n],t)}}forEach(e,t=this){for(const n of ct(this,tt,br).call(this)){const o=H(this,wt)[n],s=ct(this,tt,Nt).call(this,o)?o.__staleWhileFetching:o;s!==void 0&&e.call(t,s,H(this,Bt)[n],this)}}rforEach(e,t=this){for(const n of ct(this,tt,_r).call(this)){const o=H(this,wt)[n],s=ct(this,tt,Nt).call(this,o)?o.__staleWhileFetching:o;s!==void 0&&e.call(t,s,H(this,Bt)[n],this)}}purgeStale(){let e=!1;for(const t of ct(this,tt,_r).call(this,{allowStale:!0}))H(this,Qt).call(this,t)&&(ct(this,tt,Er).call(this,H(this,Bt)[t],"expire"),e=!0);return e}info(e){const t=H(this,Mt).get(e);if(t===void 0)return;const n=H(this,wt)[t],o=ct(this,tt,Nt).call(this,n)?n.__staleWhileFetching:n;if(o===void 0)return;const s={value:o};if(H(this,Zt)&&H(this,hr)){const u=H(this,Zt)[t],f=H(this,hr)[t];if(u&&f){const h=u-(fn.now()-f);s.ttl=h,s.start=Date.now()}}return H(this,lr)&&(s.size=H(this,lr)[t]),s}dump(){const e=[];for(const t of ct(this,tt,br).call(this,{allowStale:!0})){const n=H(this,Bt)[t],o=H(this,wt)[t],s=ct(this,tt,Nt).call(this,o)?o.__staleWhileFetching:o;if(s===void 0||n===void 0)continue;const u={value:s};if(H(this,Zt)&&H(this,hr)){u.ttl=H(this,Zt)[t];const f=fn.now()-H(this,hr)[t];u.start=Math.floor(Date.now()-f)}H(this,lr)&&(u.size=H(this,lr)[t]),e.unshift([n,u])}return e}load(e){this.clear();for(const[t,n]of e){if(n.start){const o=Date.now()-n.start;n.start=fn.now()-o}this.set(t,n.value,n)}}set(e,t,n={}){var N,C,R,k,_;if(t===void 0)return this.delete(e),this;const{ttl:o=this.ttl,start:s,noDisposeOnSet:u=this.noDisposeOnSet,sizeCalculation:f=this.sizeCalculation,status:h}=n;let{noUpdateTTL:g=this.noUpdateTTL}=n;const O=H(this,_i).call(this,e,t,n.size||0,f);if(this.maxEntrySize&&O>this.maxEntrySize)return h&&(h.set="miss",h.maxEntrySizeExceeded=!0),ct(this,tt,Er).call(this,e,"set"),this;let A=H(this,Lt)===0?void 0:H(this,Mt).get(e);if(A===void 0)A=H(this,Lt)===0?H(this,Dt):H(this,cr).length!==0?H(this,cr).pop():H(this,Lt)===H(this,or)?ct(this,tt,ki).call(this,!1):H(this,Lt),H(this,Bt)[A]=e,H(this,wt)[A]=t,H(this,Mt).set(e,A),H(this,Ht)[H(this,Dt)]=A,H(this,Xt)[A]=H(this,Dt),yt(this,Dt,A),Ti(this,Lt)._++,H(this,pn).call(this,A,O,h),h&&(h.set="add"),g=!1;else{ct(this,tt,gi).call(this,A);const m=H(this,wt)[A];if(t!==m){if(H(this,Ar)&&ct(this,tt,Nt).call(this,m)){m.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:E}=m;E!==void 0&&!u&&(H(this,dr)&&((N=H(this,sr))==null||N.call(this,E,e,"set")),H(this,Gt)&&((C=H(this,$t))==null||C.push([E,e,"set"])))}else u||(H(this,dr)&&((R=H(this,sr))==null||R.call(this,m,e,"set")),H(this,Gt)&&((k=H(this,$t))==null||k.push([m,e,"set"])));if(H(this,en).call(this,A),H(this,pn).call(this,A,O,h),H(this,wt)[A]=t,h){h.set="replace";const E=m&&ct(this,tt,Nt).call(this,m)?m.__staleWhileFetching:m;E!==void 0&&(h.oldValue=E)}}else h&&(h.set="update")}if(o!==0&&!H(this,Zt)&&ct(this,tt,qo).call(this),H(this,Zt)&&(g||H(this,bi).call(this,A,o,s),h&&H(this,mr).call(this,h,A)),!u&&H(this,Gt)&&H(this,$t)){const m=H(this,$t);let E;for(;E=m==null?void 0:m.shift();)(_=H(this,fr))==null||_.call(this,...E)}return this}pop(){var e;try{for(;H(this,Lt);){const t=H(this,wt)[H(this,Wt)];if(ct(this,tt,ki).call(this,!0),ct(this,tt,Nt).call(this,t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(H(this,Gt)&&H(this,$t)){const t=H(this,$t);let n;for(;n=t==null?void 0:t.shift();)(e=H(this,fr))==null||e.call(this,...n)}}}has(e,t={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:o}=t,s=H(this,Mt).get(e);if(s!==void 0){const u=H(this,wt)[s];if(ct(this,tt,Nt).call(this,u)&&u.__staleWhileFetching===void 0)return!1;if(H(this,Qt).call(this,s))o&&(o.has="stale",H(this,mr).call(this,o,s));else return n&&H(this,Qr).call(this,s),o&&(o.has="hit",H(this,mr).call(this,o,s)),!0}else o&&(o.has="miss");return!1}peek(e,t={}){const{allowStale:n=this.allowStale}=t,o=H(this,Mt).get(e);if(o===void 0||!n&&H(this,Qt).call(this,o))return;const s=H(this,wt)[o];return ct(this,tt,Nt).call(this,s)?s.__staleWhileFetching:s}async fetch(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:o=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:u=this.ttl,noDisposeOnSet:f=this.noDisposeOnSet,size:h=0,sizeCalculation:g=this.sizeCalculation,noUpdateTTL:O=this.noUpdateTTL,noDeleteOnFetchRejection:A=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:N=this.allowStaleOnFetchRejection,ignoreFetchAbort:C=this.ignoreFetchAbort,allowStaleOnFetchAbort:R=this.allowStaleOnFetchAbort,context:k,forceRefresh:_=!1,status:m,signal:E}=t;if(!H(this,Ar))return m&&(m.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:o,noDeleteOnStaleGet:s,status:m});const B={allowStale:n,updateAgeOnGet:o,noDeleteOnStaleGet:s,ttl:u,noDisposeOnSet:f,size:h,sizeCalculation:g,noUpdateTTL:O,noDeleteOnFetchRejection:A,allowStaleOnFetchRejection:N,allowStaleOnFetchAbort:R,ignoreFetchAbort:C,status:m,signal:E};let M=H(this,Mt).get(e);if(M===void 0){m&&(m.fetch="miss");const S=ct(this,tt,Di).call(this,e,M,B,k);return S.__returned=S}else{const S=H(this,wt)[M];if(ct(this,tt,Nt).call(this,S)){const ne=n&&S.__staleWhileFetching!==void 0;return m&&(m.fetch="inflight",ne&&(m.returnedStale=!0)),ne?S.__staleWhileFetching:S.__returned=S}const j=H(this,Qt).call(this,M);if(!_&&!j)return m&&(m.fetch="hit"),ct(this,tt,gi).call(this,M),o&&H(this,Qr).call(this,M),m&&H(this,mr).call(this,m,M),S;const U=ct(this,tt,Di).call(this,e,M,B,k),me=U.__staleWhileFetching!==void 0&&n;return m&&(m.fetch=j?"stale":"refresh",me&&j&&(m.returnedStale=!0)),me?U.__staleWhileFetching:U.__returned=U}}async forceFetch(e,t={}){const n=await this.fetch(e,t);if(n===void 0)throw new Error("fetch() returned undefined");return n}memo(e,t={}){const n=H(this,dn);if(!n)throw new Error("no memoMethod provided to constructor");const{context:o,forceRefresh:s,...u}=t,f=this.get(e,u);if(!s&&f!==void 0)return f;const h=n(e,f,{options:u,context:o});return this.set(e,h,u),h}get(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:o=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:u}=t,f=H(this,Mt).get(e);if(f!==void 0){const h=H(this,wt)[f],g=ct(this,tt,Nt).call(this,h);return u&&H(this,mr).call(this,u,f),H(this,Qt).call(this,f)?(u&&(u.get="stale"),g?(u&&n&&h.__staleWhileFetching!==void 0&&(u.returnedStale=!0),n?h.__staleWhileFetching:void 0):(s||ct(this,tt,Er).call(this,e,"expire"),u&&n&&(u.returnedStale=!0),n?h:void 0)):(u&&(u.get="hit"),g?h.__staleWhileFetching:(ct(this,tt,gi).call(this,f),o&&H(this,Qr).call(this,f),h))}else u&&(u.get="miss")}delete(e){return ct(this,tt,Er).call(this,e,"delete")}clear(){return ct(this,tt,Mo).call(this,"delete")}};or=new WeakMap,Jt=new WeakMap,sr=new WeakMap,fr=new WeakMap,hn=new WeakMap,dn=new WeakMap,Lt=new WeakMap,ur=new WeakMap,Mt=new WeakMap,Bt=new WeakMap,wt=new WeakMap,Ht=new WeakMap,Xt=new WeakMap,Wt=new WeakMap,Dt=new WeakMap,cr=new WeakMap,$t=new WeakMap,lr=new WeakMap,hr=new WeakMap,Zt=new WeakMap,dr=new WeakMap,Ar=new WeakMap,Gt=new WeakMap,tt=new WeakSet,qo=function(){const e=new Li(H(this,or)),t=new Li(H(this,or));yt(this,Zt,e),yt(this,hr,t),yt(this,bi,(s,u,f=fn.now())=>{if(t[s]=u!==0?f:0,e[s]=u,u!==0&&this.ttlAutopurge){const h=setTimeout(()=>{H(this,Qt).call(this,s)&&ct(this,tt,Er).call(this,H(this,Bt)[s],"expire")},u+1);h.unref&&h.unref()}}),yt(this,Qr,s=>{t[s]=e[s]!==0?fn.now():0}),yt(this,mr,(s,u)=>{if(e[u]){const f=e[u],h=t[u];if(!f||!h)return;s.ttl=f,s.start=h,s.now=n||o();const g=s.now-h;s.remainingTTL=f-g}});let n=0;const o=()=>{const s=fn.now();if(this.ttlResolution>0){n=s;const u=setTimeout(()=>n=0,this.ttlResolution);u.unref&&u.unref()}return s};this.getRemainingTTL=s=>{const u=H(this,Mt).get(s);if(u===void 0)return 0;const f=e[u],h=t[u];if(!f||!h)return 1/0;const g=(n||o())-h;return f-g},yt(this,Qt,s=>{const u=t[s],f=e[s];return!!f&&!!u&&(n||o())-u>f})},Qr=new WeakMap,mr=new WeakMap,bi=new WeakMap,Qt=new WeakMap,cl=function(){const e=new Li(H(this,or));yt(this,ur,0),yt(this,lr,e),yt(this,en,t=>{yt(this,ur,H(this,ur)-e[t]),e[t]=0}),yt(this,_i,(t,n,o,s)=>{if(ct(this,tt,Nt).call(this,n))return 0;if(!wr(o))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(o=s(n,t),!wr(o))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return o}),yt(this,pn,(t,n,o)=>{if(e[t]=n,H(this,Jt)){const s=H(this,Jt)-e[t];for(;H(this,ur)>s;)ct(this,tt,ki).call(this,!0)}yt(this,ur,H(this,ur)+e[t]),o&&(o.entrySize=n,o.totalCalculatedSize=H(this,ur))})},en=new WeakMap,pn=new WeakMap,_i=new WeakMap,br=function*({allowStale:e=this.allowStale}={}){if(H(this,Lt))for(let t=H(this,Dt);!(!ct(this,tt,Uo).call(this,t)||((e||!H(this,Qt).call(this,t))&&(yield t),t===H(this,Wt)));)t=H(this,Xt)[t]},_r=function*({allowStale:e=this.allowStale}={}){if(H(this,Lt))for(let t=H(this,Wt);!(!ct(this,tt,Uo).call(this,t)||((e||!H(this,Qt).call(this,t))&&(yield t),t===H(this,Dt)));)t=H(this,Ht)[t]},Uo=function(e){return e!==void 0&&H(this,Mt).get(H(this,Bt)[e])===e},ki=function(e){var s,u;const t=H(this,Wt),n=H(this,Bt)[t],o=H(this,wt)[t];return H(this,Ar)&&ct(this,tt,Nt).call(this,o)?o.__abortController.abort(new Error("evicted")):(H(this,dr)||H(this,Gt))&&(H(this,dr)&&((s=H(this,sr))==null||s.call(this,o,n,"evict")),H(this,Gt)&&((u=H(this,$t))==null||u.push([o,n,"evict"]))),H(this,en).call(this,t),e&&(H(this,Bt)[t]=void 0,H(this,wt)[t]=void 0,H(this,cr).push(t)),H(this,Lt)===1?(yt(this,Wt,yt(this,Dt,0)),H(this,cr).length=0):yt(this,Wt,H(this,Ht)[t]),H(this,Mt).delete(n),Ti(this,Lt)._--,t},Di=function(e,t,n,o){const s=t===void 0?void 0:H(this,wt)[t];if(ct(this,tt,Nt).call(this,s))return s;const u=new zi,{signal:f}=n;f==null||f.addEventListener("abort",()=>u.abort(f.reason),{signal:u.signal});const h={signal:u.signal,options:n,context:o},g=(k,_=!1)=>{const{aborted:m}=u.signal,E=n.ignoreFetchAbort&&k!==void 0;if(n.status&&(m&&!_?(n.status.fetchAborted=!0,n.status.fetchError=u.signal.reason,E&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),m&&!E&&!_)return A(u.signal.reason);const B=C;return H(this,wt)[t]===C&&(k===void 0?B.__staleWhileFetching?H(this,wt)[t]=B.__staleWhileFetching:ct(this,tt,Er).call(this,e,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(e,k,h.options))),k},O=k=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=k),A(k)),A=k=>{const{aborted:_}=u.signal,m=_&&n.allowStaleOnFetchAbort,E=m||n.allowStaleOnFetchRejection,B=E||n.noDeleteOnFetchRejection,M=C;if(H(this,wt)[t]===C&&(!B||M.__staleWhileFetching===void 0?ct(this,tt,Er).call(this,e,"fetch"):m||(H(this,wt)[t]=M.__staleWhileFetching)),E)return n.status&&M.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),M.__staleWhileFetching;if(M.__returned===M)throw k},N=(k,_)=>{var E;const m=(E=H(this,hn))==null?void 0:E.call(this,e,s,h);m&&m instanceof Promise&&m.then(B=>k(B===void 0?void 0:B),_),u.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(k(void 0),n.allowStaleOnFetchAbort&&(k=B=>g(B,!0)))})};n.status&&(n.status.fetchDispatched=!0);const C=new Promise(N).then(g,O),R=Object.assign(C,{__abortController:u,__staleWhileFetching:s,__returned:void 0});return t===void 0?(this.set(e,R,{...h.options,status:void 0}),t=H(this,Mt).get(e)):H(this,wt)[t]=R,R},Nt=function(e){if(!H(this,Ar))return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof zi},Fo=function(e,t){H(this,Xt)[t]=e,H(this,Ht)[e]=t},gi=function(e){e!==H(this,Dt)&&(e===H(this,Wt)?yt(this,Wt,H(this,Ht)[e]):ct(this,tt,Fo).call(this,H(this,Xt)[e],H(this,Ht)[e]),ct(this,tt,Fo).call(this,H(this,Dt),e),yt(this,Dt,e))},Er=function(e,t){var o,s,u,f;let n=!1;if(H(this,Lt)!==0){const h=H(this,Mt).get(e);if(h!==void 0)if(n=!0,H(this,Lt)===1)ct(this,tt,Mo).call(this,t);else{H(this,en).call(this,h);const g=H(this,wt)[h];if(ct(this,tt,Nt).call(this,g)?g.__abortController.abort(new Error("deleted")):(H(this,dr)||H(this,Gt))&&(H(this,dr)&&((o=H(this,sr))==null||o.call(this,g,e,t)),H(this,Gt)&&((s=H(this,$t))==null||s.push([g,e,t]))),H(this,Mt).delete(e),H(this,Bt)[h]=void 0,H(this,wt)[h]=void 0,h===H(this,Dt))yt(this,Dt,H(this,Xt)[h]);else if(h===H(this,Wt))yt(this,Wt,H(this,Ht)[h]);else{const O=H(this,Xt)[h];H(this,Ht)[O]=H(this,Ht)[h];const A=H(this,Ht)[h];H(this,Xt)[A]=H(this,Xt)[h]}Ti(this,Lt)._--,H(this,cr).push(h)}}if(H(this,Gt)&&((u=H(this,$t))!=null&&u.length)){const h=H(this,$t);let g;for(;g=h==null?void 0:h.shift();)(f=H(this,fr))==null||f.call(this,...g)}return n},Mo=function(e){var t,n,o;for(const s of ct(this,tt,_r).call(this,{allowStale:!0})){const u=H(this,wt)[s];if(ct(this,tt,Nt).call(this,u))u.__abortController.abort(new Error("deleted"));else{const f=H(this,Bt)[s];H(this,dr)&&((t=H(this,sr))==null||t.call(this,u,f,e)),H(this,Gt)&&((n=H(this,$t))==null||n.push([u,f,e]))}}if(H(this,Mt).clear(),H(this,wt).fill(void 0),H(this,Bt).fill(void 0),H(this,Zt)&&H(this,hr)&&(H(this,Zt).fill(0),H(this,hr).fill(0)),H(this,lr)&&H(this,lr).fill(0),yt(this,Wt,0),yt(this,Dt,0),H(this,cr).length=0,yt(this,ur,0),yt(this,Lt,0),H(this,Gt)&&H(this,$t)){const s=H(this,$t);let u;for(;u=s==null?void 0:s.shift();)(o=H(this,fr))==null||o.call(this,...u)}};let Bo=ns;var wa,su;function vd(){if(su)return wa;su=1;var i=function(E){return e(E)&&!t(E)};function e(m){return!!m&&typeof m=="object"}function t(m){var E=Object.prototype.toString.call(m);return E==="[object RegExp]"||E==="[object Date]"||s(m)}var n=typeof Symbol=="function"&&Symbol.for,o=n?Symbol.for("react.element"):60103;function s(m){return m.$$typeof===o}function u(m){return Array.isArray(m)?[]:{}}function f(m,E){return E.clone!==!1&&E.isMergeableObject(m)?k(u(m),m,E):m}function h(m,E,B){return m.concat(E).map(function(M){return f(M,B)})}function g(m,E){if(!E.customMerge)return k;var B=E.customMerge(m);return typeof B=="function"?B:k}function O(m){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(m).filter(function(E){return Object.propertyIsEnumerable.call(m,E)}):[]}function A(m){return Object.keys(m).concat(O(m))}function N(m,E){try{return E in m}catch{return!1}}function C(m,E){return N(m,E)&&!(Object.hasOwnProperty.call(m,E)&&Object.propertyIsEnumerable.call(m,E))}function R(m,E,B){var M={};return B.isMergeableObject(m)&&A(m).forEach(function(S){M[S]=f(m[S],B)}),A(E).forEach(function(S){C(m,S)||(N(m,S)&&B.isMergeableObject(E[S])?M[S]=g(S,B)(m[S],E[S],B):M[S]=f(E[S],B))}),M}function k(m,E,B){B=B||{},B.arrayMerge=B.arrayMerge||h,B.isMergeableObject=B.isMergeableObject||i,B.cloneUnlessOtherwiseSpecified=f;var M=Array.isArray(E),S=Array.isArray(m),j=M===S;return j?M?B.arrayMerge(m,E,B):R(m,E,B):f(E,B)}k.all=function(E,B){if(!Array.isArray(E))throw new Error("first argument should be an array");return E.reduce(function(M,S){return k(M,S,B)},{})};var _=k;return wa=_,wa}var md=vd();const xd=Lo(md);var fu=new Set,uu=[],ba=[],wd={appendCss:i=>{ba.push(i)},registerClassName:i=>{fu.add(i)},registerComposition:i=>{uu.push(i)},markCompositionUsed:()=>{},onEndFileScope:i=>{var e=pd({localClassNames:Array.from(fu),composedClassLists:uu,cssObjs:ba}).join(`
`);wh({fileScope:i,css:e}),ba=[]},getIdentOption:()=>"short"};lh(wd);var cu=(i,e)=>{for(var t=e-1;t>=0;){if(i[t]==="/")return t;t--}return-1},bd=i=>{var e,t=i.lastIndexOf(".css");if(t===-1)return"";var n=cu(i,t);if(e=i.slice(n+1,t),n===-1)return e;var o=cu(i,n-1),s=i.slice(o+1,n),u=e!=="index"?e:s;return u},_d=()=>{var i=new Bo({max:500});return e=>{var t=i.get(e);if(t)return t;var n=bd(e);return i.set(e,n),n}},Ed=_d();function Sd(i){var{debugId:e,debugFileName:t}=i,n=e?[e.replace(/\s/g,"_")]:[];if(t){var{filePath:o}=Or(),s=Ed(o);s&&n.unshift(s)}return n.join("_")}function lu(i){return i.match(/^[0-9]/)?"_".concat(i):i}function ll(i){var e=gh(),{debugId:t,debugFileName:n=!0}=tn(tn({},typeof i=="string"?{debugId:i}:null),typeof i=="object"?i:null),o=xh().toString(36),{filePath:s,packageName:u}=Or(),f=yd(u?"".concat(u).concat(s):s),h="".concat(f).concat(o);if(e==="debug"){var g=Sd({debugId:t,debugFileName:n});return g&&(h="".concat(g,"__").concat(h)),lu(h)}if(typeof e=="function"){if(h=e({hash:h,debugId:t,filePath:s,packageName:u}),!h.match(/^[A-Z_][0-9A-Z_-]+$/i))throw new Error('Identifier function returned invalid indentifier: "'.concat(h,'"'));return h}return lu(h)}function Ad(i,e){var t=ll(e);el(t,Or());var n=[],o=[];for(var s of i)typeof s=="string"?n.push(s):o.push(s);var u=t;if(n.length>0&&(u="".concat(t," ").concat(td(n)),dh({identifier:t,classList:u},Or()),o.length>0&&tl(t)),o.length>0){var f=xd.all(o,{arrayMerge:(h,g)=>g});Qc({type:"local",selector:t,rule:f},Or())}return u}function Zo(i,e){if(Array.isArray(i))return Ad(i,e);var t=ll(e);return el(t,Or()),Qc({type:"local",selector:t,rule:i},Or()),t}vh("src/styles.css.ts","@kadena/spirekey-sdk");const Cd=Zo({borderRadius:"9px",position:"fixed",border:"none",width:"21.5rem",height:"3rem",right:"1rem",top:"1rem",zIndex:999999,transition:"transform 200ms cubic-bezier(0.33, 1, 0.68, 1), right 200ms cubic-bezier(0.33, 1, 0.68, 1)",willChange:"transform, right"},"spirekeyNotification"),hu=Zo({right:"0",transform:"translateX(18.46rem)"},"spirekeyNotificationMinimized"),_a=Zo({right:0,transform:"translateX(100%)"},"spirekeyNotificationHidden");mh();var Od=Object.defineProperty,Pd=(i,e,t)=>e in i?Od(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,vi=(i,e,t)=>Pd(i,typeof e!="symbol"?e+"":e,t);const hl=class un{constructor(e){vi(this,"baseUrl"),vi(this,"window"),vi(this,"popup",null),vi(this,"notification"),this.window=window,this.baseUrl=e,this.notification=this.makeNotification(this.baseUrl)}static getInstance(e){return un.manager||(un.manager=new un(e||"https://chainweaver.kadena.io")),e&&un.manager.updateBaseUrl(e),un.manager}getNotificationUrl(e){return`${e}/embedded/notification`}updateBaseUrl(e){this.baseUrl=e,this.notification.src=this.getNotificationUrl(e)}makeNotification(e){const t=document.createElement("iframe");return t.classList.add(Cd),t.classList.add(_a),t.src=this.getNotificationUrl(e),Cr("minimize-notification",()=>{this.minimizeNotification()}),Cr("maximize-notification",()=>{this.maximizeNotification()}),Cr("show-notifications-sidebar",()=>{this.hideNotification()}),document.body.appendChild(t),t}openPopup(e,t=!1){const{width:n,height:o}=screen,s=`width=500,height=${o},left=${n-500},top=0,popup=1`;if(t)return this.setPopup(e);this.closePopup(),setTimeout(()=>{this.popup=this.window.open(this.baseUrl+e,"SpireKeyPopup",s)})}setPopup(e){setTimeout(()=>{if(!this.popup)throw new Error("Popup not found");this.popup.location.href=this.baseUrl+e})}closePopup(){var e;(e=this.popup)==null||e.close()}areAccountsReady(e){const t=new URLSearchParams({accounts:JSON.stringify(e)});this.notification.src=this.getNotificationUrl(this.baseUrl)+"#"+t.toString()}showNotification(){this.notification.classList.remove(_a)}minimizeNotification(){this.notification.classList.add(hu)}maximizeNotification(){this.notification.classList.remove(hu)}async hideNotification(){return this.notification.classList.add(_a),this.notification.src=this.getNotificationUrl(this.baseUrl),new Promise(e=>setTimeout(e,200))}};vi(hl,"manager");let Yi=hl;const Rd=i=>async()=>(Yi.getInstance().areAccountsReady([i]),new Promise(e=>{Jc(t=>e(t))})),Td=async i=>(Yi.getInstance().areAccountsReady(i),new Promise(e=>{Jc(t=>e(t))})),Id=(i,e)=>Nd({embedManager:Yi.getInstance()})(i,e),Nd=({embedManager:i,timeout:e=5*60*1e3})=>async(t,n)=>{const o=new URLSearchParams({networkId:t,chainId:n});i.showNotification(),i.openPopup(`/connect#${o.toString()}`);const s=new Promise((g,O)=>setTimeout(()=>O([new Error("Timeout: Connecting took too long")]),e));let u,f;const h=new Promise((g,O)=>{u=ah(A=>{g({...A,isReady:async()=>(i.showNotification(),await Rd(A)(),i.hideNotification(),A)})}),f=nh(()=>{O(new Error("User canceled connection"))})});return Promise.race([h,s]).finally(()=>{i.closePopup(),i.hideNotification(),u(),f()})},Bd=(i,e=[])=>Ud({embedManager:Yi.getInstance()})(i,e),qd=(i,e)=>{let t,n=setTimeout(()=>{t(i())},e);return{promise:new Promise((s,u)=>{t=u}),reset:()=>{clearTimeout(n),n=setTimeout(()=>{t(i())},e)}}},Ud=({embedManager:i,timeout:e=5*60*1e3})=>async(t,n=[])=>{const s=Array.isArray(t)?t:[t],u=new URLSearchParams({accounts:JSON.stringify(n),transactions:JSON.stringify(s)});i.showNotification(),i.openPopup(`/sign#${u.toString()}`);const{promise:f,reset:h}=qd(()=>[new Error("Timeout: Signing took too long")],e);let g,O;const A=new Promise((N,C)=>{let R=s;g=oh(k=>{const _=k.txs||k.tx,m=R.flatMap(B=>{var M;return(M=_[B.hash])==null?void 0:M.map(S=>xi.addSignatures(B,S))}).filter(B=>!!B);if(R=R.map(B=>m.find(M=>M.hash===B.hash)||B),!R.every(xi.isSignedTransaction)){const B=new URLSearchParams({accounts:JSON.stringify(k.accounts),transactions:JSON.stringify(R.filter(M=>!xi.isSignedTransaction(M)))});h(),i.openPopup(`/sign#${B.toString()}`,!0);return}N({transactions:R,isReady:async()=>(i.showNotification(),await Td(k.accounts),i.hideNotification(),R)})}),O=ih(()=>{C(new Error("User canceled signing"))})});return await Promise.race([A,f]).finally(async()=>{i.closePopup(),g(),O(),await i.hideNotification()})};class Fd{constructor(){this.name="SpireKey"}async detect(){return console.log("🟢 SpireKey adapter available"),!0}async connect(){console.log("🟢 Connecting to SpireKey"),this.acct=await Id("testnet04","5"),await this.acct.isReady(),console.log("🟢 Connected to SpireKey")}async getAccounts(){return[{account:this.acct.accountName,chainIds:this.acct.chainIds}]}async getPublicKey(){var n,o;const e=this.acct,t=e.accountKeys||e.keys||((n=e.guard)==null?void 0:n.keys)||((o=e.keyset)==null?void 0:o.keys);if(Array.isArray(t)&&t.length>0){const s=t[0],u=typeof s=="string"?s:s.publicKey;if(u)return u.replace(/^[kr]:/,"")}throw new Error("SpireKeyAdapter: publicKey não encontrada em acct")}async signTransaction(e){const t=e.networkId||"testnet04",n=[{accountName:this.acct.accountName,networkId:t,chainIds:this.acct.chainIds}],{transactions:o}=await Bd([e],n);return o[0]}async sendTransaction(e){return await fetch("https://api.testnet.chainweb.com/chainweb/0.0/testnet04/chain/5/pact/api/v1/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(n=>n.json())}}var Ea={exports:{}},du;function Md(){return du||(du=1,function(i){(function(e){var t=function(a){var l,c=new Float64Array(16);if(a)for(l=0;l<a.length;l++)c[l]=a[l];return c},n=function(){throw new Error("no PRNG")},o=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var u=t(),f=t([1]),h=t([56129,1]),g=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),O=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),A=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),N=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),C=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function R(a,l,c,r){a[l]=c>>24&255,a[l+1]=c>>16&255,a[l+2]=c>>8&255,a[l+3]=c&255,a[l+4]=r>>24&255,a[l+5]=r>>16&255,a[l+6]=r>>8&255,a[l+7]=r&255}function k(a,l,c,r,d){var F,L=0;for(F=0;F<d;F++)L|=a[l+F]^c[r+F];return(1&L-1>>>8)-1}function _(a,l,c,r){return k(a,l,c,r,16)}function m(a,l,c,r){return k(a,l,c,r,32)}function E(a,l,c,r){for(var d=r[0]&255|(r[1]&255)<<8|(r[2]&255)<<16|(r[3]&255)<<24,F=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,L=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,Z=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,he=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,Te=r[4]&255|(r[5]&255)<<8|(r[6]&255)<<16|(r[7]&255)<<24,xe=l[0]&255|(l[1]&255)<<8|(l[2]&255)<<16|(l[3]&255)<<24,nt=l[4]&255|(l[5]&255)<<8|(l[6]&255)<<16|(l[7]&255)<<24,Se=l[8]&255|(l[9]&255)<<8|(l[10]&255)<<16|(l[11]&255)<<24,Le=l[12]&255|(l[13]&255)<<8|(l[14]&255)<<16|(l[15]&255)<<24,$e=r[8]&255|(r[9]&255)<<8|(r[10]&255)<<16|(r[11]&255)<<24,Ge=c[16]&255|(c[17]&255)<<8|(c[18]&255)<<16|(c[19]&255)<<24,Ye=c[20]&255|(c[21]&255)<<8|(c[22]&255)<<16|(c[23]&255)<<24,Ke=c[24]&255|(c[25]&255)<<8|(c[26]&255)<<16|(c[27]&255)<<24,ze=c[28]&255|(c[29]&255)<<8|(c[30]&255)<<16|(c[31]&255)<<24,We=r[12]&255|(r[13]&255)<<8|(r[14]&255)<<16|(r[15]&255)<<24,Ie=d,Ue=F,Ce=L,Ne=Z,qe=he,we=Te,K=xe,W=nt,ie=Se,Q=Le,ee=$e,le=Ge,Me=Ye,Ve=Ke,Xe=ze,Je=We,w,Qe=0;Qe<20;Qe+=2)w=Ie+Me|0,qe^=w<<7|w>>>25,w=qe+Ie|0,ie^=w<<9|w>>>23,w=ie+qe|0,Me^=w<<13|w>>>19,w=Me+ie|0,Ie^=w<<18|w>>>14,w=we+Ue|0,Q^=w<<7|w>>>25,w=Q+we|0,Ve^=w<<9|w>>>23,w=Ve+Q|0,Ue^=w<<13|w>>>19,w=Ue+Ve|0,we^=w<<18|w>>>14,w=ee+K|0,Xe^=w<<7|w>>>25,w=Xe+ee|0,Ce^=w<<9|w>>>23,w=Ce+Xe|0,K^=w<<13|w>>>19,w=K+Ce|0,ee^=w<<18|w>>>14,w=Je+le|0,Ne^=w<<7|w>>>25,w=Ne+Je|0,W^=w<<9|w>>>23,w=W+Ne|0,le^=w<<13|w>>>19,w=le+W|0,Je^=w<<18|w>>>14,w=Ie+Ne|0,Ue^=w<<7|w>>>25,w=Ue+Ie|0,Ce^=w<<9|w>>>23,w=Ce+Ue|0,Ne^=w<<13|w>>>19,w=Ne+Ce|0,Ie^=w<<18|w>>>14,w=we+qe|0,K^=w<<7|w>>>25,w=K+we|0,W^=w<<9|w>>>23,w=W+K|0,qe^=w<<13|w>>>19,w=qe+W|0,we^=w<<18|w>>>14,w=ee+Q|0,le^=w<<7|w>>>25,w=le+ee|0,ie^=w<<9|w>>>23,w=ie+le|0,Q^=w<<13|w>>>19,w=Q+ie|0,ee^=w<<18|w>>>14,w=Je+Xe|0,Me^=w<<7|w>>>25,w=Me+Je|0,Ve^=w<<9|w>>>23,w=Ve+Me|0,Xe^=w<<13|w>>>19,w=Xe+Ve|0,Je^=w<<18|w>>>14;Ie=Ie+d|0,Ue=Ue+F|0,Ce=Ce+L|0,Ne=Ne+Z|0,qe=qe+he|0,we=we+Te|0,K=K+xe|0,W=W+nt|0,ie=ie+Se|0,Q=Q+Le|0,ee=ee+$e|0,le=le+Ge|0,Me=Me+Ye|0,Ve=Ve+Ke|0,Xe=Xe+ze|0,Je=Je+We|0,a[0]=Ie>>>0&255,a[1]=Ie>>>8&255,a[2]=Ie>>>16&255,a[3]=Ie>>>24&255,a[4]=Ue>>>0&255,a[5]=Ue>>>8&255,a[6]=Ue>>>16&255,a[7]=Ue>>>24&255,a[8]=Ce>>>0&255,a[9]=Ce>>>8&255,a[10]=Ce>>>16&255,a[11]=Ce>>>24&255,a[12]=Ne>>>0&255,a[13]=Ne>>>8&255,a[14]=Ne>>>16&255,a[15]=Ne>>>24&255,a[16]=qe>>>0&255,a[17]=qe>>>8&255,a[18]=qe>>>16&255,a[19]=qe>>>24&255,a[20]=we>>>0&255,a[21]=we>>>8&255,a[22]=we>>>16&255,a[23]=we>>>24&255,a[24]=K>>>0&255,a[25]=K>>>8&255,a[26]=K>>>16&255,a[27]=K>>>24&255,a[28]=W>>>0&255,a[29]=W>>>8&255,a[30]=W>>>16&255,a[31]=W>>>24&255,a[32]=ie>>>0&255,a[33]=ie>>>8&255,a[34]=ie>>>16&255,a[35]=ie>>>24&255,a[36]=Q>>>0&255,a[37]=Q>>>8&255,a[38]=Q>>>16&255,a[39]=Q>>>24&255,a[40]=ee>>>0&255,a[41]=ee>>>8&255,a[42]=ee>>>16&255,a[43]=ee>>>24&255,a[44]=le>>>0&255,a[45]=le>>>8&255,a[46]=le>>>16&255,a[47]=le>>>24&255,a[48]=Me>>>0&255,a[49]=Me>>>8&255,a[50]=Me>>>16&255,a[51]=Me>>>24&255,a[52]=Ve>>>0&255,a[53]=Ve>>>8&255,a[54]=Ve>>>16&255,a[55]=Ve>>>24&255,a[56]=Xe>>>0&255,a[57]=Xe>>>8&255,a[58]=Xe>>>16&255,a[59]=Xe>>>24&255,a[60]=Je>>>0&255,a[61]=Je>>>8&255,a[62]=Je>>>16&255,a[63]=Je>>>24&255}function B(a,l,c,r){for(var d=r[0]&255|(r[1]&255)<<8|(r[2]&255)<<16|(r[3]&255)<<24,F=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,L=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,Z=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,he=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,Te=r[4]&255|(r[5]&255)<<8|(r[6]&255)<<16|(r[7]&255)<<24,xe=l[0]&255|(l[1]&255)<<8|(l[2]&255)<<16|(l[3]&255)<<24,nt=l[4]&255|(l[5]&255)<<8|(l[6]&255)<<16|(l[7]&255)<<24,Se=l[8]&255|(l[9]&255)<<8|(l[10]&255)<<16|(l[11]&255)<<24,Le=l[12]&255|(l[13]&255)<<8|(l[14]&255)<<16|(l[15]&255)<<24,$e=r[8]&255|(r[9]&255)<<8|(r[10]&255)<<16|(r[11]&255)<<24,Ge=c[16]&255|(c[17]&255)<<8|(c[18]&255)<<16|(c[19]&255)<<24,Ye=c[20]&255|(c[21]&255)<<8|(c[22]&255)<<16|(c[23]&255)<<24,Ke=c[24]&255|(c[25]&255)<<8|(c[26]&255)<<16|(c[27]&255)<<24,ze=c[28]&255|(c[29]&255)<<8|(c[30]&255)<<16|(c[31]&255)<<24,We=r[12]&255|(r[13]&255)<<8|(r[14]&255)<<16|(r[15]&255)<<24,Ie=d,Ue=F,Ce=L,Ne=Z,qe=he,we=Te,K=xe,W=nt,ie=Se,Q=Le,ee=$e,le=Ge,Me=Ye,Ve=Ke,Xe=ze,Je=We,w,Qe=0;Qe<20;Qe+=2)w=Ie+Me|0,qe^=w<<7|w>>>25,w=qe+Ie|0,ie^=w<<9|w>>>23,w=ie+qe|0,Me^=w<<13|w>>>19,w=Me+ie|0,Ie^=w<<18|w>>>14,w=we+Ue|0,Q^=w<<7|w>>>25,w=Q+we|0,Ve^=w<<9|w>>>23,w=Ve+Q|0,Ue^=w<<13|w>>>19,w=Ue+Ve|0,we^=w<<18|w>>>14,w=ee+K|0,Xe^=w<<7|w>>>25,w=Xe+ee|0,Ce^=w<<9|w>>>23,w=Ce+Xe|0,K^=w<<13|w>>>19,w=K+Ce|0,ee^=w<<18|w>>>14,w=Je+le|0,Ne^=w<<7|w>>>25,w=Ne+Je|0,W^=w<<9|w>>>23,w=W+Ne|0,le^=w<<13|w>>>19,w=le+W|0,Je^=w<<18|w>>>14,w=Ie+Ne|0,Ue^=w<<7|w>>>25,w=Ue+Ie|0,Ce^=w<<9|w>>>23,w=Ce+Ue|0,Ne^=w<<13|w>>>19,w=Ne+Ce|0,Ie^=w<<18|w>>>14,w=we+qe|0,K^=w<<7|w>>>25,w=K+we|0,W^=w<<9|w>>>23,w=W+K|0,qe^=w<<13|w>>>19,w=qe+W|0,we^=w<<18|w>>>14,w=ee+Q|0,le^=w<<7|w>>>25,w=le+ee|0,ie^=w<<9|w>>>23,w=ie+le|0,Q^=w<<13|w>>>19,w=Q+ie|0,ee^=w<<18|w>>>14,w=Je+Xe|0,Me^=w<<7|w>>>25,w=Me+Je|0,Ve^=w<<9|w>>>23,w=Ve+Me|0,Xe^=w<<13|w>>>19,w=Xe+Ve|0,Je^=w<<18|w>>>14;a[0]=Ie>>>0&255,a[1]=Ie>>>8&255,a[2]=Ie>>>16&255,a[3]=Ie>>>24&255,a[4]=we>>>0&255,a[5]=we>>>8&255,a[6]=we>>>16&255,a[7]=we>>>24&255,a[8]=ee>>>0&255,a[9]=ee>>>8&255,a[10]=ee>>>16&255,a[11]=ee>>>24&255,a[12]=Je>>>0&255,a[13]=Je>>>8&255,a[14]=Je>>>16&255,a[15]=Je>>>24&255,a[16]=K>>>0&255,a[17]=K>>>8&255,a[18]=K>>>16&255,a[19]=K>>>24&255,a[20]=W>>>0&255,a[21]=W>>>8&255,a[22]=W>>>16&255,a[23]=W>>>24&255,a[24]=ie>>>0&255,a[25]=ie>>>8&255,a[26]=ie>>>16&255,a[27]=ie>>>24&255,a[28]=Q>>>0&255,a[29]=Q>>>8&255,a[30]=Q>>>16&255,a[31]=Q>>>24&255}function M(a,l,c,r){E(a,l,c,r)}function S(a,l,c,r){B(a,l,c,r)}var j=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function U(a,l,c,r,d,F,L){var Z=new Uint8Array(16),he=new Uint8Array(64),Te,xe;for(xe=0;xe<16;xe++)Z[xe]=0;for(xe=0;xe<8;xe++)Z[xe]=F[xe];for(;d>=64;){for(M(he,Z,L,j),xe=0;xe<64;xe++)a[l+xe]=c[r+xe]^he[xe];for(Te=1,xe=8;xe<16;xe++)Te=Te+(Z[xe]&255)|0,Z[xe]=Te&255,Te>>>=8;d-=64,l+=64,r+=64}if(d>0)for(M(he,Z,L,j),xe=0;xe<d;xe++)a[l+xe]=c[r+xe]^he[xe];return 0}function re(a,l,c,r,d){var F=new Uint8Array(16),L=new Uint8Array(64),Z,he;for(he=0;he<16;he++)F[he]=0;for(he=0;he<8;he++)F[he]=r[he];for(;c>=64;){for(M(L,F,d,j),he=0;he<64;he++)a[l+he]=L[he];for(Z=1,he=8;he<16;he++)Z=Z+(F[he]&255)|0,F[he]=Z&255,Z>>>=8;c-=64,l+=64}if(c>0)for(M(L,F,d,j),he=0;he<c;he++)a[l+he]=L[he];return 0}function me(a,l,c,r,d){var F=new Uint8Array(32);S(F,r,d,j);for(var L=new Uint8Array(8),Z=0;Z<8;Z++)L[Z]=r[Z+16];return re(a,l,c,L,F)}function ne(a,l,c,r,d,F,L){var Z=new Uint8Array(32);S(Z,F,L,j);for(var he=new Uint8Array(8),Te=0;Te<8;Te++)he[Te]=F[Te+16];return U(a,l,c,r,d,he,Z)}var Pe=function(a){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var l,c,r,d,F,L,Z,he;l=a[0]&255|(a[1]&255)<<8,this.r[0]=l&8191,c=a[2]&255|(a[3]&255)<<8,this.r[1]=(l>>>13|c<<3)&8191,r=a[4]&255|(a[5]&255)<<8,this.r[2]=(c>>>10|r<<6)&7939,d=a[6]&255|(a[7]&255)<<8,this.r[3]=(r>>>7|d<<9)&8191,F=a[8]&255|(a[9]&255)<<8,this.r[4]=(d>>>4|F<<12)&255,this.r[5]=F>>>1&8190,L=a[10]&255|(a[11]&255)<<8,this.r[6]=(F>>>14|L<<2)&8191,Z=a[12]&255|(a[13]&255)<<8,this.r[7]=(L>>>11|Z<<5)&8065,he=a[14]&255|(a[15]&255)<<8,this.r[8]=(Z>>>8|he<<8)&8191,this.r[9]=he>>>5&127,this.pad[0]=a[16]&255|(a[17]&255)<<8,this.pad[1]=a[18]&255|(a[19]&255)<<8,this.pad[2]=a[20]&255|(a[21]&255)<<8,this.pad[3]=a[22]&255|(a[23]&255)<<8,this.pad[4]=a[24]&255|(a[25]&255)<<8,this.pad[5]=a[26]&255|(a[27]&255)<<8,this.pad[6]=a[28]&255|(a[29]&255)<<8,this.pad[7]=a[30]&255|(a[31]&255)<<8};Pe.prototype.blocks=function(a,l,c){for(var r=this.fin?0:2048,d,F,L,Z,he,Te,xe,nt,Se,Le,$e,Ge,Ye,Ke,ze,We,Ie,Ue,Ce,Ne=this.h[0],qe=this.h[1],we=this.h[2],K=this.h[3],W=this.h[4],ie=this.h[5],Q=this.h[6],ee=this.h[7],le=this.h[8],Me=this.h[9],Ve=this.r[0],Xe=this.r[1],Je=this.r[2],w=this.r[3],Qe=this.r[4],ot=this.r[5],st=this.r[6],Ze=this.r[7],it=this.r[8],at=this.r[9];c>=16;)d=a[l+0]&255|(a[l+1]&255)<<8,Ne+=d&8191,F=a[l+2]&255|(a[l+3]&255)<<8,qe+=(d>>>13|F<<3)&8191,L=a[l+4]&255|(a[l+5]&255)<<8,we+=(F>>>10|L<<6)&8191,Z=a[l+6]&255|(a[l+7]&255)<<8,K+=(L>>>7|Z<<9)&8191,he=a[l+8]&255|(a[l+9]&255)<<8,W+=(Z>>>4|he<<12)&8191,ie+=he>>>1&8191,Te=a[l+10]&255|(a[l+11]&255)<<8,Q+=(he>>>14|Te<<2)&8191,xe=a[l+12]&255|(a[l+13]&255)<<8,ee+=(Te>>>11|xe<<5)&8191,nt=a[l+14]&255|(a[l+15]&255)<<8,le+=(xe>>>8|nt<<8)&8191,Me+=nt>>>5|r,Se=0,Le=Se,Le+=Ne*Ve,Le+=qe*(5*at),Le+=we*(5*it),Le+=K*(5*Ze),Le+=W*(5*st),Se=Le>>>13,Le&=8191,Le+=ie*(5*ot),Le+=Q*(5*Qe),Le+=ee*(5*w),Le+=le*(5*Je),Le+=Me*(5*Xe),Se+=Le>>>13,Le&=8191,$e=Se,$e+=Ne*Xe,$e+=qe*Ve,$e+=we*(5*at),$e+=K*(5*it),$e+=W*(5*Ze),Se=$e>>>13,$e&=8191,$e+=ie*(5*st),$e+=Q*(5*ot),$e+=ee*(5*Qe),$e+=le*(5*w),$e+=Me*(5*Je),Se+=$e>>>13,$e&=8191,Ge=Se,Ge+=Ne*Je,Ge+=qe*Xe,Ge+=we*Ve,Ge+=K*(5*at),Ge+=W*(5*it),Se=Ge>>>13,Ge&=8191,Ge+=ie*(5*Ze),Ge+=Q*(5*st),Ge+=ee*(5*ot),Ge+=le*(5*Qe),Ge+=Me*(5*w),Se+=Ge>>>13,Ge&=8191,Ye=Se,Ye+=Ne*w,Ye+=qe*Je,Ye+=we*Xe,Ye+=K*Ve,Ye+=W*(5*at),Se=Ye>>>13,Ye&=8191,Ye+=ie*(5*it),Ye+=Q*(5*Ze),Ye+=ee*(5*st),Ye+=le*(5*ot),Ye+=Me*(5*Qe),Se+=Ye>>>13,Ye&=8191,Ke=Se,Ke+=Ne*Qe,Ke+=qe*w,Ke+=we*Je,Ke+=K*Xe,Ke+=W*Ve,Se=Ke>>>13,Ke&=8191,Ke+=ie*(5*at),Ke+=Q*(5*it),Ke+=ee*(5*Ze),Ke+=le*(5*st),Ke+=Me*(5*ot),Se+=Ke>>>13,Ke&=8191,ze=Se,ze+=Ne*ot,ze+=qe*Qe,ze+=we*w,ze+=K*Je,ze+=W*Xe,Se=ze>>>13,ze&=8191,ze+=ie*Ve,ze+=Q*(5*at),ze+=ee*(5*it),ze+=le*(5*Ze),ze+=Me*(5*st),Se+=ze>>>13,ze&=8191,We=Se,We+=Ne*st,We+=qe*ot,We+=we*Qe,We+=K*w,We+=W*Je,Se=We>>>13,We&=8191,We+=ie*Xe,We+=Q*Ve,We+=ee*(5*at),We+=le*(5*it),We+=Me*(5*Ze),Se+=We>>>13,We&=8191,Ie=Se,Ie+=Ne*Ze,Ie+=qe*st,Ie+=we*ot,Ie+=K*Qe,Ie+=W*w,Se=Ie>>>13,Ie&=8191,Ie+=ie*Je,Ie+=Q*Xe,Ie+=ee*Ve,Ie+=le*(5*at),Ie+=Me*(5*it),Se+=Ie>>>13,Ie&=8191,Ue=Se,Ue+=Ne*it,Ue+=qe*Ze,Ue+=we*st,Ue+=K*ot,Ue+=W*Qe,Se=Ue>>>13,Ue&=8191,Ue+=ie*w,Ue+=Q*Je,Ue+=ee*Xe,Ue+=le*Ve,Ue+=Me*(5*at),Se+=Ue>>>13,Ue&=8191,Ce=Se,Ce+=Ne*at,Ce+=qe*it,Ce+=we*Ze,Ce+=K*st,Ce+=W*ot,Se=Ce>>>13,Ce&=8191,Ce+=ie*Qe,Ce+=Q*w,Ce+=ee*Je,Ce+=le*Xe,Ce+=Me*Ve,Se+=Ce>>>13,Ce&=8191,Se=(Se<<2)+Se|0,Se=Se+Le|0,Le=Se&8191,Se=Se>>>13,$e+=Se,Ne=Le,qe=$e,we=Ge,K=Ye,W=Ke,ie=ze,Q=We,ee=Ie,le=Ue,Me=Ce,l+=16,c-=16;this.h[0]=Ne,this.h[1]=qe,this.h[2]=we,this.h[3]=K,this.h[4]=W,this.h[5]=ie,this.h[6]=Q,this.h[7]=ee,this.h[8]=le,this.h[9]=Me},Pe.prototype.finish=function(a,l){var c=new Uint16Array(10),r,d,F,L;if(this.leftover){for(L=this.leftover,this.buffer[L++]=1;L<16;L++)this.buffer[L]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,L=2;L<10;L++)this.h[L]+=r,r=this.h[L]>>>13,this.h[L]&=8191;for(this.h[0]+=r*5,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,c[0]=this.h[0]+5,r=c[0]>>>13,c[0]&=8191,L=1;L<10;L++)c[L]=this.h[L]+r,r=c[L]>>>13,c[L]&=8191;for(c[9]-=8192,d=(r^1)-1,L=0;L<10;L++)c[L]&=d;for(d=~d,L=0;L<10;L++)this.h[L]=this.h[L]&d|c[L];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,F=this.h[0]+this.pad[0],this.h[0]=F&65535,L=1;L<8;L++)F=(this.h[L]+this.pad[L]|0)+(F>>>16)|0,this.h[L]=F&65535;a[l+0]=this.h[0]>>>0&255,a[l+1]=this.h[0]>>>8&255,a[l+2]=this.h[1]>>>0&255,a[l+3]=this.h[1]>>>8&255,a[l+4]=this.h[2]>>>0&255,a[l+5]=this.h[2]>>>8&255,a[l+6]=this.h[3]>>>0&255,a[l+7]=this.h[3]>>>8&255,a[l+8]=this.h[4]>>>0&255,a[l+9]=this.h[4]>>>8&255,a[l+10]=this.h[5]>>>0&255,a[l+11]=this.h[5]>>>8&255,a[l+12]=this.h[6]>>>0&255,a[l+13]=this.h[6]>>>8&255,a[l+14]=this.h[7]>>>0&255,a[l+15]=this.h[7]>>>8&255},Pe.prototype.update=function(a,l,c){var r,d;if(this.leftover){for(d=16-this.leftover,d>c&&(d=c),r=0;r<d;r++)this.buffer[this.leftover+r]=a[l+r];if(c-=d,l+=d,this.leftover+=d,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(c>=16&&(d=c-c%16,this.blocks(a,l,d),l+=d,c-=d),c){for(r=0;r<c;r++)this.buffer[this.leftover+r]=a[l+r];this.leftover+=c}};function ce(a,l,c,r,d,F){var L=new Pe(F);return L.update(c,r,d),L.finish(a,l),0}function et(a,l,c,r,d,F){var L=new Uint8Array(16);return ce(L,0,c,r,d,F),_(a,l,L,0)}function te(a,l,c,r,d){var F;if(c<32)return-1;for(ne(a,0,l,0,c,r,d),ce(a,16,a,32,c-32,a),F=0;F<16;F++)a[F]=0;return 0}function Oe(a,l,c,r,d){var F,L=new Uint8Array(32);if(c<32||(me(L,0,32,r,d),et(l,16,l,32,c-32,L)!==0))return-1;for(ne(a,0,l,0,c,r,d),F=0;F<32;F++)a[F]=0;return 0}function ke(a,l){var c;for(c=0;c<16;c++)a[c]=l[c]|0}function De(a){var l,c,r=1;for(l=0;l<16;l++)c=a[l]+r+65535,r=Math.floor(c/65536),a[l]=c-r*65536;a[0]+=r-1+37*(r-1)}function J(a,l,c){for(var r,d=~(c-1),F=0;F<16;F++)r=d&(a[F]^l[F]),a[F]^=r,l[F]^=r}function de(a,l){var c,r,d,F=t(),L=t();for(c=0;c<16;c++)L[c]=l[c];for(De(L),De(L),De(L),r=0;r<2;r++){for(F[0]=L[0]-65517,c=1;c<15;c++)F[c]=L[c]-65535-(F[c-1]>>16&1),F[c-1]&=65535;F[15]=L[15]-32767-(F[14]>>16&1),d=F[15]>>16&1,F[14]&=65535,J(L,F,1-d)}for(c=0;c<16;c++)a[2*c]=L[c]&255,a[2*c+1]=L[c]>>8}function pe(a,l){var c=new Uint8Array(32),r=new Uint8Array(32);return de(c,a),de(r,l),m(c,0,r,0)}function Ae(a){var l=new Uint8Array(32);return de(l,a),l[0]&1}function Fe(a,l){var c;for(c=0;c<16;c++)a[c]=l[2*c]+(l[2*c+1]<<8);a[15]&=32767}function Ee(a,l,c){for(var r=0;r<16;r++)a[r]=l[r]+c[r]}function oe(a,l,c){for(var r=0;r<16;r++)a[r]=l[r]-c[r]}function be(a,l,c){var r,d,F=0,L=0,Z=0,he=0,Te=0,xe=0,nt=0,Se=0,Le=0,$e=0,Ge=0,Ye=0,Ke=0,ze=0,We=0,Ie=0,Ue=0,Ce=0,Ne=0,qe=0,we=0,K=0,W=0,ie=0,Q=0,ee=0,le=0,Me=0,Ve=0,Xe=0,Je=0,w=c[0],Qe=c[1],ot=c[2],st=c[3],Ze=c[4],it=c[5],at=c[6],bt=c[7],dt=c[8],vt=c[9],mt=c[10],xt=c[11],Et=c[12],Ot=c[13],Pt=c[14],Rt=c[15];r=l[0],F+=r*w,L+=r*Qe,Z+=r*ot,he+=r*st,Te+=r*Ze,xe+=r*it,nt+=r*at,Se+=r*bt,Le+=r*dt,$e+=r*vt,Ge+=r*mt,Ye+=r*xt,Ke+=r*Et,ze+=r*Ot,We+=r*Pt,Ie+=r*Rt,r=l[1],L+=r*w,Z+=r*Qe,he+=r*ot,Te+=r*st,xe+=r*Ze,nt+=r*it,Se+=r*at,Le+=r*bt,$e+=r*dt,Ge+=r*vt,Ye+=r*mt,Ke+=r*xt,ze+=r*Et,We+=r*Ot,Ie+=r*Pt,Ue+=r*Rt,r=l[2],Z+=r*w,he+=r*Qe,Te+=r*ot,xe+=r*st,nt+=r*Ze,Se+=r*it,Le+=r*at,$e+=r*bt,Ge+=r*dt,Ye+=r*vt,Ke+=r*mt,ze+=r*xt,We+=r*Et,Ie+=r*Ot,Ue+=r*Pt,Ce+=r*Rt,r=l[3],he+=r*w,Te+=r*Qe,xe+=r*ot,nt+=r*st,Se+=r*Ze,Le+=r*it,$e+=r*at,Ge+=r*bt,Ye+=r*dt,Ke+=r*vt,ze+=r*mt,We+=r*xt,Ie+=r*Et,Ue+=r*Ot,Ce+=r*Pt,Ne+=r*Rt,r=l[4],Te+=r*w,xe+=r*Qe,nt+=r*ot,Se+=r*st,Le+=r*Ze,$e+=r*it,Ge+=r*at,Ye+=r*bt,Ke+=r*dt,ze+=r*vt,We+=r*mt,Ie+=r*xt,Ue+=r*Et,Ce+=r*Ot,Ne+=r*Pt,qe+=r*Rt,r=l[5],xe+=r*w,nt+=r*Qe,Se+=r*ot,Le+=r*st,$e+=r*Ze,Ge+=r*it,Ye+=r*at,Ke+=r*bt,ze+=r*dt,We+=r*vt,Ie+=r*mt,Ue+=r*xt,Ce+=r*Et,Ne+=r*Ot,qe+=r*Pt,we+=r*Rt,r=l[6],nt+=r*w,Se+=r*Qe,Le+=r*ot,$e+=r*st,Ge+=r*Ze,Ye+=r*it,Ke+=r*at,ze+=r*bt,We+=r*dt,Ie+=r*vt,Ue+=r*mt,Ce+=r*xt,Ne+=r*Et,qe+=r*Ot,we+=r*Pt,K+=r*Rt,r=l[7],Se+=r*w,Le+=r*Qe,$e+=r*ot,Ge+=r*st,Ye+=r*Ze,Ke+=r*it,ze+=r*at,We+=r*bt,Ie+=r*dt,Ue+=r*vt,Ce+=r*mt,Ne+=r*xt,qe+=r*Et,we+=r*Ot,K+=r*Pt,W+=r*Rt,r=l[8],Le+=r*w,$e+=r*Qe,Ge+=r*ot,Ye+=r*st,Ke+=r*Ze,ze+=r*it,We+=r*at,Ie+=r*bt,Ue+=r*dt,Ce+=r*vt,Ne+=r*mt,qe+=r*xt,we+=r*Et,K+=r*Ot,W+=r*Pt,ie+=r*Rt,r=l[9],$e+=r*w,Ge+=r*Qe,Ye+=r*ot,Ke+=r*st,ze+=r*Ze,We+=r*it,Ie+=r*at,Ue+=r*bt,Ce+=r*dt,Ne+=r*vt,qe+=r*mt,we+=r*xt,K+=r*Et,W+=r*Ot,ie+=r*Pt,Q+=r*Rt,r=l[10],Ge+=r*w,Ye+=r*Qe,Ke+=r*ot,ze+=r*st,We+=r*Ze,Ie+=r*it,Ue+=r*at,Ce+=r*bt,Ne+=r*dt,qe+=r*vt,we+=r*mt,K+=r*xt,W+=r*Et,ie+=r*Ot,Q+=r*Pt,ee+=r*Rt,r=l[11],Ye+=r*w,Ke+=r*Qe,ze+=r*ot,We+=r*st,Ie+=r*Ze,Ue+=r*it,Ce+=r*at,Ne+=r*bt,qe+=r*dt,we+=r*vt,K+=r*mt,W+=r*xt,ie+=r*Et,Q+=r*Ot,ee+=r*Pt,le+=r*Rt,r=l[12],Ke+=r*w,ze+=r*Qe,We+=r*ot,Ie+=r*st,Ue+=r*Ze,Ce+=r*it,Ne+=r*at,qe+=r*bt,we+=r*dt,K+=r*vt,W+=r*mt,ie+=r*xt,Q+=r*Et,ee+=r*Ot,le+=r*Pt,Me+=r*Rt,r=l[13],ze+=r*w,We+=r*Qe,Ie+=r*ot,Ue+=r*st,Ce+=r*Ze,Ne+=r*it,qe+=r*at,we+=r*bt,K+=r*dt,W+=r*vt,ie+=r*mt,Q+=r*xt,ee+=r*Et,le+=r*Ot,Me+=r*Pt,Ve+=r*Rt,r=l[14],We+=r*w,Ie+=r*Qe,Ue+=r*ot,Ce+=r*st,Ne+=r*Ze,qe+=r*it,we+=r*at,K+=r*bt,W+=r*dt,ie+=r*vt,Q+=r*mt,ee+=r*xt,le+=r*Et,Me+=r*Ot,Ve+=r*Pt,Xe+=r*Rt,r=l[15],Ie+=r*w,Ue+=r*Qe,Ce+=r*ot,Ne+=r*st,qe+=r*Ze,we+=r*it,K+=r*at,W+=r*bt,ie+=r*dt,Q+=r*vt,ee+=r*mt,le+=r*xt,Me+=r*Et,Ve+=r*Ot,Xe+=r*Pt,Je+=r*Rt,F+=38*Ue,L+=38*Ce,Z+=38*Ne,he+=38*qe,Te+=38*we,xe+=38*K,nt+=38*W,Se+=38*ie,Le+=38*Q,$e+=38*ee,Ge+=38*le,Ye+=38*Me,Ke+=38*Ve,ze+=38*Xe,We+=38*Je,d=1,r=F+d+65535,d=Math.floor(r/65536),F=r-d*65536,r=L+d+65535,d=Math.floor(r/65536),L=r-d*65536,r=Z+d+65535,d=Math.floor(r/65536),Z=r-d*65536,r=he+d+65535,d=Math.floor(r/65536),he=r-d*65536,r=Te+d+65535,d=Math.floor(r/65536),Te=r-d*65536,r=xe+d+65535,d=Math.floor(r/65536),xe=r-d*65536,r=nt+d+65535,d=Math.floor(r/65536),nt=r-d*65536,r=Se+d+65535,d=Math.floor(r/65536),Se=r-d*65536,r=Le+d+65535,d=Math.floor(r/65536),Le=r-d*65536,r=$e+d+65535,d=Math.floor(r/65536),$e=r-d*65536,r=Ge+d+65535,d=Math.floor(r/65536),Ge=r-d*65536,r=Ye+d+65535,d=Math.floor(r/65536),Ye=r-d*65536,r=Ke+d+65535,d=Math.floor(r/65536),Ke=r-d*65536,r=ze+d+65535,d=Math.floor(r/65536),ze=r-d*65536,r=We+d+65535,d=Math.floor(r/65536),We=r-d*65536,r=Ie+d+65535,d=Math.floor(r/65536),Ie=r-d*65536,F+=d-1+37*(d-1),d=1,r=F+d+65535,d=Math.floor(r/65536),F=r-d*65536,r=L+d+65535,d=Math.floor(r/65536),L=r-d*65536,r=Z+d+65535,d=Math.floor(r/65536),Z=r-d*65536,r=he+d+65535,d=Math.floor(r/65536),he=r-d*65536,r=Te+d+65535,d=Math.floor(r/65536),Te=r-d*65536,r=xe+d+65535,d=Math.floor(r/65536),xe=r-d*65536,r=nt+d+65535,d=Math.floor(r/65536),nt=r-d*65536,r=Se+d+65535,d=Math.floor(r/65536),Se=r-d*65536,r=Le+d+65535,d=Math.floor(r/65536),Le=r-d*65536,r=$e+d+65535,d=Math.floor(r/65536),$e=r-d*65536,r=Ge+d+65535,d=Math.floor(r/65536),Ge=r-d*65536,r=Ye+d+65535,d=Math.floor(r/65536),Ye=r-d*65536,r=Ke+d+65535,d=Math.floor(r/65536),Ke=r-d*65536,r=ze+d+65535,d=Math.floor(r/65536),ze=r-d*65536,r=We+d+65535,d=Math.floor(r/65536),We=r-d*65536,r=Ie+d+65535,d=Math.floor(r/65536),Ie=r-d*65536,F+=d-1+37*(d-1),a[0]=F,a[1]=L,a[2]=Z,a[3]=he,a[4]=Te,a[5]=xe,a[6]=nt,a[7]=Se,a[8]=Le,a[9]=$e,a[10]=Ge,a[11]=Ye,a[12]=Ke,a[13]=ze,a[14]=We,a[15]=Ie}function Be(a,l){be(a,l,l)}function ft(a,l){var c=t(),r;for(r=0;r<16;r++)c[r]=l[r];for(r=253;r>=0;r--)Be(c,c),r!==2&&r!==4&&be(c,c,l);for(r=0;r<16;r++)a[r]=c[r]}function _e(a,l){var c=t(),r;for(r=0;r<16;r++)c[r]=l[r];for(r=250;r>=0;r--)Be(c,c),r!==1&&be(c,c,l);for(r=0;r<16;r++)a[r]=c[r]}function ye(a,l,c){var r=new Uint8Array(32),d=new Float64Array(80),F,L,Z=t(),he=t(),Te=t(),xe=t(),nt=t(),Se=t();for(L=0;L<31;L++)r[L]=l[L];for(r[31]=l[31]&127|64,r[0]&=248,Fe(d,c),L=0;L<16;L++)he[L]=d[L],xe[L]=Z[L]=Te[L]=0;for(Z[0]=xe[0]=1,L=254;L>=0;--L)F=r[L>>>3]>>>(L&7)&1,J(Z,he,F),J(Te,xe,F),Ee(nt,Z,Te),oe(Z,Z,Te),Ee(Te,he,xe),oe(he,he,xe),Be(xe,nt),Be(Se,Z),be(Z,Te,Z),be(Te,he,nt),Ee(nt,Z,Te),oe(Z,Z,Te),Be(he,Z),oe(Te,xe,Se),be(Z,Te,h),Ee(Z,Z,xe),be(Te,Te,Z),be(Z,xe,Se),be(xe,he,d),Be(he,nt),J(Z,he,F),J(Te,xe,F);for(L=0;L<16;L++)d[L+16]=Z[L],d[L+32]=Te[L],d[L+48]=he[L],d[L+64]=xe[L];var Le=d.subarray(32),$e=d.subarray(16);return ft(Le,Le),be($e,$e,Le),de(a,$e),0}function b(a,l){return ye(a,l,s)}function T(a,l){return n(l,32),b(a,l)}function q(a,l,c){var r=new Uint8Array(32);return ye(r,c,l),S(a,o,r,j)}var G=te,V=Oe;function X(a,l,c,r,d,F){var L=new Uint8Array(32);return q(L,d,F),G(a,l,c,r,L)}function ue(a,l,c,r,d,F){var L=new Uint8Array(32);return q(L,d,F),V(a,l,c,r,L)}var P=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function D(a,l,c,r){for(var d=new Int32Array(16),F=new Int32Array(16),L,Z,he,Te,xe,nt,Se,Le,$e,Ge,Ye,Ke,ze,We,Ie,Ue,Ce,Ne,qe,we,K,W,ie,Q,ee,le,Me=a[0],Ve=a[1],Xe=a[2],Je=a[3],w=a[4],Qe=a[5],ot=a[6],st=a[7],Ze=l[0],it=l[1],at=l[2],bt=l[3],dt=l[4],vt=l[5],mt=l[6],xt=l[7],Et=0;r>=128;){for(qe=0;qe<16;qe++)we=8*qe+Et,d[qe]=c[we+0]<<24|c[we+1]<<16|c[we+2]<<8|c[we+3],F[qe]=c[we+4]<<24|c[we+5]<<16|c[we+6]<<8|c[we+7];for(qe=0;qe<80;qe++)if(L=Me,Z=Ve,he=Xe,Te=Je,xe=w,nt=Qe,Se=ot,Le=st,$e=Ze,Ge=it,Ye=at,Ke=bt,ze=dt,We=vt,Ie=mt,Ue=xt,K=st,W=xt,ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=(w>>>14|dt<<18)^(w>>>18|dt<<14)^(dt>>>9|w<<23),W=(dt>>>14|w<<18)^(dt>>>18|w<<14)^(w>>>9|dt<<23),ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,K=w&Qe^~w&ot,W=dt&vt^~dt&mt,ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,K=P[qe*2],W=P[qe*2+1],ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,K=d[qe%16],W=F[qe%16],ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,Ce=ee&65535|le<<16,Ne=ie&65535|Q<<16,K=Ce,W=Ne,ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=(Me>>>28|Ze<<4)^(Ze>>>2|Me<<30)^(Ze>>>7|Me<<25),W=(Ze>>>28|Me<<4)^(Me>>>2|Ze<<30)^(Me>>>7|Ze<<25),ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,K=Me&Ve^Me&Xe^Ve&Xe,W=Ze&it^Ze&at^it&at,ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,Le=ee&65535|le<<16,Ue=ie&65535|Q<<16,K=Te,W=Ke,ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=Ce,W=Ne,ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,Te=ee&65535|le<<16,Ke=ie&65535|Q<<16,Ve=L,Xe=Z,Je=he,w=Te,Qe=xe,ot=nt,st=Se,Me=Le,it=$e,at=Ge,bt=Ye,dt=Ke,vt=ze,mt=We,xt=Ie,Ze=Ue,qe%16===15)for(we=0;we<16;we++)K=d[we],W=F[we],ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=d[(we+9)%16],W=F[(we+9)%16],ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Ce=d[(we+1)%16],Ne=F[(we+1)%16],K=(Ce>>>1|Ne<<31)^(Ce>>>8|Ne<<24)^Ce>>>7,W=(Ne>>>1|Ce<<31)^(Ne>>>8|Ce<<24)^(Ne>>>7|Ce<<25),ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Ce=d[(we+14)%16],Ne=F[(we+14)%16],K=(Ce>>>19|Ne<<13)^(Ne>>>29|Ce<<3)^Ce>>>6,W=(Ne>>>19|Ce<<13)^(Ce>>>29|Ne<<3)^(Ne>>>6|Ce<<26),ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,d[we]=ee&65535|le<<16,F[we]=ie&65535|Q<<16;K=Me,W=Ze,ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=a[0],W=l[0],ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,a[0]=Me=ee&65535|le<<16,l[0]=Ze=ie&65535|Q<<16,K=Ve,W=it,ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=a[1],W=l[1],ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,a[1]=Ve=ee&65535|le<<16,l[1]=it=ie&65535|Q<<16,K=Xe,W=at,ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=a[2],W=l[2],ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,a[2]=Xe=ee&65535|le<<16,l[2]=at=ie&65535|Q<<16,K=Je,W=bt,ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=a[3],W=l[3],ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,a[3]=Je=ee&65535|le<<16,l[3]=bt=ie&65535|Q<<16,K=w,W=dt,ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=a[4],W=l[4],ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,a[4]=w=ee&65535|le<<16,l[4]=dt=ie&65535|Q<<16,K=Qe,W=vt,ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=a[5],W=l[5],ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,a[5]=Qe=ee&65535|le<<16,l[5]=vt=ie&65535|Q<<16,K=ot,W=mt,ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=a[6],W=l[6],ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,a[6]=ot=ee&65535|le<<16,l[6]=mt=ie&65535|Q<<16,K=st,W=xt,ie=W&65535,Q=W>>>16,ee=K&65535,le=K>>>16,K=a[7],W=l[7],ie+=W&65535,Q+=W>>>16,ee+=K&65535,le+=K>>>16,Q+=ie>>>16,ee+=Q>>>16,le+=ee>>>16,a[7]=st=ee&65535|le<<16,l[7]=xt=ie&65535|Q<<16,Et+=128,r-=128}return r}function z(a,l,c){var r=new Int32Array(8),d=new Int32Array(8),F=new Uint8Array(256),L,Z=c;for(r[0]=1779033703,r[1]=3144134277,r[2]=1013904242,r[3]=2773480762,r[4]=1359893119,r[5]=2600822924,r[6]=528734635,r[7]=1541459225,d[0]=4089235720,d[1]=2227873595,d[2]=4271175723,d[3]=1595750129,d[4]=2917565137,d[5]=725511199,d[6]=4215389547,d[7]=327033209,D(r,d,l,c),c%=128,L=0;L<c;L++)F[L]=l[Z-c+L];for(F[c]=128,c=256-128*(c<112?1:0),F[c-9]=0,R(F,c-8,Z/536870912|0,Z<<3),D(r,d,F,c),L=0;L<8;L++)R(a,8*L,r[L],d[L]);return 0}function Y(a,l){var c=t(),r=t(),d=t(),F=t(),L=t(),Z=t(),he=t(),Te=t(),xe=t();oe(c,a[1],a[0]),oe(xe,l[1],l[0]),be(c,c,xe),Ee(r,a[0],a[1]),Ee(xe,l[0],l[1]),be(r,r,xe),be(d,a[3],l[3]),be(d,d,O),be(F,a[2],l[2]),Ee(F,F,F),oe(L,r,c),oe(Z,F,d),Ee(he,F,d),Ee(Te,r,c),be(a[0],L,Z),be(a[1],Te,he),be(a[2],he,Z),be(a[3],L,Te)}function ge(a,l,c){var r;for(r=0;r<4;r++)J(a[r],l[r],c)}function je(a,l){var c=t(),r=t(),d=t();ft(d,l[2]),be(c,l[0],d),be(r,l[1],d),de(a,r),a[31]^=Ae(c)<<7}function He(a,l,c){var r,d;for(ke(a[0],u),ke(a[1],f),ke(a[2],f),ke(a[3],u),d=255;d>=0;--d)r=c[d/8|0]>>(d&7)&1,ge(a,l,r),Y(l,a),Y(a,a),ge(a,l,r)}function ut(a,l){var c=[t(),t(),t(),t()];ke(c[0],A),ke(c[1],N),ke(c[2],f),be(c[3],A,N),He(a,c,l)}function lt(a,l,c){var r=new Uint8Array(64),d=[t(),t(),t(),t()],F;for(c||n(l,32),z(r,l,32),r[0]&=248,r[31]&=127,r[31]|=64,ut(d,r),je(a,d),F=0;F<32;F++)l[F+32]=a[F];return 0}var _t=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function I(a,l){var c,r,d,F;for(r=63;r>=32;--r){for(c=0,d=r-32,F=r-12;d<F;++d)l[d]+=c-16*l[r]*_t[d-(r-32)],c=l[d]+128>>8,l[d]-=c*256;l[d]+=c,l[r]=0}for(c=0,d=0;d<32;d++)l[d]+=c-(l[31]>>4)*_t[d],c=l[d]>>8,l[d]&=255;for(d=0;d<32;d++)l[d]-=c*_t[d];for(r=0;r<32;r++)l[r+1]+=l[r]>>8,a[r]=l[r]&255}function y(a){var l=new Float64Array(64),c;for(c=0;c<64;c++)l[c]=a[c];for(c=0;c<64;c++)a[c]=0;I(a,l)}function v(a,l,c,r){var d=new Uint8Array(64),F=new Uint8Array(64),L=new Uint8Array(64),Z,he,Te=new Float64Array(64),xe=[t(),t(),t(),t()];z(d,r,32),d[0]&=248,d[31]&=127,d[31]|=64;var nt=c+64;for(Z=0;Z<c;Z++)a[64+Z]=l[Z];for(Z=0;Z<32;Z++)a[32+Z]=d[32+Z];for(z(L,a.subarray(32),c+32),y(L),ut(xe,L),je(a,xe),Z=32;Z<64;Z++)a[Z]=r[Z];for(z(F,a,c+64),y(F),Z=0;Z<64;Z++)Te[Z]=0;for(Z=0;Z<32;Z++)Te[Z]=L[Z];for(Z=0;Z<32;Z++)for(he=0;he<32;he++)Te[Z+he]+=F[Z]*d[he];return I(a.subarray(32),Te),nt}function $(a,l){var c=t(),r=t(),d=t(),F=t(),L=t(),Z=t(),he=t();return ke(a[2],f),Fe(a[1],l),Be(d,a[1]),be(F,d,g),oe(d,d,a[2]),Ee(F,a[2],F),Be(L,F),Be(Z,L),be(he,Z,L),be(c,he,d),be(c,c,F),_e(c,c),be(c,c,d),be(c,c,F),be(c,c,F),be(a[0],c,F),Be(r,a[0]),be(r,r,F),pe(r,d)&&be(a[0],a[0],C),Be(r,a[0]),be(r,r,F),pe(r,d)?-1:(Ae(a[0])===l[31]>>7&&oe(a[0],u,a[0]),be(a[3],a[0],a[1]),0)}function se(a,l,c,r){var d,F,L=new Uint8Array(32),Z=new Uint8Array(64),he=[t(),t(),t(),t()],Te=[t(),t(),t(),t()];if(F=-1,c<64||$(Te,r))return-1;for(d=0;d<c;d++)a[d]=l[d];for(d=0;d<32;d++)a[d+32]=r[d];if(z(Z,a,c),y(Z),He(he,Te,Z),ut(Te,l.subarray(32)),Y(he,Te),je(L,he),c-=64,m(l,0,L,0)){for(d=0;d<c;d++)a[d]=0;return-1}for(d=0;d<c;d++)a[d]=l[d+64];return F=c,F}var ve=32,Re=24,ht=32,pt=16,ae=32,fe=32,rt=32,St=32,At=32,gt=Re,er=ht,rr=pt,Ct=64,qt=32,Kt=64,Yt=32,jt=64;e.lowlevel={crypto_core_hsalsa20:S,crypto_stream_xor:ne,crypto_stream:me,crypto_stream_salsa20_xor:U,crypto_stream_salsa20:re,crypto_onetimeauth:ce,crypto_onetimeauth_verify:et,crypto_verify_16:_,crypto_verify_32:m,crypto_secretbox:te,crypto_secretbox_open:Oe,crypto_scalarmult:ye,crypto_scalarmult_base:b,crypto_box_beforenm:q,crypto_box_afternm:G,crypto_box:X,crypto_box_open:ue,crypto_box_keypair:T,crypto_hash:z,crypto_sign:v,crypto_sign_keypair:lt,crypto_sign_open:se,crypto_secretbox_KEYBYTES:ve,crypto_secretbox_NONCEBYTES:Re,crypto_secretbox_ZEROBYTES:ht,crypto_secretbox_BOXZEROBYTES:pt,crypto_scalarmult_BYTES:ae,crypto_scalarmult_SCALARBYTES:fe,crypto_box_PUBLICKEYBYTES:rt,crypto_box_SECRETKEYBYTES:St,crypto_box_BEFORENMBYTES:At,crypto_box_NONCEBYTES:gt,crypto_box_ZEROBYTES:er,crypto_box_BOXZEROBYTES:rr,crypto_sign_BYTES:Ct,crypto_sign_PUBLICKEYBYTES:qt,crypto_sign_SECRETKEYBYTES:Kt,crypto_sign_SEEDBYTES:Yt,crypto_hash_BYTES:jt};function xr(a,l){if(a.length!==ve)throw new Error("bad key size");if(l.length!==Re)throw new Error("bad nonce size")}function an(a,l){if(a.length!==rt)throw new Error("bad public key size");if(l.length!==St)throw new Error("bad secret key size")}function It(){var a,l;for(l=0;l<arguments.length;l++)if((a=Object.prototype.toString.call(arguments[l]))!=="[object Uint8Array]")throw new TypeError("unexpected type "+a+", use Uint8Array")}function nr(a){for(var l=0;l<a.length;l++)a[l]=0}e.util||(e.util={},e.util.decodeUTF8=e.util.encodeUTF8=e.util.encodeBase64=e.util.decodeBase64=function(){throw new Error("nacl.util moved into separate package: https://github.com/dchest/tweetnacl-util-js")}),e.randomBytes=function(a){var l=new Uint8Array(a);return n(l,a),l},e.secretbox=function(a,l,c){It(a,l,c),xr(c,l);for(var r=new Uint8Array(ht+a.length),d=new Uint8Array(r.length),F=0;F<a.length;F++)r[F+ht]=a[F];return te(d,r,r.length,l,c),d.subarray(pt)},e.secretbox.open=function(a,l,c){It(a,l,c),xr(c,l);for(var r=new Uint8Array(pt+a.length),d=new Uint8Array(r.length),F=0;F<a.length;F++)r[F+pt]=a[F];return r.length<32||Oe(d,r,r.length,l,c)!==0?!1:d.subarray(ht)},e.secretbox.keyLength=ve,e.secretbox.nonceLength=Re,e.secretbox.overheadLength=pt,e.scalarMult=function(a,l){if(It(a,l),a.length!==fe)throw new Error("bad n size");if(l.length!==ae)throw new Error("bad p size");var c=new Uint8Array(ae);return ye(c,a,l),c},e.scalarMult.base=function(a){if(It(a),a.length!==fe)throw new Error("bad n size");var l=new Uint8Array(ae);return b(l,a),l},e.scalarMult.scalarLength=fe,e.scalarMult.groupElementLength=ae,e.box=function(a,l,c,r){var d=e.box.before(c,r);return e.secretbox(a,l,d)},e.box.before=function(a,l){It(a,l),an(a,l);var c=new Uint8Array(At);return q(c,a,l),c},e.box.after=e.secretbox,e.box.open=function(a,l,c,r){var d=e.box.before(c,r);return e.secretbox.open(a,l,d)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var a=new Uint8Array(rt),l=new Uint8Array(St);return T(a,l),{publicKey:a,secretKey:l}},e.box.keyPair.fromSecretKey=function(a){if(It(a),a.length!==St)throw new Error("bad secret key size");var l=new Uint8Array(rt);return b(l,a),{publicKey:l,secretKey:new Uint8Array(a)}},e.box.publicKeyLength=rt,e.box.secretKeyLength=St,e.box.sharedKeyLength=At,e.box.nonceLength=gt,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(a,l){if(It(a,l),l.length!==Kt)throw new Error("bad secret key size");var c=new Uint8Array(Ct+a.length);return v(c,a,a.length,l),c},e.sign.open=function(a,l){if(arguments.length!==2)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");if(It(a,l),l.length!==qt)throw new Error("bad public key size");var c=new Uint8Array(a.length),r=se(c,a,a.length,l);if(r<0)return null;for(var d=new Uint8Array(r),F=0;F<d.length;F++)d[F]=c[F];return d},e.sign.detached=function(a,l){for(var c=e.sign(a,l),r=new Uint8Array(Ct),d=0;d<r.length;d++)r[d]=c[d];return r},e.sign.detached.verify=function(a,l,c){if(It(a,l,c),l.length!==Ct)throw new Error("bad signature size");if(c.length!==qt)throw new Error("bad public key size");var r=new Uint8Array(Ct+a.length),d=new Uint8Array(Ct+a.length),F;for(F=0;F<Ct;F++)r[F]=l[F];for(F=0;F<a.length;F++)r[F+Ct]=a[F];return se(d,r,r.length,c)>=0},e.sign.keyPair=function(){var a=new Uint8Array(qt),l=new Uint8Array(Kt);return lt(a,l),{publicKey:a,secretKey:l}},e.sign.keyPair.fromSecretKey=function(a){if(It(a),a.length!==Kt)throw new Error("bad secret key size");for(var l=new Uint8Array(qt),c=0;c<l.length;c++)l[c]=a[32+c];return{publicKey:l,secretKey:new Uint8Array(a)}},e.sign.keyPair.fromSeed=function(a){if(It(a),a.length!==Yt)throw new Error("bad seed size");for(var l=new Uint8Array(qt),c=new Uint8Array(Kt),r=0;r<32;r++)c[r]=a[r];return lt(l,c,!0),{publicKey:l,secretKey:c}},e.sign.publicKeyLength=qt,e.sign.secretKeyLength=Kt,e.sign.seedLength=Yt,e.sign.signatureLength=Ct,e.hash=function(a){It(a);var l=new Uint8Array(jt);return z(l,a,a.length),l},e.hash.hashLength=jt,e.verify=function(a,l){return It(a,l),a.length===0||l.length===0||a.length!==l.length?!1:k(a,0,l,0,a.length)===0},e.setPRNG=function(a){n=a},function(){var a=typeof self<"u"?self.crypto||self.msCrypto:null;if(a&&a.getRandomValues){var l=65536;e.setPRNG(function(c,r){var d,F=new Uint8Array(r);for(d=0;d<r;d+=l)a.getRandomValues(F.subarray(d,d+Math.min(r-d,l)));for(d=0;d<r;d++)c[d]=F[d];nr(F)})}else typeof Mc<"u"&&(a=wi,a&&a.randomBytes&&e.setPRNG(function(c,r){var d,F=a.randomBytes(r);for(d=0;d<r;d++)c[d]=F[d];nr(F)}))}()})(i.exports?i.exports:self.nacl=self.nacl||{})}(Ea)),Ea.exports}var qi={exports:{}},pu;function dl(){return pu||(pu=1,function(i,e){var t=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof pr<"u")return pr;throw new Error("unable to locate global object")},n=t();i.exports=e=n.fetch,n.fetch&&(e.default=n.fetch.bind(n)),e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response}(qi,qi.exports)),qi.exports}var Sa,yu;function jd(){if(yu)return Sa;yu=1,Sa={unescape:i,escape:e,encode:t,decode:n};function i(o){return(o+"===".slice((o.length+3)%4)).replace(/-/g,"+").replace(/_/g,"/")}function e(o){return o.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function t(o,s){return e(Buffer.from(o,s||"utf8").toString("base64"))}function n(o,s){return Buffer.from(i(o),"base64").toString(s||"utf8")}return Sa}var Xr={},mi={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var Ld=mi.exports,gu;function kd(){return gu||(gu=1,function(i,e){(function(t){var n=e&&!e.nodeType&&e,o=i&&!i.nodeType&&i,s=typeof pr=="object"&&pr;(s.global===s||s.window===s||s.self===s)&&(t=s);var u,f=2147483647,h=36,g=1,O=26,A=38,N=700,C=72,R=128,k="-",_=/^xn--/,m=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=h-g,S=Math.floor,j=String.fromCharCode,U;function re(pe){throw new RangeError(B[pe])}function me(pe,Ae){for(var Fe=pe.length,Ee=[];Fe--;)Ee[Fe]=Ae(pe[Fe]);return Ee}function ne(pe,Ae){var Fe=pe.split("@"),Ee="";Fe.length>1&&(Ee=Fe[0]+"@",pe=Fe[1]),pe=pe.replace(E,".");var oe=pe.split("."),be=me(oe,Ae).join(".");return Ee+be}function Pe(pe){for(var Ae=[],Fe=0,Ee=pe.length,oe,be;Fe<Ee;)oe=pe.charCodeAt(Fe++),oe>=55296&&oe<=56319&&Fe<Ee?(be=pe.charCodeAt(Fe++),(be&64512)==56320?Ae.push(((oe&1023)<<10)+(be&1023)+65536):(Ae.push(oe),Fe--)):Ae.push(oe);return Ae}function ce(pe){return me(pe,function(Ae){var Fe="";return Ae>65535&&(Ae-=65536,Fe+=j(Ae>>>10&1023|55296),Ae=56320|Ae&1023),Fe+=j(Ae),Fe}).join("")}function et(pe){return pe-48<10?pe-22:pe-65<26?pe-65:pe-97<26?pe-97:h}function te(pe,Ae){return pe+22+75*(pe<26)-((Ae!=0)<<5)}function Oe(pe,Ae,Fe){var Ee=0;for(pe=Fe?S(pe/N):pe>>1,pe+=S(pe/Ae);pe>M*O>>1;Ee+=h)pe=S(pe/M);return S(Ee+(M+1)*pe/(pe+A))}function ke(pe){var Ae=[],Fe=pe.length,Ee,oe=0,be=R,Be=C,ft,_e,ye,b,T,q,G,V,X;for(ft=pe.lastIndexOf(k),ft<0&&(ft=0),_e=0;_e<ft;++_e)pe.charCodeAt(_e)>=128&&re("not-basic"),Ae.push(pe.charCodeAt(_e));for(ye=ft>0?ft+1:0;ye<Fe;){for(b=oe,T=1,q=h;ye>=Fe&&re("invalid-input"),G=et(pe.charCodeAt(ye++)),(G>=h||G>S((f-oe)/T))&&re("overflow"),oe+=G*T,V=q<=Be?g:q>=Be+O?O:q-Be,!(G<V);q+=h)X=h-V,T>S(f/X)&&re("overflow"),T*=X;Ee=Ae.length+1,Be=Oe(oe-b,Ee,b==0),S(oe/Ee)>f-be&&re("overflow"),be+=S(oe/Ee),oe%=Ee,Ae.splice(oe++,0,be)}return ce(Ae)}function De(pe){var Ae,Fe,Ee,oe,be,Be,ft,_e,ye,b,T,q=[],G,V,X,ue;for(pe=Pe(pe),G=pe.length,Ae=R,Fe=0,be=C,Be=0;Be<G;++Be)T=pe[Be],T<128&&q.push(j(T));for(Ee=oe=q.length,oe&&q.push(k);Ee<G;){for(ft=f,Be=0;Be<G;++Be)T=pe[Be],T>=Ae&&T<ft&&(ft=T);for(V=Ee+1,ft-Ae>S((f-Fe)/V)&&re("overflow"),Fe+=(ft-Ae)*V,Ae=ft,Be=0;Be<G;++Be)if(T=pe[Be],T<Ae&&++Fe>f&&re("overflow"),T==Ae){for(_e=Fe,ye=h;b=ye<=be?g:ye>=be+O?O:ye-be,!(_e<b);ye+=h)ue=_e-b,X=h-b,q.push(j(te(b+ue%X,0))),_e=S(ue/X);q.push(j(te(_e,0))),be=Oe(Fe,V,Ee==oe),Fe=0,++Ee}++Fe,++Ae}return q.join("")}function J(pe){return ne(pe,function(Ae){return _.test(Ae)?ke(Ae.slice(4).toLowerCase()):Ae})}function de(pe){return ne(pe,function(Ae){return m.test(Ae)?"xn--"+De(Ae):Ae})}if(u={version:"1.4.1",ucs2:{decode:Pe,encode:ce},decode:ke,encode:De,toASCII:de,toUnicode:J},n&&o)if(i.exports==n)o.exports=u;else for(U in u)u.hasOwnProperty(U)&&(n[U]=u[U]);else t.punycode=u})(Ld)}(mi,mi.exports)),mi.exports}var Aa,vu;function vn(){return vu||(vu=1,Aa=TypeError),Aa}var Ca,mu;function Vi(){if(mu)return Ca;mu=1;var i=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=i&&e&&typeof e.get=="function"?e.get:null,n=i&&Map.prototype.forEach,o=typeof Set=="function"&&Set.prototype,s=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=o&&s&&typeof s.get=="function"?s.get:null,f=o&&Set.prototype.forEach,h=typeof WeakMap=="function"&&WeakMap.prototype,g=h?WeakMap.prototype.has:null,O=typeof WeakSet=="function"&&WeakSet.prototype,A=O?WeakSet.prototype.has:null,N=typeof WeakRef=="function"&&WeakRef.prototype,C=N?WeakRef.prototype.deref:null,R=Boolean.prototype.valueOf,k=Object.prototype.toString,_=Function.prototype.toString,m=String.prototype.match,E=String.prototype.slice,B=String.prototype.replace,M=String.prototype.toUpperCase,S=String.prototype.toLowerCase,j=RegExp.prototype.test,U=Array.prototype.concat,re=Array.prototype.join,me=Array.prototype.slice,ne=Math.floor,Pe=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ce=Object.getOwnPropertySymbols,et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,te=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Oe=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===te||!0)?Symbol.toStringTag:null,ke=Object.prototype.propertyIsEnumerable,De=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ae){return ae.__proto__}:null);function J(ae,fe){if(ae===1/0||ae===-1/0||ae!==ae||ae&&ae>-1e3&&ae<1e3||j.call(/e/,fe))return fe;var rt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof ae=="number"){var St=ae<0?-ne(-ae):ne(ae);if(St!==ae){var At=String(St),gt=E.call(fe,At.length+1);return B.call(At,rt,"$&_")+"."+B.call(B.call(gt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return B.call(fe,rt,"$&_")}var de=wi,pe=de.custom,Ae=V(pe)?pe:null,Fe={__proto__:null,double:'"',single:"'"},Ee={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Ca=function ae(fe,rt,St,At){var gt=rt||{};if(P(gt,"quoteStyle")&&!P(Fe,gt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(P(gt,"maxStringLength")&&(typeof gt.maxStringLength=="number"?gt.maxStringLength<0&&gt.maxStringLength!==1/0:gt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var er=P(gt,"customInspect")?gt.customInspect:!0;if(typeof er!="boolean"&&er!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(P(gt,"indent")&&gt.indent!==null&&gt.indent!=="	"&&!(parseInt(gt.indent,10)===gt.indent&&gt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(P(gt,"numericSeparator")&&typeof gt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var rr=gt.numericSeparator;if(typeof fe>"u")return"undefined";if(fe===null)return"null";if(typeof fe=="boolean")return fe?"true":"false";if(typeof fe=="string")return I(fe,gt);if(typeof fe=="number"){if(fe===0)return 1/0/fe>0?"0":"-0";var Ct=String(fe);return rr?J(fe,Ct):Ct}if(typeof fe=="bigint"){var qt=String(fe)+"n";return rr?J(fe,qt):qt}var Kt=typeof gt.depth>"u"?5:gt.depth;if(typeof St>"u"&&(St=0),St>=Kt&&Kt>0&&typeof fe=="object")return ft(fe)?"[Array]":"[Object]";var Yt=Re(gt,St);if(typeof At>"u")At=[];else if(Y(At,fe)>=0)return"[Circular]";function jt(Se,Le,$e){if(Le&&(At=me.call(At),At.push(Le)),$e){var Ge={depth:gt.depth};return P(gt,"quoteStyle")&&(Ge.quoteStyle=gt.quoteStyle),ae(Se,Ge,St+1,At)}return ae(Se,gt,St+1,At)}if(typeof fe=="function"&&!ye(fe)){var xr=z(fe),an=pt(fe,jt);return"[Function"+(xr?": "+xr:" (anonymous)")+"]"+(an.length>0?" { "+re.call(an,", ")+" }":"")}if(V(fe)){var It=te?B.call(String(fe),/^(Symbol\(.*\))_[^)]*$/,"$1"):et.call(fe);return typeof fe=="object"&&!te?v(It):It}if(_t(fe)){for(var nr="<"+S.call(String(fe.nodeName)),a=fe.attributes||[],l=0;l<a.length;l++)nr+=" "+a[l].name+"="+oe(be(a[l].value),"double",gt);return nr+=">",fe.childNodes&&fe.childNodes.length&&(nr+="..."),nr+="</"+S.call(String(fe.nodeName))+">",nr}if(ft(fe)){if(fe.length===0)return"[]";var c=pt(fe,jt);return Yt&&!ve(c)?"["+ht(c,Yt)+"]":"[ "+re.call(c,", ")+" ]"}if(b(fe)){var r=pt(fe,jt);return!("cause"in Error.prototype)&&"cause"in fe&&!ke.call(fe,"cause")?"{ ["+String(fe)+"] "+re.call(U.call("[cause]: "+jt(fe.cause),r),", ")+" }":r.length===0?"["+String(fe)+"]":"{ ["+String(fe)+"] "+re.call(r,", ")+" }"}if(typeof fe=="object"&&er){if(Ae&&typeof fe[Ae]=="function"&&de)return de(fe,{depth:Kt-St});if(er!=="symbol"&&typeof fe.inspect=="function")return fe.inspect()}if(ge(fe)){var d=[];return n&&n.call(fe,function(Se,Le){d.push(jt(Le,fe,!0)+" => "+jt(Se,fe))}),se("Map",t.call(fe),d,Yt)}if(ut(fe)){var F=[];return f&&f.call(fe,function(Se){F.push(jt(Se,fe))}),se("Set",u.call(fe),F,Yt)}if(je(fe))return $("WeakMap");if(lt(fe))return $("WeakSet");if(He(fe))return $("WeakRef");if(q(fe))return v(jt(Number(fe)));if(X(fe))return v(jt(Pe.call(fe)));if(G(fe))return v(R.call(fe));if(T(fe))return v(jt(String(fe)));if(typeof window<"u"&&fe===window)return"{ [object Window] }";if(typeof globalThis<"u"&&fe===globalThis||typeof pr<"u"&&fe===pr)return"{ [object globalThis] }";if(!_e(fe)&&!ye(fe)){var L=pt(fe,jt),Z=De?De(fe)===Object.prototype:fe instanceof Object||fe.constructor===Object,he=fe instanceof Object?"":"null prototype",Te=!Z&&Oe&&Object(fe)===fe&&Oe in fe?E.call(D(fe),8,-1):he?"Object":"",xe=Z||typeof fe.constructor!="function"?"":fe.constructor.name?fe.constructor.name+" ":"",nt=xe+(Te||he?"["+re.call(U.call([],Te||[],he||[]),": ")+"] ":"");return L.length===0?nt+"{}":Yt?nt+"{"+ht(L,Yt)+"}":nt+"{ "+re.call(L,", ")+" }"}return String(fe)};function oe(ae,fe,rt){var St=rt.quoteStyle||fe,At=Fe[St];return At+ae+At}function be(ae){return B.call(String(ae),/"/g,"&quot;")}function Be(ae){return!Oe||!(typeof ae=="object"&&(Oe in ae||typeof ae[Oe]<"u"))}function ft(ae){return D(ae)==="[object Array]"&&Be(ae)}function _e(ae){return D(ae)==="[object Date]"&&Be(ae)}function ye(ae){return D(ae)==="[object RegExp]"&&Be(ae)}function b(ae){return D(ae)==="[object Error]"&&Be(ae)}function T(ae){return D(ae)==="[object String]"&&Be(ae)}function q(ae){return D(ae)==="[object Number]"&&Be(ae)}function G(ae){return D(ae)==="[object Boolean]"&&Be(ae)}function V(ae){if(te)return ae&&typeof ae=="object"&&ae instanceof Symbol;if(typeof ae=="symbol")return!0;if(!ae||typeof ae!="object"||!et)return!1;try{return et.call(ae),!0}catch{}return!1}function X(ae){if(!ae||typeof ae!="object"||!Pe)return!1;try{return Pe.call(ae),!0}catch{}return!1}var ue=Object.prototype.hasOwnProperty||function(ae){return ae in this};function P(ae,fe){return ue.call(ae,fe)}function D(ae){return k.call(ae)}function z(ae){if(ae.name)return ae.name;var fe=m.call(_.call(ae),/^function\s*([\w$]+)/);return fe?fe[1]:null}function Y(ae,fe){if(ae.indexOf)return ae.indexOf(fe);for(var rt=0,St=ae.length;rt<St;rt++)if(ae[rt]===fe)return rt;return-1}function ge(ae){if(!t||!ae||typeof ae!="object")return!1;try{t.call(ae);try{u.call(ae)}catch{return!0}return ae instanceof Map}catch{}return!1}function je(ae){if(!g||!ae||typeof ae!="object")return!1;try{g.call(ae,g);try{A.call(ae,A)}catch{return!0}return ae instanceof WeakMap}catch{}return!1}function He(ae){if(!C||!ae||typeof ae!="object")return!1;try{return C.call(ae),!0}catch{}return!1}function ut(ae){if(!u||!ae||typeof ae!="object")return!1;try{u.call(ae);try{t.call(ae)}catch{return!0}return ae instanceof Set}catch{}return!1}function lt(ae){if(!A||!ae||typeof ae!="object")return!1;try{A.call(ae,A);try{g.call(ae,g)}catch{return!0}return ae instanceof WeakSet}catch{}return!1}function _t(ae){return!ae||typeof ae!="object"?!1:typeof HTMLElement<"u"&&ae instanceof HTMLElement?!0:typeof ae.nodeName=="string"&&typeof ae.getAttribute=="function"}function I(ae,fe){if(ae.length>fe.maxStringLength){var rt=ae.length-fe.maxStringLength,St="... "+rt+" more character"+(rt>1?"s":"");return I(E.call(ae,0,fe.maxStringLength),fe)+St}var At=Ee[fe.quoteStyle||"single"];At.lastIndex=0;var gt=B.call(B.call(ae,At,"\\$1"),/[\x00-\x1f]/g,y);return oe(gt,"single",fe)}function y(ae){var fe=ae.charCodeAt(0),rt={8:"b",9:"t",10:"n",12:"f",13:"r"}[fe];return rt?"\\"+rt:"\\x"+(fe<16?"0":"")+M.call(fe.toString(16))}function v(ae){return"Object("+ae+")"}function $(ae){return ae+" { ? }"}function se(ae,fe,rt,St){var At=St?ht(rt,St):re.call(rt,", ");return ae+" ("+fe+") {"+At+"}"}function ve(ae){for(var fe=0;fe<ae.length;fe++)if(Y(ae[fe],`
`)>=0)return!1;return!0}function Re(ae,fe){var rt;if(ae.indent==="	")rt="	";else if(typeof ae.indent=="number"&&ae.indent>0)rt=re.call(Array(ae.indent+1)," ");else return null;return{base:rt,prev:re.call(Array(fe+1),rt)}}function ht(ae,fe){if(ae.length===0)return"";var rt=`
`+fe.prev+fe.base;return rt+re.call(ae,","+rt)+`
`+fe.prev}function pt(ae,fe){var rt=ft(ae),St=[];if(rt){St.length=ae.length;for(var At=0;At<ae.length;At++)St[At]=P(ae,At)?fe(ae[At],ae):""}var gt=typeof ce=="function"?ce(ae):[],er;if(te){er={};for(var rr=0;rr<gt.length;rr++)er["$"+gt[rr]]=gt[rr]}for(var Ct in ae)P(ae,Ct)&&(rt&&String(Number(Ct))===Ct&&Ct<ae.length||te&&er["$"+Ct]instanceof Symbol||(j.call(/[^\w$]/,Ct)?St.push(fe(Ct,ae)+": "+fe(ae[Ct],ae)):St.push(Ct+": "+fe(ae[Ct],ae))));if(typeof ce=="function")for(var qt=0;qt<gt.length;qt++)ke.call(ae,gt[qt])&&St.push("["+fe(gt[qt])+"]: "+fe(ae[gt[qt]],ae));return St}return Ca}var Oa,xu;function Dd(){if(xu)return Oa;xu=1;var i=Vi(),e=vn(),t=function(f,h,g){for(var O=f,A;(A=O.next)!=null;O=A)if(A.key===h)return O.next=A.next,g||(A.next=f.next,f.next=A),A},n=function(f,h){if(f){var g=t(f,h);return g&&g.value}},o=function(f,h,g){var O=t(f,h);O?O.value=g:f.next={key:h,next:f.next,value:g}},s=function(f,h){return f?!!t(f,h):!1},u=function(f,h){if(f)return t(f,h,!0)};return Oa=function(){var h,g={assert:function(O){if(!g.has(O))throw new e("Side channel does not contain "+i(O))},delete:function(O){var A=h&&h.next,N=u(h,O);return N&&A&&A===N&&(h=void 0),!!N},get:function(O){return n(h,O)},has:function(O){return s(h,O)},set:function(O,A){h||(h={next:void 0}),o(h,O,A)}};return g},Oa}var Pa,wu;function pl(){return wu||(wu=1,Pa=Object),Pa}var Ra,bu;function $d(){return bu||(bu=1,Ra=Error),Ra}var Ta,_u;function Kd(){return _u||(_u=1,Ta=EvalError),Ta}var Ia,Eu;function Wd(){return Eu||(Eu=1,Ia=RangeError),Ia}var Na,Su;function zd(){return Su||(Su=1,Na=ReferenceError),Na}var Ba,Au;function Hd(){return Au||(Au=1,Ba=SyntaxError),Ba}var qa,Cu;function Gd(){return Cu||(Cu=1,qa=URIError),qa}var Ua,Ou;function Yd(){return Ou||(Ou=1,Ua=Math.abs),Ua}var Fa,Pu;function Vd(){return Pu||(Pu=1,Fa=Math.floor),Fa}var Ma,Ru;function Jd(){return Ru||(Ru=1,Ma=Math.max),Ma}var ja,Tu;function Xd(){return Tu||(Tu=1,ja=Math.min),ja}var La,Iu;function Zd(){return Iu||(Iu=1,La=Math.pow),La}var ka,Nu;function Qd(){return Nu||(Nu=1,ka=Math.round),ka}var Da,Bu;function ep(){return Bu||(Bu=1,Da=Number.isNaN||function(e){return e!==e}),Da}var $a,qu;function tp(){if(qu)return $a;qu=1;var i=ep();return $a=function(t){return i(t)||t===0?t:t<0?-1:1},$a}var Ka,Uu;function rp(){return Uu||(Uu=1,Ka=Object.getOwnPropertyDescriptor),Ka}var Wa,Fu;function yl(){if(Fu)return Wa;Fu=1;var i=rp();if(i)try{i([],"length")}catch{i=null}return Wa=i,Wa}var za,Mu;function np(){if(Mu)return za;Mu=1;var i=Object.defineProperty||!1;if(i)try{i({},"a",{value:1})}catch{i=!1}return za=i,za}var Ha,ju;function ip(){return ju||(ju=1,Ha=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[t]=o;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var u=Object.getOwnPropertySymbols(e);if(u.length!==1||u[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var f=Object.getOwnPropertyDescriptor(e,t);if(f.value!==o||f.enumerable!==!0)return!1}return!0}),Ha}var Ga,Lu;function ap(){if(Lu)return Ga;Lu=1;var i=typeof Symbol<"u"&&Symbol,e=ip();return Ga=function(){return typeof i!="function"||typeof Symbol!="function"||typeof i("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Ga}var Ya,ku;function gl(){return ku||(ku=1,Ya=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Ya}var Va,Du;function vl(){if(Du)return Va;Du=1;var i=pl();return Va=i.getPrototypeOf||null,Va}var Ja,$u;function op(){if($u)return Ja;$u=1;var i="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,n="[object Function]",o=function(h,g){for(var O=[],A=0;A<h.length;A+=1)O[A]=h[A];for(var N=0;N<g.length;N+=1)O[N+h.length]=g[N];return O},s=function(h,g){for(var O=[],A=g,N=0;A<h.length;A+=1,N+=1)O[N]=h[A];return O},u=function(f,h){for(var g="",O=0;O<f.length;O+=1)g+=f[O],O+1<f.length&&(g+=h);return g};return Ja=function(h){var g=this;if(typeof g!="function"||e.apply(g)!==n)throw new TypeError(i+g);for(var O=s(arguments,1),A,N=function(){if(this instanceof A){var m=g.apply(this,o(O,arguments));return Object(m)===m?m:this}return g.apply(h,o(O,arguments))},C=t(0,g.length-O.length),R=[],k=0;k<C;k++)R[k]="$"+k;if(A=Function("binder","return function ("+u(R,",")+"){ return binder.apply(this,arguments); }")(N),g.prototype){var _=function(){};_.prototype=g.prototype,A.prototype=new _,_.prototype=null}return A},Ja}var Xa,Ku;function Ji(){if(Ku)return Xa;Ku=1;var i=op();return Xa=Function.prototype.bind||i,Xa}var Za,Wu;function Qo(){return Wu||(Wu=1,Za=Function.prototype.call),Za}var Qa,zu;function ml(){return zu||(zu=1,Qa=Function.prototype.apply),Qa}var eo,Hu;function sp(){return Hu||(Hu=1,eo=typeof Reflect<"u"&&Reflect&&Reflect.apply),eo}var to,Gu;function fp(){if(Gu)return to;Gu=1;var i=Ji(),e=ml(),t=Qo(),n=sp();return to=n||i.call(t,e),to}var ro,Yu;function xl(){if(Yu)return ro;Yu=1;var i=Ji(),e=vn(),t=Qo(),n=fp();return ro=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return n(i,t,s)},ro}var no,Vu;function up(){if(Vu)return no;Vu=1;var i=xl(),e=yl(),t;try{t=[].__proto__===Array.prototype}catch(u){if(!u||typeof u!="object"||!("code"in u)||u.code!=="ERR_PROTO_ACCESS")throw u}var n=!!t&&e&&e(Object.prototype,"__proto__"),o=Object,s=o.getPrototypeOf;return no=n&&typeof n.get=="function"?i([n.get]):typeof s=="function"?function(f){return s(f==null?f:o(f))}:!1,no}var io,Ju;function cp(){if(Ju)return io;Ju=1;var i=gl(),e=vl(),t=up();return io=i?function(o){return i(o)}:e?function(o){if(!o||typeof o!="object"&&typeof o!="function")throw new TypeError("getProto: not an object");return e(o)}:t?function(o){return t(o)}:null,io}var ao,Xu;function lp(){if(Xu)return ao;Xu=1;var i=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=Ji();return ao=t.call(i,e),ao}var oo,Zu;function es(){if(Zu)return oo;Zu=1;var i,e=pl(),t=$d(),n=Kd(),o=Wd(),s=zd(),u=Hd(),f=vn(),h=Gd(),g=Yd(),O=Vd(),A=Jd(),N=Xd(),C=Zd(),R=Qd(),k=tp(),_=Function,m=function(ye){try{return _('"use strict"; return ('+ye+").constructor;")()}catch{}},E=yl(),B=np(),M=function(){throw new f},S=E?function(){try{return arguments.callee,M}catch{try{return E(arguments,"callee").get}catch{return M}}}():M,j=ap()(),U=cp(),re=vl(),me=gl(),ne=ml(),Pe=Qo(),ce={},et=typeof Uint8Array>"u"||!U?i:U(Uint8Array),te={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?i:ArrayBuffer,"%ArrayIteratorPrototype%":j&&U?U([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":ce,"%AsyncGenerator%":ce,"%AsyncGeneratorFunction%":ce,"%AsyncIteratorPrototype%":ce,"%Atomics%":typeof Atomics>"u"?i:Atomics,"%BigInt%":typeof BigInt>"u"?i:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?i:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?i:Float16Array,"%Float32Array%":typeof Float32Array>"u"?i:Float32Array,"%Float64Array%":typeof Float64Array>"u"?i:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?i:FinalizationRegistry,"%Function%":_,"%GeneratorFunction%":ce,"%Int8Array%":typeof Int8Array>"u"?i:Int8Array,"%Int16Array%":typeof Int16Array>"u"?i:Int16Array,"%Int32Array%":typeof Int32Array>"u"?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":j&&U?U(U([][Symbol.iterator]())):i,"%JSON%":typeof JSON=="object"?JSON:i,"%Map%":typeof Map>"u"?i:Map,"%MapIteratorPrototype%":typeof Map>"u"||!j||!U?i:U(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":E,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?i:Promise,"%Proxy%":typeof Proxy>"u"?i:Proxy,"%RangeError%":o,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?i:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?i:Set,"%SetIteratorPrototype%":typeof Set>"u"||!j||!U?i:U(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":j&&U?U(""[Symbol.iterator]()):i,"%Symbol%":j?Symbol:i,"%SyntaxError%":u,"%ThrowTypeError%":S,"%TypedArray%":et,"%TypeError%":f,"%Uint8Array%":typeof Uint8Array>"u"?i:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?i:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?i:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?i:Uint32Array,"%URIError%":h,"%WeakMap%":typeof WeakMap>"u"?i:WeakMap,"%WeakRef%":typeof WeakRef>"u"?i:WeakRef,"%WeakSet%":typeof WeakSet>"u"?i:WeakSet,"%Function.prototype.call%":Pe,"%Function.prototype.apply%":ne,"%Object.defineProperty%":B,"%Object.getPrototypeOf%":re,"%Math.abs%":g,"%Math.floor%":O,"%Math.max%":A,"%Math.min%":N,"%Math.pow%":C,"%Math.round%":R,"%Math.sign%":k,"%Reflect.getPrototypeOf%":me};if(U)try{null.error}catch(ye){var Oe=U(U(ye));te["%Error.prototype%"]=Oe}var ke=function ye(b){var T;if(b==="%AsyncFunction%")T=m("async function () {}");else if(b==="%GeneratorFunction%")T=m("function* () {}");else if(b==="%AsyncGeneratorFunction%")T=m("async function* () {}");else if(b==="%AsyncGenerator%"){var q=ye("%AsyncGeneratorFunction%");q&&(T=q.prototype)}else if(b==="%AsyncIteratorPrototype%"){var G=ye("%AsyncGenerator%");G&&U&&(T=U(G.prototype))}return te[b]=T,T},De={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},J=Ji(),de=lp(),pe=J.call(Pe,Array.prototype.concat),Ae=J.call(ne,Array.prototype.splice),Fe=J.call(Pe,String.prototype.replace),Ee=J.call(Pe,String.prototype.slice),oe=J.call(Pe,RegExp.prototype.exec),be=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Be=/\\(\\)?/g,ft=function(b){var T=Ee(b,0,1),q=Ee(b,-1);if(T==="%"&&q!=="%")throw new u("invalid intrinsic syntax, expected closing `%`");if(q==="%"&&T!=="%")throw new u("invalid intrinsic syntax, expected opening `%`");var G=[];return Fe(b,be,function(V,X,ue,P){G[G.length]=ue?Fe(P,Be,"$1"):X||V}),G},_e=function(b,T){var q=b,G;if(de(De,q)&&(G=De[q],q="%"+G[0]+"%"),de(te,q)){var V=te[q];if(V===ce&&(V=ke(q)),typeof V>"u"&&!T)throw new f("intrinsic "+b+" exists, but is not available. Please file an issue!");return{alias:G,name:q,value:V}}throw new u("intrinsic "+b+" does not exist!")};return oo=function(b,T){if(typeof b!="string"||b.length===0)throw new f("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof T!="boolean")throw new f('"allowMissing" argument must be a boolean');if(oe(/^%?[^%]*%?$/,b)===null)throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var q=ft(b),G=q.length>0?q[0]:"",V=_e("%"+G+"%",T),X=V.name,ue=V.value,P=!1,D=V.alias;D&&(G=D[0],Ae(q,pe([0,1],D)));for(var z=1,Y=!0;z<q.length;z+=1){var ge=q[z],je=Ee(ge,0,1),He=Ee(ge,-1);if((je==='"'||je==="'"||je==="`"||He==='"'||He==="'"||He==="`")&&je!==He)throw new u("property names with quotes must have matching quotes");if((ge==="constructor"||!Y)&&(P=!0),G+="."+ge,X="%"+G+"%",de(te,X))ue=te[X];else if(ue!=null){if(!(ge in ue)){if(!T)throw new f("base intrinsic for "+b+" exists, but the property is not available.");return}if(E&&z+1>=q.length){var ut=E(ue,ge);Y=!!ut,Y&&"get"in ut&&!("originalValue"in ut.get)?ue=ut.get:ue=ue[ge]}else Y=de(ue,ge),ue=ue[ge];Y&&!P&&(te[X]=ue)}}return ue},oo}var so,Qu;function wl(){if(Qu)return so;Qu=1;var i=es(),e=xl(),t=e([i("%String.prototype.indexOf%")]);return so=function(o,s){var u=i(o,!!s);return typeof u=="function"&&t(o,".prototype.")>-1?e([u]):u},so}var fo,ec;function bl(){if(ec)return fo;ec=1;var i=es(),e=wl(),t=Vi(),n=vn(),o=i("%Map%",!0),s=e("Map.prototype.get",!0),u=e("Map.prototype.set",!0),f=e("Map.prototype.has",!0),h=e("Map.prototype.delete",!0),g=e("Map.prototype.size",!0);return fo=!!o&&function(){var A,N={assert:function(C){if(!N.has(C))throw new n("Side channel does not contain "+t(C))},delete:function(C){if(A){var R=h(A,C);return g(A)===0&&(A=void 0),R}return!1},get:function(C){if(A)return s(A,C)},has:function(C){return A?f(A,C):!1},set:function(C,R){A||(A=new o),u(A,C,R)}};return N},fo}var uo,tc;function hp(){if(tc)return uo;tc=1;var i=es(),e=wl(),t=Vi(),n=bl(),o=vn(),s=i("%WeakMap%",!0),u=e("WeakMap.prototype.get",!0),f=e("WeakMap.prototype.set",!0),h=e("WeakMap.prototype.has",!0),g=e("WeakMap.prototype.delete",!0);return uo=s?function(){var A,N,C={assert:function(R){if(!C.has(R))throw new o("Side channel does not contain "+t(R))},delete:function(R){if(s&&R&&(typeof R=="object"||typeof R=="function")){if(A)return g(A,R)}else if(n&&N)return N.delete(R);return!1},get:function(R){return s&&R&&(typeof R=="object"||typeof R=="function")&&A?u(A,R):N&&N.get(R)},has:function(R){return s&&R&&(typeof R=="object"||typeof R=="function")&&A?h(A,R):!!N&&N.has(R)},set:function(R,k){s&&R&&(typeof R=="object"||typeof R=="function")?(A||(A=new s),f(A,R,k)):n&&(N||(N=n()),N.set(R,k))}};return C}:n,uo}var co,rc;function dp(){if(rc)return co;rc=1;var i=vn(),e=Vi(),t=Dd(),n=bl(),o=hp(),s=o||n||t;return co=function(){var f,h={assert:function(g){if(!h.has(g))throw new i("Side channel does not contain "+e(g))},delete:function(g){return!!f&&f.delete(g)},get:function(g){return f&&f.get(g)},has:function(g){return!!f&&f.has(g)},set:function(g,O){f||(f=s()),f.set(g,O)}};return h},co}var lo,nc;function ts(){if(nc)return lo;nc=1;var i=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return lo={default:t.RFC3986,formatters:{RFC1738:function(n){return i.call(n,e,"+")},RFC3986:function(n){return String(n)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},lo}var ho,ic;function _l(){if(ic)return ho;ic=1;var i=ts(),e=Object.prototype.hasOwnProperty,t=Array.isArray,n=function(){for(var _=[],m=0;m<256;++m)_.push("%"+((m<16?"0":"")+m.toString(16)).toUpperCase());return _}(),o=function(m){for(;m.length>1;){var E=m.pop(),B=E.obj[E.prop];if(t(B)){for(var M=[],S=0;S<B.length;++S)typeof B[S]<"u"&&M.push(B[S]);E.obj[E.prop]=M}}},s=function(m,E){for(var B=E&&E.plainObjects?{__proto__:null}:{},M=0;M<m.length;++M)typeof m[M]<"u"&&(B[M]=m[M]);return B},u=function _(m,E,B){if(!E)return m;if(typeof E!="object"&&typeof E!="function"){if(t(m))m.push(E);else if(m&&typeof m=="object")(B&&(B.plainObjects||B.allowPrototypes)||!e.call(Object.prototype,E))&&(m[E]=!0);else return[m,E];return m}if(!m||typeof m!="object")return[m].concat(E);var M=m;return t(m)&&!t(E)&&(M=s(m,B)),t(m)&&t(E)?(E.forEach(function(S,j){if(e.call(m,j)){var U=m[j];U&&typeof U=="object"&&S&&typeof S=="object"?m[j]=_(U,S,B):m.push(S)}else m[j]=S}),m):Object.keys(E).reduce(function(S,j){var U=E[j];return e.call(S,j)?S[j]=_(S[j],U,B):S[j]=U,S},M)},f=function(m,E){return Object.keys(E).reduce(function(B,M){return B[M]=E[M],B},m)},h=function(_,m,E){var B=_.replace(/\+/g," ");if(E==="iso-8859-1")return B.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(B)}catch{return B}},g=1024,O=function(m,E,B,M,S){if(m.length===0)return m;var j=m;if(typeof m=="symbol"?j=Symbol.prototype.toString.call(m):typeof m!="string"&&(j=String(m)),B==="iso-8859-1")return escape(j).replace(/%u[0-9a-f]{4}/gi,function(et){return"%26%23"+parseInt(et.slice(2),16)+"%3B"});for(var U="",re=0;re<j.length;re+=g){for(var me=j.length>=g?j.slice(re,re+g):j,ne=[],Pe=0;Pe<me.length;++Pe){var ce=me.charCodeAt(Pe);if(ce===45||ce===46||ce===95||ce===126||ce>=48&&ce<=57||ce>=65&&ce<=90||ce>=97&&ce<=122||S===i.RFC1738&&(ce===40||ce===41)){ne[ne.length]=me.charAt(Pe);continue}if(ce<128){ne[ne.length]=n[ce];continue}if(ce<2048){ne[ne.length]=n[192|ce>>6]+n[128|ce&63];continue}if(ce<55296||ce>=57344){ne[ne.length]=n[224|ce>>12]+n[128|ce>>6&63]+n[128|ce&63];continue}Pe+=1,ce=65536+((ce&1023)<<10|me.charCodeAt(Pe)&1023),ne[ne.length]=n[240|ce>>18]+n[128|ce>>12&63]+n[128|ce>>6&63]+n[128|ce&63]}U+=ne.join("")}return U},A=function(m){for(var E=[{obj:{o:m},prop:"o"}],B=[],M=0;M<E.length;++M)for(var S=E[M],j=S.obj[S.prop],U=Object.keys(j),re=0;re<U.length;++re){var me=U[re],ne=j[me];typeof ne=="object"&&ne!==null&&B.indexOf(ne)===-1&&(E.push({obj:j,prop:me}),B.push(ne))}return o(E),m},N=function(m){return Object.prototype.toString.call(m)==="[object RegExp]"},C=function(m){return!m||typeof m!="object"?!1:!!(m.constructor&&m.constructor.isBuffer&&m.constructor.isBuffer(m))},R=function(m,E){return[].concat(m,E)},k=function(m,E){if(t(m)){for(var B=[],M=0;M<m.length;M+=1)B.push(E(m[M]));return B}return E(m)};return ho={arrayToObject:s,assign:f,combine:R,compact:A,decode:h,encode:O,isBuffer:C,isRegExp:N,maybeMap:k,merge:u},ho}var po,ac;function pp(){if(ac)return po;ac=1;var i=dp(),e=_l(),t=ts(),n=Object.prototype.hasOwnProperty,o={brackets:function(_){return _+"[]"},comma:"comma",indices:function(_,m){return _+"["+m+"]"},repeat:function(_){return _}},s=Array.isArray,u=Array.prototype.push,f=function(k,_){u.apply(k,s(_)?_:[_])},h=Date.prototype.toISOString,g=t.default,O={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:g,formatter:t.formatters[g],indices:!1,serializeDate:function(_){return h.call(_)},skipNulls:!1,strictNullHandling:!1},A=function(_){return typeof _=="string"||typeof _=="number"||typeof _=="boolean"||typeof _=="symbol"||typeof _=="bigint"},N={},C=function k(_,m,E,B,M,S,j,U,re,me,ne,Pe,ce,et,te,Oe,ke,De){for(var J=_,de=De,pe=0,Ae=!1;(de=de.get(N))!==void 0&&!Ae;){var Fe=de.get(_);if(pe+=1,typeof Fe<"u"){if(Fe===pe)throw new RangeError("Cyclic object value");Ae=!0}typeof de.get(N)>"u"&&(pe=0)}if(typeof me=="function"?J=me(m,J):J instanceof Date?J=ce(J):E==="comma"&&s(J)&&(J=e.maybeMap(J,function(X){return X instanceof Date?ce(X):X})),J===null){if(S)return re&&!Oe?re(m,O.encoder,ke,"key",et):m;J=""}if(A(J)||e.isBuffer(J)){if(re){var Ee=Oe?m:re(m,O.encoder,ke,"key",et);return[te(Ee)+"="+te(re(J,O.encoder,ke,"value",et))]}return[te(m)+"="+te(String(J))]}var oe=[];if(typeof J>"u")return oe;var be;if(E==="comma"&&s(J))Oe&&re&&(J=e.maybeMap(J,re)),be=[{value:J.length>0?J.join(",")||null:void 0}];else if(s(me))be=me;else{var Be=Object.keys(J);be=ne?Be.sort(ne):Be}var ft=U?String(m).replace(/\./g,"%2E"):String(m),_e=B&&s(J)&&J.length===1?ft+"[]":ft;if(M&&s(J)&&J.length===0)return _e+"[]";for(var ye=0;ye<be.length;++ye){var b=be[ye],T=typeof b=="object"&&b&&typeof b.value<"u"?b.value:J[b];if(!(j&&T===null)){var q=Pe&&U?String(b).replace(/\./g,"%2E"):String(b),G=s(J)?typeof E=="function"?E(_e,q):_e:_e+(Pe?"."+q:"["+q+"]");De.set(_,pe);var V=i();V.set(N,De),f(oe,k(T,G,E,B,M,S,j,U,E==="comma"&&Oe&&s(J)?null:re,me,ne,Pe,ce,et,te,Oe,ke,V))}}return oe},R=function(_){if(!_)return O;if(typeof _.allowEmptyArrays<"u"&&typeof _.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof _.encodeDotInKeys<"u"&&typeof _.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(_.encoder!==null&&typeof _.encoder<"u"&&typeof _.encoder!="function")throw new TypeError("Encoder has to be a function.");var m=_.charset||O.charset;if(typeof _.charset<"u"&&_.charset!=="utf-8"&&_.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var E=t.default;if(typeof _.format<"u"){if(!n.call(t.formatters,_.format))throw new TypeError("Unknown format option provided.");E=_.format}var B=t.formatters[E],M=O.filter;(typeof _.filter=="function"||s(_.filter))&&(M=_.filter);var S;if(_.arrayFormat in o?S=_.arrayFormat:"indices"in _?S=_.indices?"indices":"repeat":S=O.arrayFormat,"commaRoundTrip"in _&&typeof _.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var j=typeof _.allowDots>"u"?_.encodeDotInKeys===!0?!0:O.allowDots:!!_.allowDots;return{addQueryPrefix:typeof _.addQueryPrefix=="boolean"?_.addQueryPrefix:O.addQueryPrefix,allowDots:j,allowEmptyArrays:typeof _.allowEmptyArrays=="boolean"?!!_.allowEmptyArrays:O.allowEmptyArrays,arrayFormat:S,charset:m,charsetSentinel:typeof _.charsetSentinel=="boolean"?_.charsetSentinel:O.charsetSentinel,commaRoundTrip:!!_.commaRoundTrip,delimiter:typeof _.delimiter>"u"?O.delimiter:_.delimiter,encode:typeof _.encode=="boolean"?_.encode:O.encode,encodeDotInKeys:typeof _.encodeDotInKeys=="boolean"?_.encodeDotInKeys:O.encodeDotInKeys,encoder:typeof _.encoder=="function"?_.encoder:O.encoder,encodeValuesOnly:typeof _.encodeValuesOnly=="boolean"?_.encodeValuesOnly:O.encodeValuesOnly,filter:M,format:E,formatter:B,serializeDate:typeof _.serializeDate=="function"?_.serializeDate:O.serializeDate,skipNulls:typeof _.skipNulls=="boolean"?_.skipNulls:O.skipNulls,sort:typeof _.sort=="function"?_.sort:null,strictNullHandling:typeof _.strictNullHandling=="boolean"?_.strictNullHandling:O.strictNullHandling}};return po=function(k,_){var m=k,E=R(_),B,M;typeof E.filter=="function"?(M=E.filter,m=M("",m)):s(E.filter)&&(M=E.filter,B=M);var S=[];if(typeof m!="object"||m===null)return"";var j=o[E.arrayFormat],U=j==="comma"&&E.commaRoundTrip;B||(B=Object.keys(m)),E.sort&&B.sort(E.sort);for(var re=i(),me=0;me<B.length;++me){var ne=B[me],Pe=m[ne];E.skipNulls&&Pe===null||f(S,C(Pe,ne,j,U,E.allowEmptyArrays,E.strictNullHandling,E.skipNulls,E.encodeDotInKeys,E.encode?E.encoder:null,E.filter,E.sort,E.allowDots,E.serializeDate,E.format,E.formatter,E.encodeValuesOnly,E.charset,re))}var ce=S.join(E.delimiter),et=E.addQueryPrefix===!0?"?":"";return E.charsetSentinel&&(E.charset==="iso-8859-1"?et+="utf8=%26%2310003%3B&":et+="utf8=%E2%9C%93&"),ce.length>0?et+ce:""},po}var yo,oc;function yp(){if(oc)return yo;oc=1;var i=_l(),e=Object.prototype.hasOwnProperty,t=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:i.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},o=function(N){return N.replace(/&#(\d+);/g,function(C,R){return String.fromCharCode(parseInt(R,10))})},s=function(N,C,R){if(N&&typeof N=="string"&&C.comma&&N.indexOf(",")>-1)return N.split(",");if(C.throwOnLimitExceeded&&R>=C.arrayLimit)throw new RangeError("Array limit exceeded. Only "+C.arrayLimit+" element"+(C.arrayLimit===1?"":"s")+" allowed in an array.");return N},u="utf8=%26%2310003%3B",f="utf8=%E2%9C%93",h=function(C,R){var k={__proto__:null},_=R.ignoreQueryPrefix?C.replace(/^\?/,""):C;_=_.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var m=R.parameterLimit===1/0?void 0:R.parameterLimit,E=_.split(R.delimiter,R.throwOnLimitExceeded?m+1:m);if(R.throwOnLimitExceeded&&E.length>m)throw new RangeError("Parameter limit exceeded. Only "+m+" parameter"+(m===1?"":"s")+" allowed.");var B=-1,M,S=R.charset;if(R.charsetSentinel)for(M=0;M<E.length;++M)E[M].indexOf("utf8=")===0&&(E[M]===f?S="utf-8":E[M]===u&&(S="iso-8859-1"),B=M,M=E.length);for(M=0;M<E.length;++M)if(M!==B){var j=E[M],U=j.indexOf("]="),re=U===-1?j.indexOf("="):U+1,me,ne;re===-1?(me=R.decoder(j,n.decoder,S,"key"),ne=R.strictNullHandling?null:""):(me=R.decoder(j.slice(0,re),n.decoder,S,"key"),ne=i.maybeMap(s(j.slice(re+1),R,t(k[me])?k[me].length:0),function(ce){return R.decoder(ce,n.decoder,S,"value")})),ne&&R.interpretNumericEntities&&S==="iso-8859-1"&&(ne=o(String(ne))),j.indexOf("[]=")>-1&&(ne=t(ne)?[ne]:ne);var Pe=e.call(k,me);Pe&&R.duplicates==="combine"?k[me]=i.combine(k[me],ne):(!Pe||R.duplicates==="last")&&(k[me]=ne)}return k},g=function(N,C,R,k){var _=0;if(N.length>0&&N[N.length-1]==="[]"){var m=N.slice(0,-1).join("");_=Array.isArray(C)&&C[m]?C[m].length:0}for(var E=k?C:s(C,R,_),B=N.length-1;B>=0;--B){var M,S=N[B];if(S==="[]"&&R.parseArrays)M=R.allowEmptyArrays&&(E===""||R.strictNullHandling&&E===null)?[]:i.combine([],E);else{M=R.plainObjects?{__proto__:null}:{};var j=S.charAt(0)==="["&&S.charAt(S.length-1)==="]"?S.slice(1,-1):S,U=R.decodeDotInKeys?j.replace(/%2E/g,"."):j,re=parseInt(U,10);!R.parseArrays&&U===""?M={0:E}:!isNaN(re)&&S!==U&&String(re)===U&&re>=0&&R.parseArrays&&re<=R.arrayLimit?(M=[],M[re]=E):U!=="__proto__"&&(M[U]=E)}E=M}return E},O=function(C,R,k,_){if(C){var m=k.allowDots?C.replace(/\.([^.[]+)/g,"[$1]"):C,E=/(\[[^[\]]*])/,B=/(\[[^[\]]*])/g,M=k.depth>0&&E.exec(m),S=M?m.slice(0,M.index):m,j=[];if(S){if(!k.plainObjects&&e.call(Object.prototype,S)&&!k.allowPrototypes)return;j.push(S)}for(var U=0;k.depth>0&&(M=B.exec(m))!==null&&U<k.depth;){if(U+=1,!k.plainObjects&&e.call(Object.prototype,M[1].slice(1,-1))&&!k.allowPrototypes)return;j.push(M[1])}if(M){if(k.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+k.depth+" and strictDepth is true");j.push("["+m.slice(M.index)+"]")}return g(j,R,k,_)}},A=function(C){if(!C)return n;if(typeof C.allowEmptyArrays<"u"&&typeof C.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof C.decodeDotInKeys<"u"&&typeof C.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(C.decoder!==null&&typeof C.decoder<"u"&&typeof C.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof C.charset<"u"&&C.charset!=="utf-8"&&C.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof C.throwOnLimitExceeded<"u"&&typeof C.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var R=typeof C.charset>"u"?n.charset:C.charset,k=typeof C.duplicates>"u"?n.duplicates:C.duplicates;if(k!=="combine"&&k!=="first"&&k!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var _=typeof C.allowDots>"u"?C.decodeDotInKeys===!0?!0:n.allowDots:!!C.allowDots;return{allowDots:_,allowEmptyArrays:typeof C.allowEmptyArrays=="boolean"?!!C.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof C.allowPrototypes=="boolean"?C.allowPrototypes:n.allowPrototypes,allowSparse:typeof C.allowSparse=="boolean"?C.allowSparse:n.allowSparse,arrayLimit:typeof C.arrayLimit=="number"?C.arrayLimit:n.arrayLimit,charset:R,charsetSentinel:typeof C.charsetSentinel=="boolean"?C.charsetSentinel:n.charsetSentinel,comma:typeof C.comma=="boolean"?C.comma:n.comma,decodeDotInKeys:typeof C.decodeDotInKeys=="boolean"?C.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof C.decoder=="function"?C.decoder:n.decoder,delimiter:typeof C.delimiter=="string"||i.isRegExp(C.delimiter)?C.delimiter:n.delimiter,depth:typeof C.depth=="number"||C.depth===!1?+C.depth:n.depth,duplicates:k,ignoreQueryPrefix:C.ignoreQueryPrefix===!0,interpretNumericEntities:typeof C.interpretNumericEntities=="boolean"?C.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof C.parameterLimit=="number"?C.parameterLimit:n.parameterLimit,parseArrays:C.parseArrays!==!1,plainObjects:typeof C.plainObjects=="boolean"?C.plainObjects:n.plainObjects,strictDepth:typeof C.strictDepth=="boolean"?!!C.strictDepth:n.strictDepth,strictNullHandling:typeof C.strictNullHandling=="boolean"?C.strictNullHandling:n.strictNullHandling,throwOnLimitExceeded:typeof C.throwOnLimitExceeded=="boolean"?C.throwOnLimitExceeded:!1}};return yo=function(N,C){var R=A(C);if(N===""||N===null||typeof N>"u")return R.plainObjects?{__proto__:null}:{};for(var k=typeof N=="string"?h(N,R):N,_=R.plainObjects?{__proto__:null}:{},m=Object.keys(k),E=0;E<m.length;++E){var B=m[E],M=O(B,k[B],R,typeof N=="string");_=i.merge(_,M,R)}return R.allowSparse===!0?_:i.compact(_)},yo}var go,sc;function gp(){if(sc)return go;sc=1;var i=pp(),e=yp(),t=ts();return go={formats:t,parse:e,stringify:i},go}var fc;function vp(){if(fc)return Xr;fc=1;var i=kd();function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var t=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,s=["<",">",'"',"`"," ","\r",`
`,"	"],u=["{","}","|","\\","^","`"].concat(s),f=["'"].concat(u),h=["%","/","?",";","#"].concat(f),g=["/","?","#"],O=255,A=/^[+a-z0-9A-Z_-]{0,63}$/,N=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,C={javascript:!0,"javascript:":!0},R={javascript:!0,"javascript:":!0},k={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=gp();function m(S,j,U){if(S&&typeof S=="object"&&S instanceof e)return S;var re=new e;return re.parse(S,j,U),re}e.prototype.parse=function(S,j,U){if(typeof S!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof S);var re=S.indexOf("?"),me=re!==-1&&re<S.indexOf("#")?"?":"#",ne=S.split(me),Pe=/\\/g;ne[0]=ne[0].replace(Pe,"/"),S=ne.join(me);var ce=S;if(ce=ce.trim(),!U&&S.split("#").length===1){var et=o.exec(ce);if(et)return this.path=ce,this.href=ce,this.pathname=et[1],et[2]?(this.search=et[2],j?this.query=_.parse(this.search.substr(1)):this.query=this.search.substr(1)):j&&(this.search="",this.query={}),this}var te=t.exec(ce);if(te){te=te[0];var Oe=te.toLowerCase();this.protocol=Oe,ce=ce.substr(te.length)}if(U||te||ce.match(/^\/\/[^@/]+@[^@/]+/)){var ke=ce.substr(0,2)==="//";ke&&!(te&&R[te])&&(ce=ce.substr(2),this.slashes=!0)}if(!R[te]&&(ke||te&&!k[te])){for(var De=-1,J=0;J<g.length;J++){var de=ce.indexOf(g[J]);de!==-1&&(De===-1||de<De)&&(De=de)}var pe,Ae;De===-1?Ae=ce.lastIndexOf("@"):Ae=ce.lastIndexOf("@",De),Ae!==-1&&(pe=ce.slice(0,Ae),ce=ce.slice(Ae+1),this.auth=decodeURIComponent(pe)),De=-1;for(var J=0;J<h.length;J++){var de=ce.indexOf(h[J]);de!==-1&&(De===-1||de<De)&&(De=de)}De===-1&&(De=ce.length),this.host=ce.slice(0,De),ce=ce.slice(De),this.parseHost(),this.hostname=this.hostname||"";var Fe=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Fe)for(var Ee=this.hostname.split(/\./),J=0,oe=Ee.length;J<oe;J++){var be=Ee[J];if(be&&!be.match(A)){for(var Be="",ft=0,_e=be.length;ft<_e;ft++)be.charCodeAt(ft)>127?Be+="x":Be+=be[ft];if(!Be.match(A)){var ye=Ee.slice(0,J),b=Ee.slice(J+1),T=be.match(N);T&&(ye.push(T[1]),b.unshift(T[2])),b.length&&(ce="/"+b.join(".")+ce),this.hostname=ye.join(".");break}}}this.hostname.length>O?this.hostname="":this.hostname=this.hostname.toLowerCase(),Fe||(this.hostname=i.toASCII(this.hostname));var q=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+q,this.href+=this.host,Fe&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),ce[0]!=="/"&&(ce="/"+ce))}if(!C[Oe])for(var J=0,oe=f.length;J<oe;J++){var V=f[J];if(ce.indexOf(V)!==-1){var X=encodeURIComponent(V);X===V&&(X=escape(V)),ce=ce.split(V).join(X)}}var ue=ce.indexOf("#");ue!==-1&&(this.hash=ce.substr(ue),ce=ce.slice(0,ue));var P=ce.indexOf("?");if(P!==-1?(this.search=ce.substr(P),this.query=ce.substr(P+1),j&&(this.query=_.parse(this.query)),ce=ce.slice(0,P)):j&&(this.search="",this.query={}),ce&&(this.pathname=ce),k[Oe]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var q=this.pathname||"",D=this.search||"";this.path=q+D}return this.href=this.format(),this};function E(S){return typeof S=="string"&&(S=m(S)),S instanceof e?S.format():e.prototype.format.call(S)}e.prototype.format=function(){var S=this.auth||"";S&&(S=encodeURIComponent(S),S=S.replace(/%3A/i,":"),S+="@");var j=this.protocol||"",U=this.pathname||"",re=this.hash||"",me=!1,ne="";this.host?me=S+this.host:this.hostname&&(me=S+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(me+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(ne=_.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var Pe=this.search||ne&&"?"+ne||"";return j&&j.substr(-1)!==":"&&(j+=":"),this.slashes||(!j||k[j])&&me!==!1?(me="//"+(me||""),U&&U.charAt(0)!=="/"&&(U="/"+U)):me||(me=""),re&&re.charAt(0)!=="#"&&(re="#"+re),Pe&&Pe.charAt(0)!=="?"&&(Pe="?"+Pe),U=U.replace(/[?#]/g,function(ce){return encodeURIComponent(ce)}),Pe=Pe.replace("#","%23"),j+me+U+Pe+re};function B(S,j){return m(S,!1,!0).resolve(j)}e.prototype.resolve=function(S){return this.resolveObject(m(S,!1,!0)).format()};function M(S,j){return S?m(S,!1,!0).resolveObject(j):j}return e.prototype.resolveObject=function(S){if(typeof S=="string"){var j=new e;j.parse(S,!1,!0),S=j}for(var U=new e,re=Object.keys(this),me=0;me<re.length;me++){var ne=re[me];U[ne]=this[ne]}if(U.hash=S.hash,S.href==="")return U.href=U.format(),U;if(S.slashes&&!S.protocol){for(var Pe=Object.keys(S),ce=0;ce<Pe.length;ce++){var et=Pe[ce];et!=="protocol"&&(U[et]=S[et])}return k[U.protocol]&&U.hostname&&!U.pathname&&(U.pathname="/",U.path=U.pathname),U.href=U.format(),U}if(S.protocol&&S.protocol!==U.protocol){if(!k[S.protocol]){for(var te=Object.keys(S),Oe=0;Oe<te.length;Oe++){var ke=te[Oe];U[ke]=S[ke]}return U.href=U.format(),U}if(U.protocol=S.protocol,!S.host&&!R[S.protocol]){for(var oe=(S.pathname||"").split("/");oe.length&&!(S.host=oe.shift()););S.host||(S.host=""),S.hostname||(S.hostname=""),oe[0]!==""&&oe.unshift(""),oe.length<2&&oe.unshift(""),U.pathname=oe.join("/")}else U.pathname=S.pathname;if(U.search=S.search,U.query=S.query,U.host=S.host||"",U.auth=S.auth,U.hostname=S.hostname||S.host,U.port=S.port,U.pathname||U.search){var De=U.pathname||"",J=U.search||"";U.path=De+J}return U.slashes=U.slashes||S.slashes,U.href=U.format(),U}var de=U.pathname&&U.pathname.charAt(0)==="/",pe=S.host||S.pathname&&S.pathname.charAt(0)==="/",Ae=pe||de||U.host&&S.pathname,Fe=Ae,Ee=U.pathname&&U.pathname.split("/")||[],oe=S.pathname&&S.pathname.split("/")||[],be=U.protocol&&!k[U.protocol];if(be&&(U.hostname="",U.port=null,U.host&&(Ee[0]===""?Ee[0]=U.host:Ee.unshift(U.host)),U.host="",S.protocol&&(S.hostname=null,S.port=null,S.host&&(oe[0]===""?oe[0]=S.host:oe.unshift(S.host)),S.host=null),Ae=Ae&&(oe[0]===""||Ee[0]==="")),pe)U.host=S.host||S.host===""?S.host:U.host,U.hostname=S.hostname||S.hostname===""?S.hostname:U.hostname,U.search=S.search,U.query=S.query,Ee=oe;else if(oe.length)Ee||(Ee=[]),Ee.pop(),Ee=Ee.concat(oe),U.search=S.search,U.query=S.query;else if(S.search!=null){if(be){U.host=Ee.shift(),U.hostname=U.host;var Be=U.host&&U.host.indexOf("@")>0?U.host.split("@"):!1;Be&&(U.auth=Be.shift(),U.hostname=Be.shift(),U.host=U.hostname)}return U.search=S.search,U.query=S.query,(U.pathname!==null||U.search!==null)&&(U.path=(U.pathname?U.pathname:"")+(U.search?U.search:"")),U.href=U.format(),U}if(!Ee.length)return U.pathname=null,U.search?U.path="/"+U.search:U.path=null,U.href=U.format(),U;for(var ft=Ee.slice(-1)[0],_e=(U.host||S.host||Ee.length>1)&&(ft==="."||ft==="..")||ft==="",ye=0,b=Ee.length;b>=0;b--)ft=Ee[b],ft==="."?Ee.splice(b,1):ft===".."?(Ee.splice(b,1),ye++):ye&&(Ee.splice(b,1),ye--);if(!Ae&&!Fe)for(;ye--;ye)Ee.unshift("..");Ae&&Ee[0]!==""&&(!Ee[0]||Ee[0].charAt(0)!=="/")&&Ee.unshift(""),_e&&Ee.join("/").substr(-1)!=="/"&&Ee.push("");var T=Ee[0]===""||Ee[0]&&Ee[0].charAt(0)==="/";if(be){U.hostname=T?"":Ee.length?Ee.shift():"",U.host=U.hostname;var Be=U.host&&U.host.indexOf("@")>0?U.host.split("@"):!1;Be&&(U.auth=Be.shift(),U.hostname=Be.shift(),U.host=U.hostname)}return Ae=Ae||U.host&&Ee.length,Ae&&!T&&Ee.unshift(""),Ee.length>0?U.pathname=Ee.join("/"):(U.pathname=null,U.path=null),(U.pathname!==null||U.search!==null)&&(U.path=(U.pathname?U.pathname:"")+(U.search?U.search:"")),U.auth=S.auth||U.auth,U.slashes=U.slashes||S.slashes,U.href=U.format(),U},e.prototype.parseHost=function(){var S=this.host,j=n.exec(S);j&&(j=j[0],j!==":"&&(this.port=j.substr(1)),S=S.substr(0,S.length-j.length)),S&&(this.hostname=S)},Xr.parse=m,Xr.resolve=B,Xr.resolveObject=M,Xr.format=E,Xr.Url=e,Xr}var Ui={exports:{}},uc;function mp(){if(uc)return Ui.exports;uc=1;var i=typeof Reflect=="object"?Reflect:null,e=i&&typeof i.apply=="function"?i.apply:function(S,j,U){return Function.prototype.apply.call(S,j,U)},t;i&&typeof i.ownKeys=="function"?t=i.ownKeys:Object.getOwnPropertySymbols?t=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:t=function(S){return Object.getOwnPropertyNames(S)};function n(M){console&&console.warn&&console.warn(M)}var o=Number.isNaN||function(S){return S!==S};function s(){s.init.call(this)}Ui.exports=s,Ui.exports.once=m,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function f(M){if(typeof M!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof M)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(M){if(typeof M!="number"||M<0||o(M))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+M+".");u=M}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||o(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function h(M){return M._maxListeners===void 0?s.defaultMaxListeners:M._maxListeners}s.prototype.getMaxListeners=function(){return h(this)},s.prototype.emit=function(S){for(var j=[],U=1;U<arguments.length;U++)j.push(arguments[U]);var re=S==="error",me=this._events;if(me!==void 0)re=re&&me.error===void 0;else if(!re)return!1;if(re){var ne;if(j.length>0&&(ne=j[0]),ne instanceof Error)throw ne;var Pe=new Error("Unhandled error."+(ne?" ("+ne.message+")":""));throw Pe.context=ne,Pe}var ce=me[S];if(ce===void 0)return!1;if(typeof ce=="function")e(ce,this,j);else for(var et=ce.length,te=R(ce,et),U=0;U<et;++U)e(te[U],this,j);return!0};function g(M,S,j,U){var re,me,ne;if(f(j),me=M._events,me===void 0?(me=M._events=Object.create(null),M._eventsCount=0):(me.newListener!==void 0&&(M.emit("newListener",S,j.listener?j.listener:j),me=M._events),ne=me[S]),ne===void 0)ne=me[S]=j,++M._eventsCount;else if(typeof ne=="function"?ne=me[S]=U?[j,ne]:[ne,j]:U?ne.unshift(j):ne.push(j),re=h(M),re>0&&ne.length>re&&!ne.warned){ne.warned=!0;var Pe=new Error("Possible EventEmitter memory leak detected. "+ne.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");Pe.name="MaxListenersExceededWarning",Pe.emitter=M,Pe.type=S,Pe.count=ne.length,n(Pe)}return M}s.prototype.addListener=function(S,j){return g(this,S,j,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(S,j){return g(this,S,j,!0)};function O(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function A(M,S,j){var U={fired:!1,wrapFn:void 0,target:M,type:S,listener:j},re=O.bind(U);return re.listener=j,U.wrapFn=re,re}s.prototype.once=function(S,j){return f(j),this.on(S,A(this,S,j)),this},s.prototype.prependOnceListener=function(S,j){return f(j),this.prependListener(S,A(this,S,j)),this},s.prototype.removeListener=function(S,j){var U,re,me,ne,Pe;if(f(j),re=this._events,re===void 0)return this;if(U=re[S],U===void 0)return this;if(U===j||U.listener===j)--this._eventsCount===0?this._events=Object.create(null):(delete re[S],re.removeListener&&this.emit("removeListener",S,U.listener||j));else if(typeof U!="function"){for(me=-1,ne=U.length-1;ne>=0;ne--)if(U[ne]===j||U[ne].listener===j){Pe=U[ne].listener,me=ne;break}if(me<0)return this;me===0?U.shift():k(U,me),U.length===1&&(re[S]=U[0]),re.removeListener!==void 0&&this.emit("removeListener",S,Pe||j)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(S){var j,U,re;if(U=this._events,U===void 0)return this;if(U.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):U[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete U[S]),this;if(arguments.length===0){var me=Object.keys(U),ne;for(re=0;re<me.length;++re)ne=me[re],ne!=="removeListener"&&this.removeAllListeners(ne);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(j=U[S],typeof j=="function")this.removeListener(S,j);else if(j!==void 0)for(re=j.length-1;re>=0;re--)this.removeListener(S,j[re]);return this};function N(M,S,j){var U=M._events;if(U===void 0)return[];var re=U[S];return re===void 0?[]:typeof re=="function"?j?[re.listener||re]:[re]:j?_(re):R(re,re.length)}s.prototype.listeners=function(S){return N(this,S,!0)},s.prototype.rawListeners=function(S){return N(this,S,!1)},s.listenerCount=function(M,S){return typeof M.listenerCount=="function"?M.listenerCount(S):C.call(M,S)},s.prototype.listenerCount=C;function C(M){var S=this._events;if(S!==void 0){var j=S[M];if(typeof j=="function")return 1;if(j!==void 0)return j.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function R(M,S){for(var j=new Array(S),U=0;U<S;++U)j[U]=M[U];return j}function k(M,S){for(;S+1<M.length;S++)M[S]=M[S+1];M.pop()}function _(M){for(var S=new Array(M.length),j=0;j<S.length;++j)S[j]=M[j].listener||M[j];return S}function m(M,S){return new Promise(function(j,U){function re(ne){M.removeListener(S,me),U(ne)}function me(){typeof M.removeListener=="function"&&M.removeListener("error",re),j([].slice.call(arguments))}B(M,S,me,{once:!0}),S!=="error"&&E(M,re,{once:!0})})}function E(M,S,j){typeof M.on=="function"&&B(M,"error",S,j)}function B(M,S,j,U){if(typeof M.on=="function")U.once?M.once(S,j):M.on(S,j);else if(typeof M.addEventListener=="function")M.addEventListener(S,function re(me){U.once&&M.removeEventListener(S,re),j(me)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof M)}return Ui.exports}var vo={},mo,cc;function xp(){return cc||(cc=1,mo=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),mo}var Fi={exports:{}},lc;function wp(){return lc||(lc=1,typeof Object.create=="function"?Fi.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:Fi.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}),Fi.exports}var hc;function bp(){return hc||(hc=1,function(i){var e={},t=/%[sdj%]/g;i.format=function(J){if(!M(J)){for(var de=[],pe=0;pe<arguments.length;pe++)de.push(s(arguments[pe]));return de.join(" ")}for(var pe=1,Ae=arguments,Fe=Ae.length,Ee=String(J).replace(t,function(be){if(be==="%%")return"%";if(pe>=Fe)return be;switch(be){case"%s":return String(Ae[pe++]);case"%d":return Number(Ae[pe++]);case"%j":try{return JSON.stringify(Ae[pe++])}catch{return"[Circular]"}default:return be}}),oe=Ae[pe];pe<Fe;oe=Ae[++pe])m(oe)||!re(oe)?Ee+=" "+oe:Ee+=" "+s(oe);return Ee},i.deprecate=function(J,de){if(j(pr.process))return function(){return i.deprecate(J,de).apply(this,arguments)};if(process.noDeprecation===!0)return J;var pe=!1;function Ae(){if(!pe){if(process.throwDeprecation)throw new Error(de);process.traceDeprecation?console.trace(de):console.error(de),pe=!0}return J.apply(this,arguments)}return Ae};var n={},o;i.debuglog=function(J){if(j(o)&&(o=e.NODE_DEBUG||""),J=J.toUpperCase(),!n[J])if(new RegExp("\\b"+J+"\\b","i").test(o)){var de=process.pid;n[J]=function(){var pe=i.format.apply(i,arguments);console.error("%s %d: %s",J,de,pe)}}else n[J]=function(){};return n[J]};function s(J,de){var pe={seen:[],stylize:f};return arguments.length>=3&&(pe.depth=arguments[2]),arguments.length>=4&&(pe.colors=arguments[3]),_(de)?pe.showHidden=de:de&&i._extend(pe,de),j(pe.showHidden)&&(pe.showHidden=!1),j(pe.depth)&&(pe.depth=2),j(pe.colors)&&(pe.colors=!1),j(pe.customInspect)&&(pe.customInspect=!0),pe.colors&&(pe.stylize=u),g(pe,J,pe.depth)}i.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(J,de){var pe=s.styles[de];return pe?"\x1B["+s.colors[pe][0]+"m"+J+"\x1B["+s.colors[pe][1]+"m":J}function f(J,de){return J}function h(J){var de={};return J.forEach(function(pe,Ae){de[pe]=!0}),de}function g(J,de,pe){if(J.customInspect&&de&&Pe(de.inspect)&&de.inspect!==i.inspect&&!(de.constructor&&de.constructor.prototype===de)){var Ae=de.inspect(pe,J);return M(Ae)||(Ae=g(J,Ae,pe)),Ae}var Fe=O(J,de);if(Fe)return Fe;var Ee=Object.keys(de),oe=h(Ee);if(J.showHidden&&(Ee=Object.getOwnPropertyNames(de)),ne(de)&&(Ee.indexOf("message")>=0||Ee.indexOf("description")>=0))return A(de);if(Ee.length===0){if(Pe(de)){var be=de.name?": "+de.name:"";return J.stylize("[Function"+be+"]","special")}if(U(de))return J.stylize(RegExp.prototype.toString.call(de),"regexp");if(me(de))return J.stylize(Date.prototype.toString.call(de),"date");if(ne(de))return A(de)}var Be="",ft=!1,_e=["{","}"];if(k(de)&&(ft=!0,_e=["[","]"]),Pe(de)){var ye=de.name?": "+de.name:"";Be=" [Function"+ye+"]"}if(U(de)&&(Be=" "+RegExp.prototype.toString.call(de)),me(de)&&(Be=" "+Date.prototype.toUTCString.call(de)),ne(de)&&(Be=" "+A(de)),Ee.length===0&&(!ft||de.length==0))return _e[0]+Be+_e[1];if(pe<0)return U(de)?J.stylize(RegExp.prototype.toString.call(de),"regexp"):J.stylize("[Object]","special");J.seen.push(de);var b;return ft?b=N(J,de,pe,oe,Ee):b=Ee.map(function(T){return C(J,de,pe,oe,T,ft)}),J.seen.pop(),R(b,Be,_e)}function O(J,de){if(j(de))return J.stylize("undefined","undefined");if(M(de)){var pe="'"+JSON.stringify(de).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return J.stylize(pe,"string")}if(B(de))return J.stylize(""+de,"number");if(_(de))return J.stylize(""+de,"boolean");if(m(de))return J.stylize("null","null")}function A(J){return"["+Error.prototype.toString.call(J)+"]"}function N(J,de,pe,Ae,Fe){for(var Ee=[],oe=0,be=de.length;oe<be;++oe)De(de,String(oe))?Ee.push(C(J,de,pe,Ae,String(oe),!0)):Ee.push("");return Fe.forEach(function(Be){Be.match(/^\d+$/)||Ee.push(C(J,de,pe,Ae,Be,!0))}),Ee}function C(J,de,pe,Ae,Fe,Ee){var oe,be,Be;if(Be=Object.getOwnPropertyDescriptor(de,Fe)||{value:de[Fe]},Be.get?Be.set?be=J.stylize("[Getter/Setter]","special"):be=J.stylize("[Getter]","special"):Be.set&&(be=J.stylize("[Setter]","special")),De(Ae,Fe)||(oe="["+Fe+"]"),be||(J.seen.indexOf(Be.value)<0?(m(pe)?be=g(J,Be.value,null):be=g(J,Be.value,pe-1),be.indexOf(`
`)>-1&&(Ee?be=be.split(`
`).map(function(ft){return"  "+ft}).join(`
`).substr(2):be=`
`+be.split(`
`).map(function(ft){return"   "+ft}).join(`
`))):be=J.stylize("[Circular]","special")),j(oe)){if(Ee&&Fe.match(/^\d+$/))return be;oe=JSON.stringify(""+Fe),oe.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(oe=oe.substr(1,oe.length-2),oe=J.stylize(oe,"name")):(oe=oe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),oe=J.stylize(oe,"string"))}return oe+": "+be}function R(J,de,pe){var Ae=J.reduce(function(Fe,Ee){return Ee.indexOf(`
`)>=0,Fe+Ee.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Ae>60?pe[0]+(de===""?"":de+`
 `)+" "+J.join(`,
  `)+" "+pe[1]:pe[0]+de+" "+J.join(", ")+" "+pe[1]}function k(J){return Array.isArray(J)}i.isArray=k;function _(J){return typeof J=="boolean"}i.isBoolean=_;function m(J){return J===null}i.isNull=m;function E(J){return J==null}i.isNullOrUndefined=E;function B(J){return typeof J=="number"}i.isNumber=B;function M(J){return typeof J=="string"}i.isString=M;function S(J){return typeof J=="symbol"}i.isSymbol=S;function j(J){return J===void 0}i.isUndefined=j;function U(J){return re(J)&&et(J)==="[object RegExp]"}i.isRegExp=U;function re(J){return typeof J=="object"&&J!==null}i.isObject=re;function me(J){return re(J)&&et(J)==="[object Date]"}i.isDate=me;function ne(J){return re(J)&&(et(J)==="[object Error]"||J instanceof Error)}i.isError=ne;function Pe(J){return typeof J=="function"}i.isFunction=Pe;function ce(J){return J===null||typeof J=="boolean"||typeof J=="number"||typeof J=="string"||typeof J=="symbol"||typeof J>"u"}i.isPrimitive=ce,i.isBuffer=xp();function et(J){return Object.prototype.toString.call(J)}function te(J){return J<10?"0"+J.toString(10):J.toString(10)}var Oe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ke(){var J=new Date,de=[te(J.getHours()),te(J.getMinutes()),te(J.getSeconds())].join(":");return[J.getDate(),Oe[J.getMonth()],de].join(" ")}i.log=function(){console.log("%s - %s",ke(),i.format.apply(i,arguments))},i.inherits=wp(),i._extend=function(J,de){if(!de||!re(de))return J;for(var pe=Object.keys(de),Ae=pe.length;Ae--;)J[pe[Ae]]=de[pe[Ae]];return J};function De(J,de){return Object.prototype.hasOwnProperty.call(J,de)}}(vo)),vo}var xo,dc;function _p(){if(dc)return xo;dc=1;var i=vp().parse,e=mp(),t=wi,n=wi,o=bp(),s=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","servername","checkServerIdentity"],u=[239,187,191],f=58,h=32,g=10,O=13;function A(m){return u.every(function(E,B){return m[B]===E})}function N(m,E){var B=N.CONNECTING,M=E&&E.headers,S=!1;Object.defineProperty(this,"readyState",{get:function(){return B}}),Object.defineProperty(this,"url",{get:function(){return m}});var j=this;j.reconnectInterval=1e3,j.connectionInProgress=!1;function U(De){B!==N.CLOSED&&(B=N.CONNECTING,Oe("error",new C("error",{message:De})),et&&(m=et,et=null,S=!1),setTimeout(function(){B!==N.CONNECTING||j.connectionInProgress||(j.connectionInProgress=!0,te())},j.reconnectInterval))}var re,me="";M&&M["Last-Event-ID"]&&(me=M["Last-Event-ID"],delete M["Last-Event-ID"]);var ne=!1,Pe="",ce="",et=null;function te(){var De=i(m),J=De.protocol==="https:";if(De.headers={"Cache-Control":"no-cache",Accept:"text/event-stream"},me&&(De.headers["Last-Event-ID"]=me),M){var de=S?k(M):M;for(var pe in de){var Ae=de[pe];Ae&&(De.headers[pe]=Ae)}}De.rejectUnauthorized=!(E&&!E.rejectUnauthorized),E&&E.createConnection!==void 0&&(De.createConnection=E.createConnection);var Fe=E&&E.proxy;if(Fe){var Ee=i(E.proxy);J=Ee.protocol==="https:",De.protocol=J?"https:":"http:",De.path=m,De.headers.Host=De.host,De.hostname=Ee.hostname,De.host=Ee.host,De.port=Ee.port}if(E&&E.https){for(var oe in E.https)if(s.indexOf(oe)!==-1){var be=E.https[oe];be!==void 0&&(De[oe]=be)}}E&&E.withCredentials!==void 0&&(De.withCredentials=E.withCredentials),re=(J?t:n).request(De,function(Be){if(j.connectionInProgress=!1,Be.statusCode===500||Be.statusCode===502||Be.statusCode===503||Be.statusCode===504){Oe("error",new C("error",{status:Be.statusCode,message:Be.statusMessage})),U();return}if(Be.statusCode===301||Be.statusCode===302||Be.statusCode===307){var ft=Be.headers.location;if(!ft){Oe("error",new C("error",{status:Be.statusCode,message:Be.statusMessage}));return}var _e=_(m),ye=_(ft);S=_e!==ye,Be.statusCode===307&&(et=m),m=ft,process.nextTick(te);return}if(Be.statusCode!==200)return Oe("error",new C("error",{status:Be.statusCode,message:Be.statusMessage})),j.close();B=N.OPEN,Be.on("close",function(){Be.removeAllListeners("close"),Be.removeAllListeners("end"),U()}),Be.on("end",function(){Be.removeAllListeners("close"),Be.removeAllListeners("end"),U()}),Oe("open",new C("open"));var b=!0,T,q=0,G=-1;Be.on("data",function(V){T=T?Buffer.concat([T,V]):V,b&&A(T)&&(T=T.slice(u.length)),b=!1;for(var X=0,ue=T.length;X<ue;){ne&&(T[X]===g&&++X,ne=!1);for(var P=-1,D=G,z,Y=q;P<0&&Y<ue;++Y)z=T[Y],z===f?D<0&&(D=Y-X):z===O?(ne=!0,P=Y-X):z===g&&(P=Y-X);if(P<0){q=ue-X,G=D;break}else q=0,G=-1;ke(T,X,D,P),X+=P+1}X===ue?T=void 0:X>0&&(T=T.slice(X))})}),re.on("error",function(Be){j.connectionInProgress=!1,U(Be.message)}),re.setNoDelay&&re.setNoDelay(!0),re.end()}te();function Oe(){j.listeners(arguments[0]).length>0&&j.emit.apply(j,arguments)}this._close=function(){B!==N.CLOSED&&(B=N.CLOSED,re.abort&&re.abort(),re.xhr&&re.xhr.abort&&re.xhr.abort())};function ke(De,J,de,pe){if(pe===0){if(Pe.length>0){var Ae=ce||"message";Oe(Ae,new R(Ae,{data:Pe.slice(0,-1),lastEventId:me,origin:_(m)})),Pe=""}ce=void 0}else if(de>0){var Fe=de<0,Ee=0,oe=De.slice(J,J+(Fe?pe:de)).toString();Fe?Ee=pe:De[J+de+1]!==h?Ee=de+1:Ee=de+2,J+=Ee;var be=pe-Ee,Be=De.slice(J,J+be).toString();if(oe==="data")Pe+=Be+`
`;else if(oe==="event")ce=Be;else if(oe==="id")me=Be;else if(oe==="retry"){var ft=parseInt(Be,10);Number.isNaN(ft)||(j.reconnectInterval=ft)}}}}xo=N,o.inherits(N,e.EventEmitter),N.prototype.constructor=N,["open","error","message"].forEach(function(m){Object.defineProperty(N.prototype,"on"+m,{get:function(){var B=this.listeners(m)[0];return B?B._listener?B._listener:B:void 0},set:function(B){this.removeAllListeners(m),this.addEventListener(m,B)}})}),Object.defineProperty(N,"CONNECTING",{enumerable:!0,value:0}),Object.defineProperty(N,"OPEN",{enumerable:!0,value:1}),Object.defineProperty(N,"CLOSED",{enumerable:!0,value:2}),N.prototype.CONNECTING=0,N.prototype.OPEN=1,N.prototype.CLOSED=2,N.prototype.close=function(){this._close()},N.prototype.addEventListener=function(E,B){typeof B=="function"&&(B._listener=B,this.on(E,B))},N.prototype.dispatchEvent=function(E){if(!E.type)throw new Error("UNSPECIFIED_EVENT_TYPE_ERR");this.emit(E.type,E.detail)},N.prototype.removeEventListener=function(E,B){typeof B=="function"&&(B._listener=void 0,this.removeListener(E,B))};function C(m,E){if(Object.defineProperty(this,"type",{writable:!1,value:m,enumerable:!0}),E)for(var B in E)E.hasOwnProperty(B)&&Object.defineProperty(this,B,{writable:!1,value:E[B],enumerable:!0})}function R(m,E){Object.defineProperty(this,"type",{writable:!1,value:m,enumerable:!0});for(var B in E)E.hasOwnProperty(B)&&Object.defineProperty(this,B,{writable:!1,value:E[B],enumerable:!0})}function k(m){var E={};for(var B in m)/^(cookie|authorization)$/i.test(B)||(E[B]=m[B]);return E}function _(m){return typeof m=="string"&&(m=i(m)),!m.protocol||!m.hostname?"null":(m.protocol+"//"+m.host).toLowerCase()}return xo}var pi={exports:{}},wo={},bo,pc;function Ep(){if(pc)return bo;pc=1;function i(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return bo=i,i.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},i.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},i.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var o=this;return this._timer=setTimeout(function(){o._attempts++,o._operationTimeoutCb&&(o._timeout=setTimeout(function(){o._operationTimeoutCb(o._attempts)},o._operationTimeout),o._options.unref&&o._timeout.unref()),o._fn(o._attempts)},n),this._options.unref&&this._timer.unref(),!0},i.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},i.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},i.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},i.prototype.start=i.prototype.try,i.prototype.errors=function(){return this._errors},i.prototype.attempts=function(){return this._attempts},i.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,n=0,o=0;o<this._errors.length;o++){var s=this._errors[o],u=s.message,f=(e[u]||0)+1;e[u]=f,f>=n&&(t=s,n=f)}return t},bo}var yc;function Sp(){return yc||(yc=1,function(i){var e=Ep();i.operation=function(t){var n=i.timeouts(t);return new e(n,{forever:t&&(t.forever||t.retries===1/0),unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})},i.timeouts=function(t){if(t instanceof Array)return[].concat(t);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var o in t)n[o]=t[o];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],u=0;u<n.retries;u++)s.push(this.createTimeout(u,n));return t&&t.forever&&!s.length&&s.push(this.createTimeout(u,n)),s.sort(function(f,h){return f-h}),s},i.createTimeout=function(t,n){var o=n.randomize?Math.random()+1:1,s=Math.round(o*Math.max(n.minTimeout,1)*Math.pow(n.factor,t));return s=Math.min(s,n.maxTimeout),s},i.wrap=function(t,n,o){if(n instanceof Array&&(o=n,n=null),!o){o=[];for(var s in t)typeof t[s]=="function"&&o.push(s)}for(var u=0;u<o.length;u++){var f=o[u],h=t[f];t[f]=(function(O){var A=i.operation(n),N=Array.prototype.slice.call(arguments,1),C=N.pop();N.push(function(R){A.retry(R)||(R&&(arguments[0]=A.mainError()),C.apply(this,arguments))}),A.attempt(function(){O.apply(t,N)})}).bind(t,h),t[f].options=n}}}(wo)),wo}var _o,gc;function Ap(){return gc||(gc=1,_o=Sp()),_o}var vc;function Cp(){if(vc)return pi.exports;vc=1;const i=Ap(),e=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class t extends Error{constructor(f){super(),f instanceof Error?(this.originalError=f,{message:f}=f):(this.originalError=new Error(f),this.originalError.stack=this.stack),this.name="AbortError",this.message=f}}const n=(u,f,h)=>{const g=h.retries-(f-1);return u.attemptNumber=f,u.retriesLeft=g,u},o=u=>e.includes(u),s=(u,f)=>new Promise((h,g)=>{f={onFailedAttempt:()=>{},retries:10,...f};const O=i.operation(f);O.attempt(async A=>{try{h(await u(A))}catch(N){if(!(N instanceof Error)){g(new TypeError(`Non-error was thrown: "${N}". You should only throw errors.`));return}if(N instanceof t)O.stop(),g(N.originalError);else if(N instanceof TypeError&&!o(N.message))O.stop(),g(N);else{n(N,A,f);try{await f.onFailedAttempt(N)}catch(C){g(C);return}O.retry(N)||g(O.mainError())}}})});return pi.exports=s,pi.exports.default=s,pi.exports.AbortError=t,pi.exports}var Eo,mc;function Op(){if(mc)return Eo;mc=1;function i(e,t){this.depth=e,this.callback=t,this.curHeight=null,this.buffer=[],this.add=n=>{const o=n.header,s=o.height;if(this.curHeight==null)this.buffer[0]={header:{hash:o.parent}},this.buffer[1]=n,this.curHeight=s-1;else{if(s<=this.curHeight)throw`HeaderBuffer: confirmation depth violation: block at height ${s} got orphaned`;{const u=s-this.curHeight,f=this.buffer[u-1].header.hash;if(o.parent!==f)throw`HeaderBuffer: inconsistent chain at height ${s}. Parent ${f} doesn't match expected value ${o.parent}`;this.buffer[u]=n}}for(;this.buffer.length-1>e;){this.buffer.shift();const u=this.buffer[0];if(this.curHeight+=1,u)this.callback(u);else throw`HeaderBuffer: missing block at height ${this.curHeight}`}}}return Eo=i,Eo}var So,xc;function Pp(){if(xc)return So;xc=1;const i=jd(),e=dl(),t=_p(),n=Cp(),o=Op(),s=_e=>JSON.parse(i.decode(_e));class u extends Error{constructor(ye){const b=`Request ${ye.url} failed with ${ye.status}, ${ye.statusText}`;super(b),this.response=ye}}const f=async(_e,ye)=>{_e={onFailedAttempt:q=>console.log("failed fetch attempt:",q.message),retries:2,minTimeout:500,randomize:!0,retry404:!1,..._e};const b=_e.retry404;return await n(async()=>{const q=await ye();if(q.status==200)return q;throw q.status==404&&b?new u(q):q.status==408?new u(q):q.status==423?new u(q):q.status==425?new u(q):q.status==429?new u(q):q.status==500?new u(q):q.status==502?new u(q):q.status==503?new u(q):q.status==504?new u(q):q.status==204?new n.AbortError(new u(q)):new n.AbortError(new u(q))},_e)},h=(_e="mainnet01",ye="https://api.chainweb.com",b)=>new URL(`${ye}/chainweb/0.0/${_e}/${b}`),g=(_e,ye,b,T)=>{if(_e==null)throw new Error("missing chainId parameter");return h(ye,b,`chain/${_e}/${T}`)},O=async function*(_e,ye){let b=null,T=0;do{const q=ye?ye-T:null,G=await _e(b,q);b=G.next,T+=G.limit,yield G.items}while(b&&(!ye||T<ye))},A=async(_e,ye)=>{const b=O(_e,ye);let T=[];for await(p of b)T.unshift(p.reverse());return T.flat()},N=async(_e,ye,b)=>(await f(b,()=>e(h(_e,ye,"cut")))).json(),C=async(_e,ye,b)=>(await f(b,()=>e(h(_e,ye,"cut/peer")))).json(),R=async(_e,ye,b)=>(await C(_e,ye,b)).items.reverse(),k=async(_e,ye,b,T,q,G,V,X,ue,P,D)=>{X=X||"json";var z="";switch(X){case"json":z="application/json;blockheader-encoding=object";break;case"binary":z="application/json";break;default:throw new Error(`Unsupported header format ${X}. Supported values are 'json' and 'binary'.`)}let Y=g(_e,ue,P,"header/branch");T!=null&&Y.searchParams.append("minheight",T),q!=null&&Y.searchParams.append("maxheight",q),G!=null&&Y.searchParams.append("limit",G),V!=null&&Y.searchParams.append("next",V);const ge={upper:ye,lower:b};return(await f(D,()=>e(Y,{method:"post",body:JSON.stringify(ge),headers:{"Content-Type":"application/json",Accept:z}}))).json()},_=async(_e,ye,b,T,q,G,V,X,ue,P)=>await A((D,z)=>k(_e,ye,b,T,q,z,D,V,X,ue,P),G),m=async(_e,ye,b,T,q,G,V)=>{const X=await N(G,V);return await _(_e,[X.hashes[`${_e}`].hash],[],ye,b,T,q,G,V)},E=async(_e,ye,b,T,q,G)=>{b=b||"json";const V=g(_e,T,q,"payload/outputs/batch");let ue=await(await f(G,()=>e(V,{method:"post",body:JSON.stringify(ye),headers:{"Content-Type":"application/json"}}))).json();if(b=="json")return ue.map(P=>{const D=P.transactions;return P.minerData=s(P.minerData),P.coinbase=s(P.coinbase),P.transactions=D.map(z=>{const Y=s(z[0]),ge=s(z[1]);return Y.cmd=JSON.parse(Y.cmd),{transaction:Y,output:ge}}),P});if(b=="base64")return x;throw new Error(`Unsupported format '${b}'. Supported formats are 'json' (default) and 'base64'`)},B=(_e,ye,b)=>{const T=h(ye,b,"header/updates"),q=new t(`${T}`);return q.onerror=G=>{throw G},q.addEventListener("BlockHeader",G=>_e(JSON.parse(G.data))),q},M=(_e,ye,b,T,q)=>{let G={};return ye.forEach(V=>G[V]=new o(_e,b)),B(V=>G[V.header.chainId]==null||G[V.header.chainId].add==null?void 0:G[V.header.chainId].add(V),T,q)},S=async(_e,ye,b,T,q)=>await m(_e,ye,b,null,"json",T,q),j=async(_e,ye=0,b=1,T,q)=>{const G=await N(T,q),V=G.hashes[0].height-ye-b+1,X=G.hashes[0].height-ye,ue=G.hashes[`${_e}`].hash;return await _(_e,[ue],[],V,X,b,"json",T,q)},U=(_e,ye,b,T,q)=>M(_e,ye,G=>b(G.header),T,q),re=async(_e,ye,b,T)=>(await _(_e,[ye],[],null,null,1,null,b,T,null))[0],me=async(_e,ye,b,T)=>(await S(_e,ye,ye,b,T))[0],ne=async(_e,ye,b,T)=>{let q=_e;const G=[];for(;q.length>0;){const V=_e[0].chainId,X=await E(V,_e.map(P=>P.payloadHash),"json",ye,b,T);if(X.length===0)throw new Error(`failed to get payloads for some headers. Missing ${q.map(P=>({hash:P.hash,height:P.height}))}`);const ue=X.reduce((P,D)=>(P[D.payloadHash]=D,P),{});q=q.filter((P,D)=>{const z=ue[P.payloadHash];return z?(G.push({header:P,payload:z}),!1):!0})}return G},Pe=async(_e,ye,b,T,q)=>{let G=await S(_e,ye,b,T,q);return ne(G,T,q)},ce=async(_e,ye=0,b=1,T,q)=>{let G=await j(_e,ye,b,T,q),V={};return ye<=1&&(V={retry404:!0,minTimeout:1e3}),ne(G,T,q,V)},et=(_e,ye,b,T,q)=>{const G=_e>1?{}:{retry404:!0,minTimeout:1e3};return U(_e,ye,X=>{ne([X],T,q,G).then(ue=>b(ue[0])).catch(ue=>console.log(ue))},T,q)},te=async(_e,ye,b,T)=>{const q=await re(_e,ye,b,T);return(await ne([q],b,T))[0]},Oe=async(_e,ye,b,T)=>(await Pe(_e,ye,ye,b,T))[0],ke=_e=>_e.filter(ye=>ye.payload.transactions.length>0).flatMap(ye=>{let b=ye.payload.transactions;return b.forEach(T=>T.height=ye.header.height),b}),De=async(_e,ye,b,T,q)=>{const G=await Pe(_e,ye,b,T,q);return ke(G)},J=async(_e,ye=0,b=1,T,q)=>{const G=await ce(_e,ye,b,T,q);return ke(G)},de=(_e,ye,b,T,q)=>{const G=_e>1?{}:{retry404:!0,minTimeout:1e3};return M(_e,ye,X=>{X.txCount>0&&ne([X.header],T,q,G).then(ue=>ke(ue).forEach(b)).catch(ue=>console.log(ue))},T,q)},pe=async(_e,ye,b,T)=>{const q=await te(_e,ye,b,T);return ke([q])},Ae=async(_e,ye,b,T)=>De(_e,ye,ye,b,T),Fe=_e=>_e.filter(ye=>ye.payload.transactions.length>0).flatMap(ye=>ye.payload.transactions.flatMap(b=>{let T=b.output.events?b.output.events:[];return T.forEach(q=>q.height=ye.header.height),T})),Ee=async(_e,ye,b,T,q)=>{const G=await Pe(_e,ye,b,T,q);return Fe(G)};return So={ResponseError:u,cut:{current:N,peers:R},header:{range:S,recent:j,stream:U,height:me,blockHash:re},block:{range:Pe,recent:ce,stream:et,height:Oe,blockHash:te},transaction:{range:De,recent:J,stream:de,height:Ae,blockHash:pe},event:{range:Ee,recent:async(_e,ye=0,b=1,T,q)=>{const G=await ce(_e,ye,b,T,q);return Fe(G)},stream:(_e,ye,b,T,q)=>{const G=_e>1?{}:{retry404:!0,minTimeout:1e3};return M(_e,ye,X=>{X.txCount>0&&ne([X.header],T,q,G).then(ue=>Fe(ue).forEach(b)).catch(ue=>console.log(ue))},T,q)},height:async(_e,ye,b,T)=>Ee(_e,ye,ye,b,T),blockHash:async(_e,ye,b,T)=>{const q=await te(_e,ye,b,T);return Fe([q])}},internal:{branchPage:k,branch:_,currentBranch:m,payloads:E,cutPeerPage:C}},So}var Ao,wc;function Rp(){return wc||(wc=1,Ao=Pp()),Ao}var Co,bc;function Tp(){if(bc)return Co;bc=1;const i=Lc(),e=Md(),t=dl(),n=Rp();function o(P){var D=P.constructor.name||null;if(D!=="Uint8Array")throw new TypeError("Expected Uint8Array");return Buffer.from(P).toString("hex")}function s(P){if(typeof P!="string")throw new TypeError("Expected string: "+P);return new Uint8Array(Buffer.from(P,"hex"))}var u=function(){var P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function D(ge){this.message=ge}D.prototype=new Error,D.prototype.name="InvalidCharacterError";function z(ge){for(var je=String(ge),He,ut,lt=0,_t=P,I="";je.charAt(lt|0);I+=_t.charAt(63&He>>8-lt%1*8)){if(ut=je.charCodeAt(lt+=3/4),ut>255)throw new D("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");He=He<<8|ut}return I}function Y(ge){var je=String(ge).replace(/[=]+$/,"");if(je.length%4===1)throw new D("'atob' failed: The string to be decoded is not correctly encoded.");for(var He=0,ut,lt,_t=0,I="";lt=je.charAt(_t++);~lt&&(ut=He%4?ut*64+lt:lt,He++%4)?I+=String.fromCharCode(255&ut>>(-2*He&6)):0)lt=P.indexOf(lt);return I}return{encode:z,decode:Y}}();function f(P){var D,z=new Uint8Array(P.length);for(D=0;D<P.length;D++)z[D]=P.charCodeAt(D);return z}function h(P){return String.fromCharCode.apply(null,new Uint16Array(P))}function g(P){return f(u.decode(P))}function O(P){return u.encode(h(P))}function A(P){return i.blake2b(P,null,32)}function N(P){return O(A(P))}var C=function(){var P=e.sign.keyPair(),D=o(P.publicKey),z=o(P.secretKey).slice(0,64);return{publicKey:D,secretKey:z}},R=function(P){if(!P)throw new Error("seed for KeyPair generation not provided");if(P.length!==64)throw new Error("Seed for KeyPair generation has bad size");var D=s(P),z=e.sign.keyPair.fromSeed(D),Y=o(z.publicKey),ge=o(z.secretKey).slice(0,64);return{publicKey:Y,secretKey:ge}},k=function(P){if(!P.hasOwnProperty("publicKey")||!P.hasOwnProperty("secretKey"))throw new TypeError("Invalid KeyPair: expected to find keys of name 'secretKey' and 'publicKey': "+JSON.stringify(P));return s(P.secretKey+P.publicKey)},_=function(P,D){var z=A(P),Y=O(z);return D.length===0?[{hash:Y,sig:void 0}]:D.map(ge=>ge.hasOwnProperty("publicKey")&&ge.publicKey&&ge.hasOwnProperty("secretKey")&&ge.secretKey?m(P,ge):{hash:Y,sig:void 0,publicKey:ge.publicKey})},m=function(P,D){if(!D.hasOwnProperty("publicKey")||!D.hasOwnProperty("secretKey"))throw new TypeError("Invalid KeyPair: expected to find keys of name 'secretKey' and 'publicKey': "+JSON.stringify(D));var z=A(P),Y=O(z),ge=e.sign.detached(z,k(D));return{hash:Y,sig:o(ge),pubKey:D.publicKey}},E=function(P,D){if(!D.hasOwnProperty("publicKey")||!D.hasOwnProperty("secretKey"))throw new TypeError("Invalid KeyPair: expected to find keys of name 'secretKey' and 'publicKey': "+JSON.stringify(D));var z=g(P),Y=e.sign.detached(z,k(D));return{hash:P,sig:o(Y),pubKey:D.publicKey}},B=function(P,D,z){return e.sign.detached.verify(A(P),s(D),s(z))},M=function(P){if(!P.hasOwnProperty("sig"))throw new TypeError("Expected to find keys of name 'sig' in "+JSON.stringify(P));return{sig:P.sig}},S=function(P){for(var D=P[0].hash,z=1;z<P.length;z++)if(P[z].hash!==D)throw new Error("Sigs for different hashes found: "+JSON.stringify(P));return D},j=function(P=[],D=new Date().toISOString(),z,Y,ge=pe("","",0,0,0,0),je=null){ce(D,"string","nonce"),ce(z,"string","pactCode");var He=Pe(P),ut=He.map(ne),lt={networkId:je,payload:{exec:{data:Y||{},code:z}},signers:ut,meta:ge,nonce:JSON.stringify(D)},_t=JSON.stringify(lt),I=_(_t,He);return re(I,_t)},U=function(P=[],D=new Date().toISOString(),z,Y,ge,je,He,ut=pe("","",0,0,0,0),lt=null){ce(D,"string","nonce");var _t=Pe(P),I=_t.map(ne),y={networkId:lt,payload:{cont:{proof:z||null,pactId:Y,rollback:ge,step:je,data:He||{}}},signers:I,meta:ut,nonce:JSON.stringify(D)},v=JSON.stringify(y),$=_(v,_t);return re($,v)},re=function(P,D){return et(P,"sigs"),ce(D,"string","cmd"),{hash:S(P),sigs:P.filter(z=>z.sig).map(M),cmd:D}},me=function(P){return{cmds:Pe(P)}},ne=function(P){return P.clist?{clist:Pe(P.clist),pubKey:P.publicKey}:{pubKey:P.publicKey}},Pe=function(P){return Array.isArray(P)?P:[P]},ce=function(P,D,z){if(typeof P!==D)throw new TypeError(z+" must be a "+D+": "+JSON.stringify(P))},et=function(P,D){if(!Array.isArray(P))throw new TypeError(D+" must be an array: "+JSON.stringify(P))},te=function(P,D,z,Y,ge,je){return me(j(P,D,z,Y,ge,je))},Oe=function(P,D,z,Y,ge,je,He,ut,lt){return me(U(P,D,ut,Y,ge,z,je,He,lt))},ke=function(P){for(var D={},z=[],Y=0;Y<P.length;Y++)D[P[Y]]||(D[P[Y]]=!0,z.push(P[Y]));return z},De=function(P){var D=P.cmds||TypeError("expected key 'cmds' in object: "+JSON.stringify(P)),z=[];if(D.every(function(Y){return Y.hasOwnProperty("hash")}))z=ke(D.map(function(Y){return Y.hash}));else throw new TypeError('maleformed object, expected "hash" key in every cmd: '+JSON.stringify(P));return{requestKeys:z}},J=function(P){var D=P.cmds||TypeError("expected key 'cmds' in object: "+JSON.stringify(P)),z=[];if(D.every(function(Y){return Y.hasOwnProperty("hash")}))z=ke(D.map(function(Y){return Y.hash}));else throw new TypeError('maleformed object, expected "hash" key in every cmd: '+JSON.stringify(P));return{listen:z[0]}},de=function(P){return ce(P,"string","pgmName"),"("+P+" "+Array.prototype.slice.call(arguments,1).map(JSON.stringify).join(" ")+")"},pe=function(P,D,z,Y,ge,je){return ce(P,"string","sender"),ce(D,"string","chainId"),ce(z,"number","gasPrice"),ce(Y,"number","gasLimit"),ce(ge,"number","creationTime"),ce(je,"number","ttl"),{creationTime:ge,ttl:je,gasLimit:Y,chainId:D,gasPrice:z,sender:P}},Ae=function(P){return{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(P)}},Fe=async function(P){const D=await P;return(await D).ok?await D.json():await D.text()};const Ee=async function(P,D){let z=oe(P,D);return Fe(z)},oe=function(P,D){if(!D)throw new Error("Pact.fetch.send(): No apiHost provided");const z=Pe(P).map(Y=>Y.type==="cont"?U(Y.keyPairs,Y.nonce,Y.proof,Y.pactId,Y.rollback,Y.step,Y.envData,Y.meta,Y.networkId):j(Y.keyPairs,Y.nonce,Y.pactCode,Y.envData,Y.meta,Y.networkId));return t(`${D}/api/v1/send`,Ae(me(z)))},be=async function(P,D){let z=Be(P,D);return Fe(z)},Be=function(P,D){if(!D)throw new Error("Pact.fetch.spv(): No apiHost provided");return ce(P.targetChainId,"string","targetChainId"),ce(P.requestKey,"string","requestKey"),t(`${D}/spv`,Ae(P))},ft=async function(P,D){let z=_e(P,D);return Fe(z)},_e=function(P,D){if(!D)throw new Error("Pact.fetch.local(): No apiHost provided");const{keyPairs:z,nonce:Y,pactCode:ge,envData:je,meta:He,networkId:ut}=P,lt=j(z,Y,ge,je,He,ut);return t(`${D}/api/v1/local`,Ae(lt))},ye=async function(P,D){let z=b(P,D);return Fe(z)},b=function(P,D){if(!D)throw new Error("Pact.fetch.poll(): No apiHost provided");return t(`${D}/api/v1/poll`,Ae(P))},T=async function(P,D){let z=q(P,D);return Fe(z)},q=function(P,D){if(!D)throw new Error("Pact.fetch.listen(): No apiHost provided");return t(`${D}/api/v1/listen`,Ae(P))};var G=function(P,D,z,Y=[]){return ce(P,"string","role"),ce(D,"string","description"),ce(z,"string","name of capability"),ce(Y,"object","arguments to capability"),{role:P,description:D,cap:{name:z,args:Y}}};const V=async function(P){let D=X(P);return(await Fe(D)).body},X=function(P){if(!P.pactCode)throw new Error("Pact.wallet.sign(): No Pact Code provided");if(!P.caps)throw new Error("Pact.wallet.sign(): No Caps provided");ce(P.pactCode,"string","pactCode"),ce(P.caps,"object","caps"),P.envData&&ce(P.envData,"object","envData"),P.sender&&ce(P.sender,"string","sender"),P.chainId&&ce(P.chainId,"string","chainId"),P.gasPrice&&ce(P.gasPrice,"number","gasPrice"),P.gasLimit&&ce(P.gasLimit,"number","gasLimit"),P.nonce&&ce(P.nonce,"string","nonce"),P.ttl&&ce(P.ttl,"number","ttl"),P.networkId&&ce(P.networkId,"string","networkId"),P.signingPubKey&&ce(P.signingPubKey,"string","signingPubKey");const D={code:P.pactCode,caps:Pe(P.caps),data:P.envData,sender:P.sender,chainId:P.chainId,gasLimit:P.gasLimit,gasPrice:P.gasPrice,nonce:P.nonce,ttl:P.ttl,signingPubKey:P.signingPubKey,networkId:P.networkId};return t("http://127.0.0.1:9467/v1/sign",Ae(D))},ue=async function(P,D){const z={cmds:[P]};return await(await t(`${D}/api/v1/send`,Ae(z))).json()};return Co={crypto:{binToHex:o,hexToBin:s,base64UrlEncode:u.encode,base64UrlDecode:u.decode,base64UrlEncodeArr:O,base64UrlDecodeArr:g,strToUint8Array:f,uint8ArrayToStr:h,hash:N,hashBin:A,genKeyPair:C,restoreKeyPairFromSecretKey:R,sign:m,signHash:E,verifySig:e.sign.detached.verify,verifySignature:B,toTweetNaclSecretKey:k},api:{prepareContCmd:U,prepareExecCmd:j,mkSingleCmd:re,mkPublicSend:me},lang:{mkExp:de,mkMeta:pe,mkCap:G},simple:{cont:{createCommand:Oe},exec:{createCommand:te,createLocalCommand:j,createPollRequest:De,createListenRequest:J}},fetch:{send:Ee,local:ft,poll:ye,listen:T,spv:be},wallet:{sign:V,sendSigned:ue},cut:{current:n.cut.current},event:{range:n.event.range,recent:n.event.recent,stream:n.event.stream,height:n.event.height,blockHash:n.event.blockHash}},Co}var Ip=Tp();const rs=Lo(Ip),Np="https://api.testnet.chainweb.com/chainweb/0.0",Bp="testnet04";async function El(i,e,t=Bp){const n=`${Np}/${t}/chain/${e}/pact`;return rs.fetch.local(i,n)}async function qp(i,e){var s;const t="testnet04",n={pactCode:`(coin.get-balance "${i}")`,envData:{},meta:rs.lang.mkMeta(i,e,1e-8,1e3,Math.floor(Date.now()/1e3),28800),networkId:t};return((s=(await El(n,e,t)).result)==null?void 0:s.data)??0}const Up=[{name:"Preset 1",content:"{}"},{name:"Preset 2",content:"{}"},{name:"Preset 3",content:"{}"}];function _c(i){const e={networkId:i.networkId,payload:{exec:{code:i.pactCode,data:i.envData||{}}},meta:i.meta,signers:Array.isArray(i.signers)?i.signers:[],nonce:i.nonce||new Date().toISOString()};return xi.createTransaction(e)}function Fp(i,e){return JSON.stringify({pactCode:`(coin.get-balance "${i}")`,envData:{},meta:rs.lang.mkMeta(i,e,1e-8,1e3,Math.floor(Date.now()/1e3),28800),networkId:"testnet04"},null,2)}(async()=>{console.log("🟢 App starting");const i=[],e=await Go.detect();e?(console.log("🟢 Using eckoWALLET adapter"),i.push(e)):console.log("🟡 eckoWALLET not found"),i.push(new Fd);const t=new Cl(i);await t.init(),console.log(`🟢 Connecting using ${t.name}`);try{await t.connect(),console.log("🟢 Connected")}catch(E){console.warn("⚠️ Connect failed, proceeding with accounts detection:",E)}console.log("🔵 Fetching accounts");const n=await t.getAccounts(),o=n[0].account,s=n[0].chainIds;let u=0;try{console.log("🔵 Fetching balances for:",o),u=(await Promise.all(s.map(B=>qp(o,B)))).reduce((B,M)=>B+M,0),console.log("🔵 Total balance:",u)}catch(E){console.error("⚠️ Balance fetch error:",E)}let f=[];try{f=JSON.parse(localStorage.getItem("pactPresets")||"[]")}catch{f=[]}f.length>0&&typeof f[0]=="string"&&(f=f.map((E,B)=>({name:`Preset ${B+1}`,content:E}))),f.length===0&&(f=[...Up]),(!f[0].content||f[0].content.includes("(coin.get-balance")||f[0].content.trim()==="{}")&&(f[0].content=Fp(o,s[0])),localStorage.setItem("pactPresets",JSON.stringify(f));const h=()=>localStorage.setItem("pactPresets",JSON.stringify(f));let g=0;document.getElementById("app").innerHTML=`
    <p><strong>Connected with:</strong> ${t.name}</p>
    <p><strong>Account:</strong> ${o}</p>
    <p><strong>Total Balance:</strong> ${u}</p>
    <div id="tabs"></div>
    <div id="mainRow">
      <div id="leftPane">
        <div id="editor"></div>
        <div id="buttonRow">
          <button id="signBtn">Sign</button>
          <button id="submitBtn">Local</button>
        </div>
        <pre id="signed"></pre>
      </div>
      <div id="rightPane">
        <pre id="response"></pre>
      </div>
    </div>
  `;const O=document.getElementById("tabs"),A=ace.edit("editor");A.setTheme("ace/theme/monokai"),A.session.setMode("ace/mode/json");const N=()=>{O.innerHTML="",f.forEach((B,M)=>{const S=document.createElement("button");S.className="tab"+(M===g?" active":""),S.setAttribute("draggable","true");const j=document.createElement("span");j.className="label",j.textContent=B.name,j.addEventListener("dblclick",re=>{re.stopPropagation();const me=prompt("Rename tab",B.name);me&&(B.name=me,h(),N())});const U=document.createElement("span");U.className="close",U.textContent="×",U.addEventListener("click",re=>{re.stopPropagation(),f.splice(M,1),f.length===0?(f.push({name:"Preset 1",content:""}),g=0):g>=f.length&&(g=f.length-1),A.setValue(f[g].content,-1),h(),N()}),S.addEventListener("click",()=>{f[g].content=A.getValue(),g=M,A.setValue(f[g].content,-1),N()}),S.addEventListener("dragstart",re=>{var me;(me=re.dataTransfer)==null||me.setData("text/plain",String(M))}),S.addEventListener("dragover",re=>{re.preventDefault()}),S.addEventListener("drop",re=>{var Pe;re.preventDefault();const me=parseInt(((Pe=re.dataTransfer)==null?void 0:Pe.getData("text/plain"))||"",10);if(isNaN(me)||me===M)return;const ne=f.splice(me,1)[0];f.splice(M,0,ne),g===me?g=M:me<g&&M>=g?g--:me>g&&M<=g&&g++,h(),N()}),S.appendChild(j),S.appendChild(U),O.appendChild(S)});const E=document.createElement("button");E.id="addTab",E.textContent="+",E.className="tab",E.addEventListener("click",()=>{f.push({name:`Preset ${f.length+1}`,content:""}),g=f.length-1,h(),A.setValue("",-1),N()}),O.appendChild(E)};N(),A.setValue(f[g].content,-1),A.session.on("change",()=>{f[g]&&(f[g].content=A.getValue(),h()),m().catch(()=>{})});const C=document.getElementById("submitBtn"),R=document.getElementById("signBtn"),k=document.getElementById("response"),_=document.getElementById("signed");async function m(){try{const E=JSON.parse(A.getValue()),B=await t.getPublicKey();E.signers=[{pubKey:B,clist:[{name:"coin.GAS",args:[]}]}];const M=_c(E);_.textContent=JSON.stringify(M,null,2)}catch(E){alert(`Erro ao gerar preview: ${E.message}`)}}C.addEventListener("click",async()=>{var S;const E=A.getValue().trim();let B;try{B=JSON.parse(E)}catch(j){k.textContent=`Invalid JSON: ${j}`;return}if(!B.networkId||!/^testnet/i.test(B.networkId)){k.textContent="Error: commands are allowed only on the testnet";return}const M=((S=B.meta)==null?void 0:S.chainId)||s[0];try{const j=await El(B,M,B.networkId);k.textContent=JSON.stringify(j,null,2)}catch(j){k.textContent=`Error executing command: ${j}`}}),R.addEventListener("click",async()=>{try{const E=JSON.parse(A.getValue()),B=await t.getPublicKey();E.signers=[{pubKey:B,clist:[{name:"coin.GAS",args:[]}]}];const M=_c(E),S=await t.signTransaction(M);_.textContent=JSON.stringify(S,null,2)}catch(E){alert(`Erro de assinatura: ${E.message}`)}}),m()})();
